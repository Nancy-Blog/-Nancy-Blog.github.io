console.log('非源码，仅用作演示。下载源码请访问：HTTP://WWW.Bootstrapmb.com');console.log('非源码，仅用作演示。下载源码请访问：HTTP://WWW.Bootstrapmb.com');(function e$$0(f,e,b){function a(g,h){if(!e[g]){if(!f[g]){var i="function"==typeof require&&require;if(!h&&i){return i(g,!0)}if(d){return d(g,!0)}throw Error("Cannot find module '"+g+"'")}i=e[g]={exports:{}};f[g][0].call(i.exports,function(k){var j=f[g][1][k];return a(j?j:k)},i,i.exports,e$$0,f,e,b)}return e[g].exports}for(var d="function"==typeof require&&require,c=0;c<b.length;c++){a(b[c])}return a})({1:[function(a,c,b){c={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var d=new XMLHttpRequest;d.open("GET",e,!1);d.overrideMimeType&&d.overrideMimeType("text/plain");d.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");d.send(null);if(200!==d.status&&0!==d.status){throw"XMLHttpRequest failed, status code "+d.status}return d.responseText}};window.Processing=a("./src/")(c)},{"./src/":27}],2:[function(a,c,b){c.exports={name:"Processing.js",version:"1.4.7",dependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3"},devDependencies:{grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"}}},{}],3:[function(a,c,b){c.exports=function(e){if(e instanceof Array){var d=-1;this.hasNext=function(){return ++d<e.length};this.next=function(){return e[d]}}else{if(e.iterator instanceof Function){return e.iterator()}throw"Unable to iterate: "+e}}},{}],4:[function(a,c,b){c.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:0.0001,MAX_FLOAT:3.4028235e+38,MIN_FLOAT:-3.4028235e+38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\f\u00a0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}},{}],5:[function(a,c,b){c.exports=function(f){function e(){}function i(g,k,j){if(g.hasOwnProperty(k)&&"function"===typeof g[k]){var l=g[k];if("$overloads" in l){l.$defaultOverload=j}else{if("$overloads" in j||l.length!==j.length){var n;"$overloads" in j?(n=j.$overloads.slice(0),n[l.length]=l,l=j.$defaultOverload):(n=[],n[j.length]=j,n[l.length]=l);var o=function(){return(o.$overloads[arguments.length]||("$methodArgsIndex" in o&&arguments.length>o.$methodArgsIndex?o.$overloads[o.$methodArgsIndex]:null)||o.$defaultOverload).apply(this,arguments)};o.$overloads=n;"$methodArgsIndex" in j&&(o.$methodArgsIndex=j.$methodArgsIndex);o.$defaultOverload=l;o.name=k;g[k]=o}}}else{g[k]=j}}function h(g,k){function j(m){d.defineProperty(g,m,{get:function(){return k[m]},set:function(o){k[m]=o},enumerable:!0})}var l=[],n;for(n in k){"function"===typeof k[n]?i(g,n,k[n]):"$"===n.charAt(0)||n in g||l.push(n)}for(;0<l.length;){j(l.shift())}g.$super=k}e.prototype=f.PConstants;var d=new e;Object.keys(f).forEach(function(g){d[g]=f[g]});d.defineProperty=function(g,k,j){"defineProperty" in Object?Object.defineProperty(g,k,j):(j.hasOwnProperty("get")&&g.__defineGetter__(k,j.get),j.hasOwnProperty("set")&&g.__defineSetter__(k,j.set))};d.extendClassChain=function(g){for(var k=[g],j=g.$upcast;j;j=j.$upcast){h(j,g),k.push(j),g=j}for(;0<k.length;){k.pop().$self=g}};d.extendStaticMembers=function(g,j){h(g,j)};d.extendInterfaceMembers=function(g,j){h(g,j)};d.addMethod=function(j,n,k,q){var s=j[n];if(s||q){var t=k.length;if("$overloads" in s){s.$overloads[t]=k}else{var l=function(){return(l.$overloads[arguments.length]||("$methodArgsIndex" in l&&arguments.length>l.$methodArgsIndex?l.$overloads[l.$methodArgsIndex]:null)||l.$defaultOverload).apply(this,arguments)},o=[];s&&(o[s.length]=s);o[t]=k;l.$overloads=o;l.$defaultOverload=s||k;q&&(l.$methodArgsIndex=t);l.name=n;j[n]=l}}else{j[n]=k}};d.createJavaArray=function(g,k){var j=null,l=null;if("string"===typeof g){if("boolean"===g){l=!1}else{var n;n="string"!==typeof g?!1:-1!=="byte int char color float long double".split(" ").indexOf(g);n&&(l=0)}}if("number"===typeof k[0]){if(n=0|k[0],1>=k.length){j=[];j.length=n;for(var o=0;o<n;++o){j[o]=l}}else{for(j=[],l=k.slice(1),o=0;o<n;++o){j.push(d.createJavaArray(g,l))}}}return j};d.defineProperty(d,"screenWidth",{get:function(){return window.innerWidth}});d.defineProperty(d,"screenHeight",{get:function(){return window.innerHeight}});return d}},{}],6:[function(a,c,b){c.exports=function(o,j){var s=j.window,q=j.document,d=s.XMLHttpRequest,f=j.noop,i=j.isDOMPresent,h=j.version;o.version=h?h:"@DEV-VERSION@";o.lib={};o.registerLibrary=function(e,g){o.lib[e]=g;g.hasOwnProperty("init")&&g.init(defaultScope)};o.Sketch=function(e){this.attachFunction=e;this.options={pauseOnBlur:!1,globalKeyEvents:!1};this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=f;this.params={};this.imageCache={pending:0,images:{},operaCache:{},add:function(l,k){if(!this.images[l]&&(i||(this.images[l]=null),k||(k=new Image,k.onload=function(m){return function(){m.pending--}}(this),this.pending++,k.src=l),this.images[l]=k,s.opera)){var g=q.createElement("div");g.appendChild(k);g.style.position="absolute";g.style.opacity=0;g.style.width="1px";g.style.height="1px";this.operaCache[l]||(q.body.appendChild(g),this.operaCache[l]=g)}}};this.sourceCode=void 0;this.attach=function(k){if("function"===typeof this.attachFunction){this.attachFunction(k)}else{if(this.sourceCode){var g=(new Function("return ("+this.sourceCode+");"))();g(k);this.attachFunction=g}else{throw"Unable to attach sketch to the processing instance"}}};this.toString=function(){var l,k;k="((function(Sketch) {\n"+("var sketch = new Sketch(\n"+this.sourceCode+");\n");for(l in this.options){if(this.options.hasOwnProperty(l)){var g=this.options[l];k+="sketch.options."+l+" = "+("string"===typeof g?'"'+g+'"':""+g)+";\n"}}for(l in this.imageCache){this.options.hasOwnProperty(l)&&(k+='sketch.imageCache.add("'+l+'");\n')}return k+"return sketch;\n})(Processing.Sketch))"}};var r=o.loadSketchFromSources=function(l,n){function u(m,g){var e=new d;e.onreadystatechange=function(){if(4===e.readyState){var p;200!==e.status&&0!==e.status?p="Invalid XHR status "+e.status:""===e.responseText&&(p="withCredentials" in new d&&!1===(new d).withCredentials&&"file:"===s.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty.");g(e.responseText,p)}};e.open("GET",m,!0);e.overrideMimeType&&e.overrideMimeType("application/json");e.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");e.send(null)}function k(m,e){function p(B,v){y[m]=B;++A;v&&z.push(e+" ==> "+v);if(A===x){if(0===z.length){try{return new o(l,y.join("\n"))}catch(C){throw console.log("Processing.js: Unable to execute pjs sketch."),C}}else{throw"Processing.js: Unable to load pjs sketch files: "+z.join("\n")}}}if("#"===e.charAt(0)){var g=q.getElementById(e.substring(1));g?p(g.text||g.textContent):p("","Unable to load pjs sketch: element with id '"+e.substring(1)+"' was not found")}else{u(e,p)}}for(var y=[],z=[],x=n.length,A=0,w=0;w<x;++w){k(w,n[w])}},t=function(){q.removeEventListener("DOMContentLoaded",t,!1);processingInstances=[];o.instances=processingInstances;for(var m=q.getElementsByTagName("canvas"),n,k=0,p=m.length;k<p;k++){var l=m[k].getAttribute("data-processing-sources");null===l&&(l=m[k].getAttribute("data-src"),null===l&&(l=m[k].getAttribute("datasrc")));if(l){n=l.split(/\s+/g);for(l=0;l<n.length;){n[l]?l++:n.splice(l,1)}r(m[k],n)}}m=q.getElementsByTagName("script");p=[];for(k=m.length-1;0<=k;k--){p.push(m[k])}k=0;for(l=p.length;k<l;k++){if(n=p[k],n.getAttribute&&(m=n.getAttribute("type"))&&("text/processing"===m.toLowerCase()||"application/processing"===m.toLowerCase())){var u=n.getAttribute("data-processing-target"),m=void 0;if(u){m=q.getElementById(u)}else{for(u=n.nextSibling;u&&1!==u.nodeType;){u=u.nextSibling}u&&"canvas"===u.nodeName.toLowerCase()&&(m=u)}m&&(n.getAttribute("src")?(n=n.getAttribute("src").split(/\s+/),r(m,n)):(n=n.textContent||n.text,new o(m,n)))}}};q.addEventListener("DOMContentLoaded",t,!1);o.reload=function(){if(0<processingInstances.length){for(var e=processingInstances.length-1;0<=e;e--){processingInstances[e]&&processingInstances[e].exit()}}t()};o.disableInit=function(){q.removeEventListener("DOMContentLoaded",t,!1)};return o}},{}],7:[function(a,c,b){c.exports=function(e,d){return null===e||null===d?null===e&&null===d:"string"===typeof e||"object"!==typeof e?e===d:e.equals instanceof Function?e.equals(d):e===d}},{}],8:[function(a,c,b){c.exports=function(e,d){if("string"===typeof e){for(var h=0,f=0;f<e.length;++f){h=31*h+e.charCodeAt(f)&4294967295}return h}if("object"!==typeof e){return e&4294967295}if(e.hashCode instanceof Function){return e.hashCode()}e.$id===d&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random()));return e.$id}},{}],9:[function(a,c,b){c.exports=function(e){function d(g){var i=-1;this.hasNext=function(){return i+1<g.length};this.next=function(){return g[++i]};this.remove=function(){g.splice(i--,1)}}function h(g){var i=[];g&&g.toArray&&(i=g.toArray());this.get=function(j){return i[j]};this.contains=function(j){return -1<this.indexOf(j)};this.indexOf=function(j){for(var k=0,l=i.length;k<l;++k){if(f(j,i[k])){return k}}return -1};this.lastIndexOf=function(j){for(var k=i.length-1;0<=k;--k){if(f(j,i[k])){return k}}return -1};this.add=function(){if(1===arguments.length){i.push(arguments[0])}else{if(2===arguments.length){var j=arguments[0];if("number"===typeof j){if(0<=j&&j<=i.length){i.splice(j,0,arguments[1])}else{throw j+" is not a valid index"}}else{throw typeof j+" is not a number"}}else{throw"Please use the proper number of parameters."}}};this.addAll=function(j,k){var l;if("number"===typeof j){if(0>j||j>i.length){throw"Index out of bounds for addAll: "+j+" greater or equal than "+i.length}for(l=new ObjectIterator(k);l.hasNext();){i.splice(j++,0,l.next())}}else{for(l=new ObjectIterator(j);l.hasNext();){i.push(l.next())}}};this.set=function(){if(2===arguments.length){var j=arguments[0];if("number"===typeof j){if(0<=j&&j<i.length){i.splice(j,1,arguments[1])}else{throw j+" is not a valid index."}}else{throw typeof j+" is not a number"}}else{throw"Please use the proper number of parameters."}};this.size=function(){return i.length};this.clear=function(){i.length=0};this.remove=function(j){if("number"===typeof j){return i.splice(j,1)[0]}j=this.indexOf(j);return -1<j?(i.splice(j,1),!0):!1};this.removeAll=function(j){var l,k,m,n=new h;n.addAll(this);this.clear();for(k=l=0;l<n.size();l++){m=n.get(l),j.contains(m)||this.add(k++,m)}return this.size()<n.size()?!0:!1};this.isEmpty=function(){return !i.length};this.clone=function(){return new h(this)};this.toArray=function(){return i.slice(0)};this.iterator=function(){return new d(i)}}var f=e.virtEquals;return h}},{}],10:[function(a,c,b){c.exports=function(e,d){var f=function(g){this.code="string"===typeof g&&1===g.length?g.charCodeAt(0):"number"===typeof g?g:g instanceof f?g:NaN;return e[this.code]===d?e[this.code]=this:e[this.code]};f.prototype.toString=function(){return String.fromCharCode(this.code)};f.prototype.valueOf=function(){return this.code};return f}({})},{}],11:[function(a,c,b){c.exports=function(e){function d(){function g(k){k=h(k)%n.length;return 0>k?n.length+k:k}function i(){if(!(q<=u*n.length)){for(var p=[],k=0;k<n.length;++k){void 0!==n[k]&&(p=p.concat(n[k]))}k=2*n.length;n=[];n.length=k;for(k=0;k<p.length;++k){var r=g(p[k].key),v=n[r];void 0===v&&(n[r]=v=[]);v.push(p[k])}}}function o(w,k){function v(){for(;!z;){if(++y,x>=n.length){z=!0}else{if(void 0===n[x]||y>=n[x].length){y=-1,++x}else{break}}}}var x=0,y=-1,z=!1,A;this.hasNext=function(){return !z};this.next=function(){A=w(n[x][y]);v();return A};this.remove=function(){void 0!==A&&(k(A),--y,v())};v()}function j(m,p,k){this.clear=function(){l.clear()};this.contains=function(r){return p(r)};this.containsAll=function(r){for(r=r.iterator();r.hasNext();){if(!this.contains(r.next())){return !1}}return !0};this.isEmpty=function(){return l.isEmpty()};this.iterator=function(){return new o(m,k)};this.remove=function(r){return this.contains(r)?(k(r),!0):!1};this.removeAll=function(r){for(r=r.iterator();r.hasNext();){var v=r.next();this.contains(v)&&k(v)}return !0};this.retainAll=function(v){for(var w=this.iterator(),r=[];w.hasNext();){var x=w.next();v.contains(x)||r.push(x)}for(v=0;v<r.length;++v){k(r[v])}return 0<r.length};this.size=function(){return l.size()};this.toArray=function(){for(var r=[],v=this.iterator();v.hasNext();){r.push(v.next())}return r}}function s(k){this._isIn=function(m){return m===l&&void 0===k.removed};this.equals=function(m){return f(k.key,m.getKey())};this.getKey=function(){return k.key};this.getValue=function(){return k.value};this.hashCode=function(m){return h(k.key)};this.setValue=function(p){var m=k.value;k.value=p;return m}}if(1===arguments.length&&arguments[0] instanceof d){return arguments[0].clone()}var t=0<arguments.length?arguments[0]:16,u=1<arguments.length?arguments[1]:0.75,n=[];n.length=t;var q=0,l=this;this.clear=function(){q=0;n=[];n.length=t};this.clone=function(){var k=new d;k.putAll(this);return k};this.containsKey=function(m){var k=g(m),k=n[k];if(void 0===k){return !1}for(var p=0;p<k.length;++p){if(f(k[p].key,m)){return !0}}return !1};this.containsValue=function(p){for(var k=0;k<n.length;++k){var m=n[k];if(void 0!==m){for(var r=0;r<m.length;++r){if(f(m[r].value,p)){return !0}}}}return !1};this.entrySet=function(){return new j(function(k){return new s(k)},function(k){return k instanceof s&&k._isIn(l)},function(k){return l.remove(k.getKey())})};this.get=function(m){var k=g(m),k=n[k];if(void 0===k){return null}for(var p=0;p<k.length;++p){if(f(k[p].key,m)){return k[p].value}}return null};this.isEmpty=function(){return 0===q};this.keySet=function(){return new j(function(k){return k.key},function(k){return l.containsKey(k)},function(k){return l.remove(k)})};this.values=function(){return new j(function(k){return k.value},function(k){return l.containsValue(k)},function(k){return l.removeByValue(k)})};this.put=function(k,v){var w=g(k),x=n[w];if(void 0===x){return ++q,n[w]=[{key:k,value:v}],i(),null}for(w=0;w<x.length;++w){if(f(x[w].key,k)){var y=x[w].value;x[w].value=v;return y}}++q;x.push({key:k,value:v});i();return null};this.putAll=function(k){for(k=k.entrySet().iterator();k.hasNext();){var m=k.next();this.put(m.getKey(),m.getValue())}};this.remove=function(p){var k=g(p),r=n[k];if(void 0===r){return null}for(var v=0;v<r.length;++v){if(f(r[v].key,p)){return --q,p=r[v].value,r[v].removed=!0,1<r.length?r.splice(v,1):n[k]=void 0,p}}return null};this.removeByValue=function(r){var k,p,v,w;for(k in n){if(n.hasOwnProperty(k)){for(p=0,v=n[k].length;p<v;p++){if(w=n[k][p],w.value===r){return n[k].splice(p,1),!0}}}}return !1};this.size=function(){return q}}var h=e.virtHashCode,f=e.virtEquals;return d}},{}],12:[function(a,c,b){c.exports=function(f,e){function i(j,q){j===e&&(j="");this.name=j;q===e&&(q=0);this.size=q;this.glyph=!1;this.descent=this.ascent=0;this.leading=1.2*q;var l=j.indexOf(" Italic Bold");-1!==l&&(j=j.substring(0,l));this.style="normal";l=j.indexOf(" Italic");-1!==l&&(j=j.substring(0,l),this.style="italic");this.weight="normal";l=j.indexOf(" Bold");-1!==l&&(j=j.substring(0,l),this.weight="bold");this.family="sans-serif";if(j!==e){switch(j){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=j;break;default:this.family='"'+j+'", sans-serif'}}var l=this.size/250,u=h.createElement("canvas");u.width=500;u.height=500;u.style.opacity=0;var w=this.getCSSDefinition("250px","normal"),x=u.getContext("2d");x.font=w;u.width=x.measureText("dbflkhyjqpg").width;x.font=w;w=h.createElement("div");w.style.position="absolute";w.style.opacity=0;w.style.fontFamily='"'+this.name+'"';w.style.fontSize="250px";w.innerHTML="dbflkhyjqpg<br/>dbflkhyjqpg";h.body.appendChild(w);var o=u.width,t=u.height,u=t/2;x.fillStyle="white";x.fillRect(0,0,o,t);x.fillStyle="black";x.fillText("dbflkhyjqpg",0,u);for(var t=x.getImageData(0,0,o,t).data,v=0,s=4*o,g=t.length;++v<g&&255===t[v];){d()}o=Math.round(v/s);for(v=g-1;0<--v&&255===t[v];){d()}t=Math.round(v/s);this.ascent=l*(u-o);this.descent=l*(t-u);h.defaultView.getComputedStyle&&(u=h.defaultView.getComputedStyle(w,null).getPropertyValue("height"),u=l*u.replace("px",""),u>=2*this.size&&(this.leading=Math.round(u/2)));h.body.removeChild(w);l=this.caching?x:void 0;this.context2d=l;this.css=this.getCSSDefinition();this.context2d&&(this.context2d.font=this.css)}var h=f.Browser.document,d=f.noop;i.prototype.caching=!0;i.prototype.getCSSDefinition=function(g,j){g===e&&(g=this.size+"px");j===e&&(j=this.leading+"px");return[this.style,"normal",this.weight,g+"/"+j,this.family].join(" ")};i.prototype.measureTextWidth=function(g){return this.context2d.measureText(g).width};i.prototype.measureTextWidthFallback=function(g){var j=h.createElement("canvas").getContext("2d");j.font=this.css;return j.measureText(g).width};i.PFontCache={length:0};i.get=function(g,k){k=(10*k+0.5|0)/10;var j=i.PFontCache,l=g+"/"+k;if(!j[l]){j[l]=new i(g,k);j.length++;if(50===j.length){i.prototype.measureTextWidth=i.prototype.measureTextWidthFallback;i.prototype.caching=!1;for(var n in j){"length"!==n&&(j[n].context2d=null)}return new i(g,k)}if(400===j.length){return i.PFontCache={},i.get=i.getFallback,new i(g,k)}}return j[l]};i.getFallback=function(g,j){return new i(g,j)};i.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};i.preloading={template:{},initialized:!1,initialize:function(){var g=h.createElement("style");g.setAttribute("type","text/css");g.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+function(){return"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(j){return"AAAAAAAA".substr(~~j?7-j:6)})}()+"')\n       format('truetype');\n}";h.head.appendChild(g);g=h.createElement("span");g.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;';g.innerHTML="AAAAAAAA";h.body.appendChild(g);this.template=g;this.initialized=!0},getElementWidth:function(g){return h.defaultView.getComputedStyle(g,"").getPropertyValue("width")},timeAttempted:0,pending:function(g){this.initialized||this.initialize();for(var k,j,l=this.getElementWidth(this.template),n=0;n<this.fontList.length;n++){k=this.fontList[n];j=this.getElementWidth(k);if(4000>this.timeAttempted&&j===l){return this.timeAttempted+=g,!0}h.body.removeChild(k);this.fontList.splice(n--,1);this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(g){this.initialized||this.initialize();var k="object"===typeof g?g.fontFace:g;g="object"===typeof g?g.url:g;if(!this.addedList[k]){var j=h.createElement("style");j.setAttribute("type","text/css");j.innerHTML="@font-face{\n  font-family: '"+k+"';\n  src:  url('"+g+"');\n}\n";h.head.appendChild(j);this.addedList[k]=!0;g=h.createElement("span");g.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";g.style.fontFamily='"'+k+'", "PjsEmptyFont", fantasy';g.innerHTML="AAAAAAAA";h.body.appendChild(g);this.fontList.push(g)}}};return i}},{}],13:[function(a,c,b){c.exports=function(e,d){var h=e.p,f=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0] instanceof f?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};f.prototype={set:function(){if(6===arguments.length){var g=arguments;this.set([g[0],g[1],g[2],g[3],g[4],g[5]])}else{1===arguments.length&&arguments[0] instanceof f?this.elements=arguments[0].array():1===arguments.length&&arguments[0] instanceof Array&&(this.elements=arguments[0].slice())}},get:function(){var g=new f;g.set(this.elements);return g},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(g,i){this.elements[2]=g*this.elements[0]+i*this.elements[1]+this.elements[2];this.elements[5]=g*this.elements[3]+i*this.elements[4]+this.elements[5]},invTranslate:function(g,i){this.translate(-g,-i)},transpose:function(){},mult:function(g,i){var k,j;g instanceof PVector?(k=g.x,j=g.y,i||(i=new PVector)):g instanceof Array&&(k=g[0],j=g[1],i||(i=[]));i instanceof Array?(i[0]=this.elements[0]*k+this.elements[1]*j+this.elements[2],i[1]=this.elements[3]*k+this.elements[4]*j+this.elements[5]):i instanceof PVector&&(i.x=this.elements[0]*k+this.elements[1]*j+this.elements[2],i.y=this.elements[3]*k+this.elements[4]*j+this.elements[5],i.z=0);return i},multX:function(g,i){return g*this.elements[0]+i*this.elements[1]+this.elements[2]},multY:function(g,i){return g*this.elements[3]+i*this.elements[4]+this.elements[5]},skewX:function(g){this.apply(1,0,1,g,0,0)},skewY:function(g){this.apply(1,0,1,0,g,0)},shearX:function(g){this.apply(1,0,1,Math.tan(g),0,0)},shearY:function(g){this.apply(1,0,1,0,Math.tan(g),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var g=this.determinant();if(Math.abs(g)>PConstants.MIN_INT){var i=this.elements[0],k=this.elements[1],j=this.elements[2],l=this.elements[3],n=this.elements[4],o=this.elements[5];this.elements[0]=n/g;this.elements[3]=-l/g;this.elements[1]=-k/g;this.elements[4]=i/g;this.elements[2]=(k*o-n*j)/g;this.elements[5]=(l*j-i*o)/g;return !0}return !1},scale:function(g,i){g&&!i&&(i=g);g&&i&&(this.elements[0]*=g,this.elements[1]*=i,this.elements[3]*=g,this.elements[4]*=i)},invScale:function(g,i){g&&!i&&(i=g);this.scale(1/g,1/i)},apply:function(){var g;1===arguments.length&&arguments[0] instanceof f?g=arguments[0].array():6===arguments.length?g=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(g=arguments[0]);for(var i=[0,0,this.elements[2],0,0,this.elements[5]],k=0,j=0;2>j;j++){for(var l=0;3>l;l++,k++){i[k]+=this.elements[3*j+0]*g[l+0]+this.elements[3*j+1]*g[l+3]}}this.elements=i.slice()},preApply:function(){var g;1===arguments.length&&arguments[0] instanceof f?g=arguments[0].array():6===arguments.length?g=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(g=arguments[0]);var i=[0,0,g[2],0,0,g[5]];i[2]=g[2]+this.elements[2]*g[0]+this.elements[5]*g[1];i[5]=g[5]+this.elements[2]*g[3]+this.elements[5]*g[4];i[0]=this.elements[0]*g[0]+this.elements[3]*g[1];i[3]=this.elements[0]*g[3]+this.elements[3]*g[4];i[1]=this.elements[1]*g[0]+this.elements[4]*g[1];i[4]=this.elements[1]*g[3]+this.elements[4]*g[4];this.elements=i.slice()},rotate:function(g){var i=Math.cos(g);g=Math.sin(g);var k=this.elements[0],j=this.elements[1];this.elements[0]=i*k+g*j;this.elements[1]=-g*k+i*j;k=this.elements[3];j=this.elements[4];this.elements[3]=i*k+g*j;this.elements[4]=-g*k+i*j},rotateZ:function(g){this.rotate(g)},invRotateZ:function(g){this.rotateZ(g-Math.PI)},print:function(){var g=printMatrixHelper(this.elements),g=""+h.nfs(this.elements[0],g,4)+" "+h.nfs(this.elements[1],g,4)+" "+h.nfs(this.elements[2],g,4)+"\n"+h.nfs(this.elements[3],g,4)+" "+h.nfs(this.elements[4],g,4)+" "+h.nfs(this.elements[5],g,4)+"\n\n";h.println(g)}};return f}},{}],14:[function(a,c,b){c.exports=function(e,d){var h=e.p,f=function(){this.reset()};f.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof f?this.elements=arguments[0].array():1===arguments.length&&arguments[0] instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var g=new f;g.set(this.elements);return g},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(g,i,j){j===d&&(j=0);this.elements[3]+=g*this.elements[0]+i*this.elements[1]+j*this.elements[2];this.elements[7]+=g*this.elements[4]+i*this.elements[5]+j*this.elements[6];this.elements[11]+=g*this.elements[8]+i*this.elements[9]+j*this.elements[10];this.elements[15]+=g*this.elements[12]+i*this.elements[13]+j*this.elements[14]},transpose:function(){var g=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=g;g=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=g;g=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=g;g=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=g;g=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=g;g=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=g},mult:function(g,i){var k,j,l,n;g instanceof PVector?(k=g.x,j=g.y,l=g.z,n=1,i||(i=new PVector)):g instanceof Array&&(k=g[0],j=g[1],l=g[2],n=g[3]||1,!i||3!==i.length&&4!==i.length)&&(i=[0,0,0]);i instanceof Array&&(3===i.length?(i[0]=this.elements[0]*k+this.elements[1]*j+this.elements[2]*l+this.elements[3],i[1]=this.elements[4]*k+this.elements[5]*j+this.elements[6]*l+this.elements[7],i[2]=this.elements[8]*k+this.elements[9]*j+this.elements[10]*l+this.elements[11]):4===i.length&&(i[0]=this.elements[0]*k+this.elements[1]*j+this.elements[2]*l+this.elements[3]*n,i[1]=this.elements[4]*k+this.elements[5]*j+this.elements[6]*l+this.elements[7]*n,i[2]=this.elements[8]*k+this.elements[9]*j+this.elements[10]*l+this.elements[11]*n,i[3]=this.elements[12]*k+this.elements[13]*j+this.elements[14]*l+this.elements[15]*n));i instanceof PVector&&(i.x=this.elements[0]*k+this.elements[1]*j+this.elements[2]*l+this.elements[3],i.y=this.elements[4]*k+this.elements[5]*j+this.elements[6]*l+this.elements[7],i.z=this.elements[8]*k+this.elements[9]*j+this.elements[10]*l+this.elements[11]);return i},preApply:function(){var g;1===arguments.length&&arguments[0] instanceof f?g=arguments[0].array():16===arguments.length?g=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(g=arguments[0]);for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=0,j=0;4>j;j++){for(var l=0;4>l;l++,k++){i[k]+=this.elements[l+0]*g[4*j+0]+this.elements[l+4]*g[4*j+1]+this.elements[l+8]*g[4*j+2]+this.elements[l+12]*g[4*j+3]}}this.elements=i.slice()},apply:function(){var g;1===arguments.length&&arguments[0] instanceof f?g=arguments[0].array():16===arguments.length?g=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(g=arguments[0]);for(var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=0,j=0;4>j;j++){for(var l=0;4>l;l++,k++){i[k]+=this.elements[4*j+0]*g[l+0]+this.elements[4*j+1]*g[l+4]+this.elements[4*j+2]*g[l+8]+this.elements[4*j+3]*g[l+12]}}this.elements=i.slice()},rotate:function(g,i,k,j){if(k){var l=Math.cos(g);g=Math.sin(g);var n=1-l;this.apply(n*i*i+l,n*i*k-g*j,n*i*j+g*k,0,n*i*k+g*j,n*k*k+l,n*k*j-g*i,0,n*i*j-g*k,n*k*j+g*i,n*j*j+l,0,0,0,0,1)}else{this.rotateZ(g)}},invApply:function(){inverseCopy===d&&(inverseCopy=new f);var g=arguments;inverseCopy.set(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]);if(!inverseCopy.invert()){return !1}this.preApply(inverseCopy);return !0},rotateX:function(g){var i=Math.cos(g);g=Math.sin(g);this.apply([1,0,0,0,0,i,-g,0,0,g,i,0,0,0,0,1])},rotateY:function(g){var i=Math.cos(g);g=Math.sin(g);this.apply([i,0,g,0,0,1,0,0,-g,0,i,0,0,0,0,1])},rotateZ:function(g){var i=Math.cos(g);g=Math.sin(g);this.apply([i,-g,0,0,g,i,0,0,0,0,1,0,0,0,0,1])},scale:function(g,i,j){!g||i||j?g&&(i&&!j)&&(j=1):i=j=g;g&&(i&&j)&&(this.elements[0]*=g,this.elements[1]*=i,this.elements[2]*=j,this.elements[4]*=g,this.elements[5]*=i,this.elements[6]*=j,this.elements[8]*=g,this.elements[9]*=i,this.elements[10]*=j,this.elements[12]*=g,this.elements[13]*=i,this.elements[14]*=j)},skewX:function(g){g=Math.tan(g);this.apply(1,g,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(g){g=Math.tan(g);this.apply(1,0,0,0,g,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(g){g=Math.tan(g);this.apply(1,g,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(g){g=Math.tan(g);this.apply(1,0,0,0,g,1,0,0,0,0,1,0,0,0,0,1)},multX:function(g,i,k,j){return k?j?this.elements[0]*g+this.elements[1]*i+this.elements[2]*k+this.elements[3]*j:this.elements[0]*g+this.elements[1]*i+this.elements[2]*k+this.elements[3]:this.elements[0]*g+this.elements[1]*i+this.elements[3]},multY:function(g,i,k,j){return k?j?this.elements[4]*g+this.elements[5]*i+this.elements[6]*k+this.elements[7]*j:this.elements[4]*g+this.elements[5]*i+this.elements[6]*k+this.elements[7]:this.elements[4]*g+this.elements[5]*i+this.elements[7]},multZ:function(g,i,k,j){return j?this.elements[8]*g+this.elements[9]*i+this.elements[10]*k+this.elements[11]*j:this.elements[8]*g+this.elements[9]*i+this.elements[10]*k+this.elements[11]},multW:function(g,i,k,j){return j?this.elements[12]*g+this.elements[13]*i+this.elements[14]*k+this.elements[15]*j:this.elements[12]*g+this.elements[13]*i+this.elements[14]*k+this.elements[15]},invert:function(){var i=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],j=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],s=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],o=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],x=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],A=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],B=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],q=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],t=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],u=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],z=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],w=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],D=i*w-j*z+s*u+o*t-x*q+A*B;if(1e-09>=Math.abs(D)){return !1}var C=[];C[0]=+this.elements[5]*w-this.elements[6]*z+this.elements[7]*u;C[4]=-this.elements[4]*w+this.elements[6]*t-this.elements[7]*q;C[8]=+this.elements[4]*z-this.elements[5]*t+this.elements[7]*B;C[12]=-this.elements[4]*u+this.elements[5]*q-this.elements[6]*B;C[1]=-this.elements[1]*w+this.elements[2]*z-this.elements[3]*u;C[5]=+this.elements[0]*w-this.elements[2]*t+this.elements[3]*q;C[9]=-this.elements[0]*z+this.elements[1]*t-this.elements[3]*B;C[13]=+this.elements[0]*u-this.elements[1]*q+this.elements[2]*B;C[2]=+this.elements[13]*A-this.elements[14]*x+this.elements[15]*o;C[6]=-this.elements[12]*A+this.elements[14]*s-this.elements[15]*j;C[10]=+this.elements[12]*x-this.elements[13]*s+this.elements[15]*i;C[14]=-this.elements[12]*o+this.elements[13]*j-this.elements[14]*i;C[3]=-this.elements[9]*A+this.elements[10]*x-this.elements[11]*o;C[7]=+this.elements[8]*A-this.elements[10]*s+this.elements[11]*j;C[11]=-this.elements[8]*x+this.elements[9]*s-this.elements[11]*i;C[15]=+this.elements[8]*o-this.elements[9]*j+this.elements[10]*i;i=1/D;C[0]*=i;C[1]*=i;C[2]*=i;C[3]*=i;C[4]*=i;C[5]*=i;C[6]*=i;C[7]*=i;C[8]*=i;C[9]*=i;C[10]*=i;C[11]*=i;C[12]*=i;C[13]*=i;C[14]*=i;C[15]*=i;this.elements=C.slice();return !0},toString:function(){for(var g="",i=0;15>i;i++){g+=this.elements[i]+", "}return g+=this.elements[15]},print:function(){var g=printMatrixHelper(this.elements),g=""+h.nfs(this.elements[0],g,4)+" "+h.nfs(this.elements[1],g,4)+" "+h.nfs(this.elements[2],g,4)+" "+h.nfs(this.elements[3],g,4)+"\n"+h.nfs(this.elements[4],g,4)+" "+h.nfs(this.elements[5],g,4)+" "+h.nfs(this.elements[6],g,4)+" "+h.nfs(this.elements[7],g,4)+"\n"+h.nfs(this.elements[8],g,4)+" "+h.nfs(this.elements[9],g,4)+" "+h.nfs(this.elements[10],g,4)+" "+h.nfs(this.elements[11],g,4)+"\n"+h.nfs(this.elements[12],g,4)+" "+h.nfs(this.elements[13],g,4)+" "+h.nfs(this.elements[14],g,4)+" "+h.nfs(this.elements[15],g,4)+"\n\n";h.println(g)},invTranslate:function(g,i,j){this.preApply(1,0,0,-g,0,1,0,-i,0,0,1,-j,0,0,0,1)},invRotateX:function(g){var i=Math.cos(-g);g=Math.sin(-g);this.preApply([1,0,0,0,0,i,-g,0,0,g,i,0,0,0,0,1])},invRotateY:function(g){var i=Math.cos(-g);g=Math.sin(-g);this.preApply([i,0,g,0,0,1,0,0,-g,0,i,0,0,0,0,1])},invRotateZ:function(g){var i=Math.cos(-g);g=Math.sin(-g);this.preApply([i,-g,0,0,g,i,0,0,0,0,1,0,0,0,0,1])},invScale:function(g,i,j){this.preApply([1/g,0,0,0,0,1/i,0,0,0,0,1/j,0,0,0,0,1])}};return f}},{}],15:[function(a,c,b){c.exports=function(e){var d=e.PConstants,h=e.PMatrix2D,f=e.PMatrix3D;e=function(g){this.family=g||d.GROUP;this.style=this.visible=!0;this.children=[];this.nameTable=[];this.params=[];this.name="";this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null};e.prototype={isVisible:function(){return this.visible},setVisible:function(g){this.visible=g},disableStyle:function(){this.style=!1;for(var g=0,i=this.children.length;g<i;g++){this.children[g].disableStyle()}},enableStyle:function(){this.style=!0;for(var g=0,i=this.children.length;g<i;g++){this.children[g].enableStyle()}},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(g){this.name=g},getName:function(){return this.name},draw:function(g){if(!g){throw"render context missing for draw() in PShape"}this.visible&&(this.pre(g),this.drawImpl(g),this.post(g))},drawImpl:function(g){this.family===d.GROUP?this.drawGroup(g):this.family===d.PRIMITIVE?this.drawPrimitive(g):this.family===d.GEOMETRY?this.drawGeometry(g):this.family===d.PATH&&this.drawPath(g)},drawPath:function(g){var i,k;if(0!==this.vertices.length){g.beginShape();if(0===this.vertexCodes.length){if(2===this.vertices[0].length){for(i=0,k=this.vertices.length;i<k;i++){g.vertex(this.vertices[i][0],this.vertices[i][1])}}else{for(i=0,k=this.vertices.length;i<k;i++){g.vertex(this.vertices[i][0],this.vertices[i][1],this.vertices[i][2])}}}else{var j=0;if(2===this.vertices[0].length){for(i=0,k=this.vertexCodes.length;i<k;i++){this.vertexCodes[i]===d.VERTEX?(g.vertex(this.vertices[j][0],this.vertices[j][1],this.vertices[j].moveTo),g.breakShape=!1,j++):this.vertexCodes[i]===d.BEZIER_VERTEX?(g.bezierVertex(this.vertices[j+0][0],this.vertices[j+0][1],this.vertices[j+1][0],this.vertices[j+1][1],this.vertices[j+2][0],this.vertices[j+2][1]),j+=3):this.vertexCodes[i]===d.CURVE_VERTEX?(g.curveVertex(this.vertices[j][0],this.vertices[j][1]),j++):this.vertexCodes[i]===d.BREAK&&(g.breakShape=!0)}}else{for(i=0,k=this.vertexCodes.length;i<k;i++){this.vertexCodes[i]===d.VERTEX?(g.vertex(this.vertices[j][0],this.vertices[j][1],this.vertices[j][2]),!0===this.vertices[j].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[j].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),g.breakShape=!1):this.vertexCodes[i]===d.BEZIER_VERTEX?(g.bezierVertex(this.vertices[j+0][0],this.vertices[j+0][1],this.vertices[j+0][2],this.vertices[j+1][0],this.vertices[j+1][1],this.vertices[j+1][2],this.vertices[j+2][0],this.vertices[j+2][1],this.vertices[j+2][2]),j+=3):this.vertexCodes[i]===d.CURVE_VERTEX?(g.curveVertex(this.vertices[j][0],this.vertices[j][1],this.vertices[j][2]),j++):this.vertexCodes[i]===d.BREAK&&(g.breakShape=!0)}}}g.endShape(this.close?d.CLOSE:d.OPEN)}},drawGeometry:function(g){var i,k;g.beginShape(this.kind);if(this.style){for(i=0,k=this.vertices.length;i<k;i++){g.vertex(this.vertices[i])}}else{for(i=0,k=this.vertices.length;i<k;i++){var j=this.vertices[i];0===j[2]?g.vertex(j[0],j[1]):g.vertex(j[0],j[1],j[2])}}g.endShape()},drawGroup:function(g){for(var i=0,j=this.children.length;i<j;i++){this.children[i].draw(g)}},drawPrimitive:function(g){if(this.kind===d.POINT){g.point(this.params[0],this.params[1])}else{if(this.kind===d.LINE){4===this.params.length?g.line(this.params[0],this.params[1],this.params[2],this.params[3]):g.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===d.TRIANGLE){g.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===d.QUAD){g.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7])}else{if(this.kind===d.RECT){if(null!==this.image){var i=imageModeConvert;g.imageMode(d.CORNER);g.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]);imageModeConvert=i}else{i=g.curRectMode,g.rectMode(d.CORNER),g.rect(this.params[0],this.params[1],this.params[2],this.params[3]),g.curRectMode=i}}else{this.kind===d.ELLIPSE?(i=g.curEllipseMode,g.ellipseMode(d.CORNER),g.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),g.curEllipseMode=i):this.kind===d.ARC?(i=curEllipseMode,g.ellipseMode(d.CORNER),g.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=i):this.kind===d.BOX?1===this.params.length?g.box(this.params[0]):g.box(this.params[0],this.params[1],this.params[2]):this.kind===d.SPHERE&&g.sphere(this.params[0])}}}}}},pre:function(g){this.matrix&&(g.pushMatrix(),g.transform(this.matrix));this.style&&(g.pushStyle(),this.styles(g))},post:function(g){this.matrix&&g.popMatrix();this.style&&g.popStyle()},styles:function(g){this.stroke?(g.stroke(this.strokeColor),g.strokeWeight(this.strokeWeight),g.strokeCap(this.strokeCap),g.strokeJoin(this.strokeJoin)):g.noStroke();this.fill?g.fill(this.fillColor):g.noFill()},getChild:function(g){var i,k;if("number"===typeof g){return this.children[g]}var j;if(""===g||this.name===g){return this}if(0<this.nameTable.length){i=0;for(k=this.nameTable.length;i<k||j;i++){if(this.nameTable[i].getName===g){j=this.nameTable[i];break}}if(j){return j}}i=0;for(k=this.children.length;i<k;i++){if(j=this.children[i].getChild(g)){return j}}return null},getChildCount:function(){return this.children.length},addChild:function(g){this.children.push(g);g.parent=this;null!==g.getName()&&this.addName(g.getName(),g)},addName:function(g,i){null!==this.parent?this.parent.addName(g,i):this.nameTable.push([g,i])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(g){null===this.matrix?this.matrix=2===g?new h:new f:3===g&&this.matrix instanceof h&&(this.matrix=new f)},rotateX:function(g){this.rotate(g,1,0,0)},rotateY:function(g){this.rotate(g,0,1,0)},rotateZ:function(g){this.rotate(g,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(g){1===arguments.length?this.applyMatrix(g.elements[0],g.elements[1],0,g.elements[2],g.elements[3],g.elements[4],0,g.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}};return e}},{}],16:[function(a,c,b){c.exports=function(j){var i=j.CommonFunctions,o=j.PConstants,m=j.PShape,d=j.XMLElement,f=j.colors,h=function(){m.call(this);if(1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=o.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=o.SQUARE,this.strokeJoin=o.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=o.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName()){throw"root is not <svg>, it's <"+this.element.getName()+">"}}else{2===arguments.length&&("string"===typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&(this.element=new d(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=o.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=o.SQUARE,this.strokeJoin=o.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=o.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity))}this.name=this.element.getStringAttribute("id");this.visible="none"!==this.element.getStringAttribute("display","inline");var g=this.element.getAttribute("transform");g&&(this.matrix=this.parseMatrix(g));g=this.element.getStringAttribute("viewBox");null!==g&&(g=g.split(" "),this.width=g[2],this.height=g[3]);var g=this.element.getStringAttribute("width"),e=this.element.getStringAttribute("height");if(null!==g){this.width=this.parseUnitSize(g),this.height=this.parseUnitSize(e)}else{if(0===this.width||0===this.height){throw this.height=this.width=1,"The width and/or height is not readable in the <svg> tag of this file."}}this.parseColors(this.element);this.parseChildren(this.element)};h.prototype=new m;h.prototype.parseMatrix=function(){function e(k){var g=[];k.replace(/\((.*?)\)/,function(){return function(l,n){g=n.replace(/,+/g," ").split(/\s+/)}}());return g}return function(g){this.checkMatrix(2);var l=[];g.replace(/\s*(\w+)\((.*?)\)/g,function(k){l.push(i.trim(k))});if(0===l.length){return null}g=0;for(var p=l.length;g<p;g++){var n=e(l[g]);if(-1!==l[g].indexOf("matrix")){this.matrix.set(n[0],n[2],n[4],n[1],n[3],n[5])}else{if(-1!==l[g].indexOf("translate")){this.matrix.translate(n[0],2===n.length?n[1]:0)}else{if(-1!==l[g].indexOf("scale")){this.matrix.scale(n[0],2===n.length?n[1]:n[0])}else{if(-1!==l[g].indexOf("rotate")){var q=n[0];1===n.length?this.matrix.rotate(i.radians(q)):3===n.length&&(this.matrix.translate(n[1],n[2]),this.matrix.rotate(i.radians(n[0])),this.matrix.translate(-n[1],-n[2]))}else{-1!==l[g].indexOf("skewX")?this.matrix.skewX(parseFloat(n[0])):-1!==l[g].indexOf("skewY")?this.matrix.skewY(n[0]):-1!==l[g].indexOf("shearX")?this.matrix.shearX(n[0]):-1!==l[g].indexOf("shearY")&&this.matrix.shearY(n[0])}}}}}return this.matrix}}();h.prototype.parseChildren=function(l){l=l.getChildren();var g=new m,k,p;k=0;for(p=l.length;k<p;k++){var n=this.parseChild(l[k]);n&&g.addChild(n)}k=0;for(p=g.children.length;k<p;k++){this.children.push(g.children[k])}};h.prototype.getName=function(){return this.name};h.prototype.parseChild=function(k){var e=k.getName(),g;"g"===e?g=new h(this,k):"defs"===e?g=new h(this,k):"line"===e?(g=new h(this,k),g.parseLine()):"circle"===e?(g=new h(this,k),g.parseEllipse(!0)):"ellipse"===e?(g=new h(this,k),g.parseEllipse(!1)):"rect"===e?(g=new h(this,k),g.parseRect()):"polygon"===e?(g=new h(this,k),g.parsePoly(!0)):"polyline"===e?(g=new h(this,k),g.parsePoly(!1)):"path"===e?(g=new h(this,k),g.parsePath()):"radialGradient"===e?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===e?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===e?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===e?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===e&&unimplemented("PShapeSVG.prototype.parseChild, name = mask");return g};h.prototype.parsePath=function(){this.family=o.PATH;this.kind=0;var r=i.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==r){for(var r=r.split(""),g=0,p=0,w=0,s=0,B=s=w=0,E=0,z=0,n=0,L=n=s=z=w=0,J=0,x="",H=[],t=!1,C,F,I;L<r.length;){if(J=r[L].charCodeAt(0),65<=J&&90>=J||97<=J&&122>=J){I=L;L++;if(L<r.length){for(H=[],J=r[L].charCodeAt(0);!(65<=J&&90>=J||97<=J&&100>=J||102<=J&&122>=J)&&!1===t;){32===J?""!==x&&(H.push(parseFloat(x)),x=""):45===J?101===r[L-1].charCodeAt(0)?x+=r[L].toString():(""!==x&&H.push(parseFloat(x)),x=r[L].toString()):x+=r[L].toString(),L++,L===r.length?t=!0:J=r[L].charCodeAt(0)}}""!==x&&(H.push(parseFloat(x)),x="");F=r[I];J=F.charCodeAt(0);if(77===J){if(2<=H.length&&0===H.length%2&&(g=H[0],p=H[1],this.parsePathMoveto(g,p),2<H.length)){for(I=2,J=H.length;I<J;I+=2){g=H[I],p=H[I+1],this.parsePathLineto(g,p)}}}else{if(109===J){if(2<=H.length&&0===H.length%2&&(g+=H[0],p+=H[1],this.parsePathMoveto(g,p),2<H.length)){for(I=2,J=H.length;I<J;I+=2){g+=H[I],p+=H[I+1],this.parsePathLineto(g,p)}}}else{if(76===J){if(2<=H.length&&0===H.length%2){for(I=0,J=H.length;I<J;I+=2){g=H[I],p=H[I+1],this.parsePathLineto(g,p)}}}else{if(108===J){if(2<=H.length&&0===H.length%2){for(I=0,J=H.length;I<J;I+=2){g+=H[I],p+=H[I+1],this.parsePathLineto(g,p)}}}else{if(72===J){for(I=0,J=H.length;I<J;I++){g=H[I],this.parsePathLineto(g,p)}}else{if(104===J){for(I=0,J=H.length;I<J;I++){g+=H[I],this.parsePathLineto(g,p)}}else{if(86===J){for(I=0,J=H.length;I<J;I++){p=H[I],this.parsePathLineto(g,p)}}else{if(118===J){for(I=0,J=H.length;I<J;I++){p+=H[I],this.parsePathLineto(g,p)}}else{if(67===J){if(6<=H.length&&0===H.length%6){for(I=0,J=H.length;I<J;I+=6){w=H[I],B=H[I+1],s=H[I+2],E=H[I+3],z=H[I+4],n=H[I+5],this.parsePathCurveto(w,B,s,E,z,n),g=z,p=n}}}else{if(99===J){if(6<=H.length&&0===H.length%6){for(I=0,J=H.length;I<J;I+=6){w=g+H[I],B=p+H[I+1],s=g+H[I+2],E=p+H[I+3],z=g+H[I+4],n=p+H[I+5],this.parsePathCurveto(w,B,s,E,z,n),g=z,p=n}}}else{if(83===J){if(4<=H.length&&0===H.length%4){for(I=0,J=H.length;I<J;I+=4){"c"===C.toLowerCase()||"s"===C.toLowerCase()?(w=this.vertices[this.vertices.length-2][0],z=this.vertices[this.vertices.length-2][1],s=this.vertices[this.vertices.length-1][0],n=this.vertices[this.vertices.length-1][1],w=s+(s-w),B=n+(n-z)):(w=this.vertices[this.vertices.length-1][0],B=this.vertices[this.vertices.length-1][1]),s=H[I],E=H[I+1],z=H[I+2],n=H[I+3],this.parsePathCurveto(w,B,s,E,z,n),g=z,p=n}}}else{if(115===J){if(4<=H.length&&0===H.length%4){for(I=0,J=H.length;I<J;I+=4){"c"===C.toLowerCase()||"s"===C.toLowerCase()?(w=this.vertices[this.vertices.length-2][0],z=this.vertices[this.vertices.length-2][1],s=this.vertices[this.vertices.length-1][0],n=this.vertices[this.vertices.length-1][1],w=s+(s-w),B=n+(n-z)):(w=this.vertices[this.vertices.length-1][0],B=this.vertices[this.vertices.length-1][1]),s=g+H[I],E=p+H[I+1],z=g+H[I+2],n=p+H[I+3],this.parsePathCurveto(w,B,s,E,z,n),g=z,p=n}}}else{if(81===J){if(4<=H.length&&0===H.length%4){for(I=0,J=H.length;I<J;I+=4){w=H[I],s=H[I+1],z=H[I+2],n=H[I+3],this.parsePathQuadto(g,p,w,s,z,n),g=z,p=n}}}else{if(113===J){if(4<=H.length&&0===H.length%4){for(I=0,J=H.length;I<J;I+=4){w=g+H[I],s=p+H[I+1],z=g+H[I+2],n=p+H[I+3],this.parsePathQuadto(g,p,w,s,z,n),g=z,p=n}}}else{if(84===J){if(2<=H.length&&0===H.length%2){for(I=0,J=H.length;I<J;I+=2){"q"===C.toLowerCase()||"t"===C.toLowerCase()?(w=this.vertices[this.vertices.length-2][0],z=this.vertices[this.vertices.length-2][1],s=this.vertices[this.vertices.length-1][0],n=this.vertices[this.vertices.length-1][1],w=s+(s-w),s=n+(n-z)):(w=g,s=p),z=H[I],n=H[I+1],this.parsePathQuadto(g,p,w,s,z,n),g=z,p=n}}}else{if(116===J){if(2<=H.length&&0===H.length%2){for(I=0,J=H.length;I<J;I+=2){"q"===C.toLowerCase()||"t"===C.toLowerCase()?(w=this.vertices[this.vertices.length-2][0],z=this.vertices[this.vertices.length-2][1],s=this.vertices[this.vertices.length-1][0],n=this.vertices[this.vertices.length-1][1],w=s+(s-w),s=n+(n-z)):(w=g,s=p),z=g+H[I],n=p+H[I+1],this.parsePathQuadto(g,p,w,s,z,n),g=z,p=n}}}else{if(90===J||122===J){this.close=!0}}}}}}}}}}}}}}}}}C=F.toString()}else{L++}}}};h.prototype.parsePathQuadto=function(n,k,l,q,p,r){if(0<this.vertices.length){this.parsePathCode(o.BEZIER_VERTEX),this.parsePathVertex(n+2*(l-n)/3,k+2*(q-k)/3),this.parsePathVertex(p+2*(l-p)/3,r+2*(q-r)/3),this.parsePathVertex(p,r)}else{throw"Path must start with M/m"}};h.prototype.parsePathCurveto=function(n,k,l,q,p,r){if(0<this.vertices.length){this.parsePathCode(o.BEZIER_VERTEX),this.parsePathVertex(n,k),this.parsePathVertex(l,q),this.parsePathVertex(p,r)}else{throw"Path must start with M/m"}};h.prototype.parsePathLineto=function(e,g){if(0<this.vertices.length){this.parsePathCode(o.VERTEX),this.parsePathVertex(e,g),this.vertices[this.vertices.length-1].moveTo=!1}else{throw"Path must start with M/m"}};h.prototype.parsePathMoveto=function(e,g){0<this.vertices.length&&this.parsePathCode(o.BREAK);this.parsePathCode(o.VERTEX);this.parsePathVertex(e,g);this.vertices[this.vertices.length-1].moveTo=!0};h.prototype.parsePathVertex=function(g,k){var l=[];l[0]=g;l[1]=k;this.vertices.push(l)};h.prototype.parsePathCode=function(e){this.vertexCodes.push(e)};h.prototype.parsePoly=function(g){this.family=o.PATH;this.close=g;g=i.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(null!==g){if(g=g.split(" "),0===g.length%2){for(var k=0,l=g.length;k<l;k++){var n=[];n[0]=g[k];n[1]=g[++k];this.vertices.push(n)}}else{throw"Error parsing polygon points: odd number of coordinates provided"}}};h.prototype.parseRect=function(){this.kind=o.RECT;this.family=o.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(0>this.params[2]||0>this.params[3]){throw"svg error: negative width or height found while parsing <rect>"}};h.prototype.parseEllipse=function(e){this.kind=o.ELLIPSE;this.family=o.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var g;if(e){if(e=g=this.element.getFloatAttribute("r"),0>e){throw"svg error: negative radius found while parsing <circle>"}}else{if(e=this.element.getFloatAttribute("rx"),g=this.element.getFloatAttribute("ry"),0>e||0>g){throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>"}}this.params[0]-=e;this.params[1]-=g;this.params[2]=2*e;this.params[3]=2*g};h.prototype.parseLine=function(){this.kind=o.LINE;this.family=o.PRIMITIVE;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};h.prototype.parseColors=function(g){g.hasAttribute("opacity")&&this.setOpacity(g.getAttribute("opacity"));g.hasAttribute("stroke")&&this.setStroke(g.getAttribute("stroke"));g.hasAttribute("stroke-width")&&this.setStrokeWeight(g.getAttribute("stroke-width"));g.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(g.getAttribute("stroke-linejoin"));g.hasAttribute("stroke-linecap")&&this.setStrokeCap(g.getStringAttribute("stroke-linecap"));g.hasAttribute("fill")&&this.setFill(g.getStringAttribute("fill"));if(g.hasAttribute("style")){g=g.getStringAttribute("style").toString().split(";");for(var k=0,l=g.length;k<l;k++){var n=i.trim(g[k].split(":"));"fill"===n[0]?this.setFill(n[1]):"fill-opacity"===n[0]?this.setFillOpacity(n[1]):"stroke"===n[0]?this.setStroke(n[1]):"stroke-width"===n[0]?this.setStrokeWeight(n[1]):"stroke-linecap"===n[0]?this.setStrokeCap(n[1]):"stroke-linejoin"===n[0]?this.setStrokeJoin(n[1]):"stroke-opacity"===n[0]?this.setStrokeOpacity(n[1]):"opacity"===n[0]&&this.setOpacity(n[1])}}};h.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e);this.fillColor=255*this.fillOpacity<<24|this.fillColor&16777215};h.prototype.setFill=function(g){var k=this.fillColor&4278190080;"none"===g?this.fill=!1:0===g.indexOf("#")?(this.fill=!0,4===g.length&&(g=g.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=k|parseInt(g.substring(1),16)&16777215):0===g.indexOf("rgb")?(this.fill=!0,this.fillColor=k|this.parseRGB(g)):0===g.indexOf("url(#")?this.fillName=g.substring(5,g.length-1):f[g]&&(this.fill=!0,this.fillColor=k|parseInt(f[g].substring(1),16)&16777215)};h.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|this.strokeColor&16777215;this.fillColor=255*parseFloat(e)<<24|this.fillColor&16777215};h.prototype.setStroke=function(g){var k=this.strokeColor&4278190080;"none"===g?this.stroke=!1:"#"===g.charAt(0)?(this.stroke=!0,4===g.length&&(g=g.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=k|parseInt(g.substring(1),16)&16777215):0===g.indexOf("rgb")?(this.stroke=!0,this.strokeColor=k|this.parseRGB(g)):0===g.indexOf("url(#")?this.strokeName=g.substring(5,g.length-1):f[g]&&(this.stroke=!0,this.strokeColor=k|parseInt(f[g].substring(1),16)&16777215)};h.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)};h.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=o.MITER:"round"===e?this.strokeJoin=o.ROUND:"bevel"===e&&(this.strokeJoin=o.BEVEL)};h.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=o.SQUARE:"round"===e?this.strokeCap=o.ROUND:"square"===e&&(this.strokeCap=o.PROJECT)};h.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e);this.strokeColor=255*this.strokeOpacity<<24|this.strokeColor&16777215};h.prototype.parseRGB=function(e){e=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(", ");return e[0]<<16|e[1]<<8|e[2]};h.prototype.parseUnitSize=function(e){var g=e.length-2;return 0>g?e:e.indexOf("pt")===g?1.25*parseFloat(e.substring(0,g)):e.indexOf("pc")===g?15*parseFloat(e.substring(0,g)):e.indexOf("mm")===g?3.543307*parseFloat(e.substring(0,g)):e.indexOf("cm")===g?35.43307*parseFloat(e.substring(0,g)):e.indexOf("in")===g?90*parseFloat(e.substring(0,g)):e.indexOf("px")===g?parseFloat(e.substring(0,g)):parseFloat(e)};return h}},{}],17:[function(a,c,b){c.exports=function(h,f){function j(g,l,k){this.x=g||0;this.y=l||0;this.z=k||0}function i(g){return function(l,k){var m=l.get();m[g](k);return m}}var d=h.PConstants;j.fromAngle=function(g,k){if(k===f||null===k){k=new j}k.x=Math.cos(g);k.y=Math.sin(g);return k};j.random2D=function(g){return j.fromAngle(Math.random()*d.TWO_PI,g)};j.random3D=function(g){var k=Math.random()*d.TWO_PI,l=2*Math.random()-1,n=Math.sqrt(1-l*l),o=n*Math.cos(k),k=n*Math.sin(k);g===f||null===g?g=new j(o,k,l):g.set(o,k,l);return g};j.dist=function(g,k){return g.dist(k)};j.dot=function(g,k){return g.dot(k)};j.cross=function(g,k){return g.cross(k)};j.sub=function(g,k){return new j(g.x-k.x,g.y-k.y,g.z-k.z)};j.angleBetween=function(g,k){return Math.acos(g.dot(k)/(g.mag()*k.mag()))};j.lerp=function(g,l,k){g=new j(g.x,g.y,g.z);g.lerp(l,k);return g};j.prototype={set:function(g,l,k){1===arguments.length?this.set(g.x||g[0]||0,g.y||g[1]||0,g.z||g[2]||0):(this.x=g,this.y=l,this.z=k)},get:function(){return new j(this.x,this.y,this.z)},mag:function(){var g=this.x,l=this.y,k=this.z;return Math.sqrt(g*g+l*l+k*k)},magSq:function(){var g=this.x,l=this.y,k=this.z;return g*g+l*l+k*k},setMag:function(g,k){if(k===f){k=g,this.normalize(),this.mult(k)}else{return g.normalize(),g.mult(k),g}},add:function(g,l,k){1===arguments.length?(this.x+=g.x,this.y+=g.y,this.z+=g.z):(this.x+=g,this.y+=l,this.z+=k)},sub:function(g,l,k){1===arguments.length?(this.x-=g.x,this.y-=g.y,this.z-=g.z):(this.x-=g,this.y-=l,this.z-=k)},mult:function(g){"number"===typeof g?(this.x*=g,this.y*=g,this.z*=g):(this.x*=g.x,this.y*=g.y,this.z*=g.z)},div:function(g){"number"===typeof g?(this.x/=g,this.y/=g,this.z/=g):(this.x/=g.x,this.y/=g.y,this.z/=g.z)},rotate:function(g){var l=this.x,k=Math.cos(g);g=Math.sin(g);this.x=k*this.x-g*this.y;this.y=g*l+k*this.y},dist:function(g){var l=this.x-g.x,k=this.y-g.y;g=this.z-g.z;return Math.sqrt(l*l+k*k+g*g)},dot:function(g,l,k){return 1===arguments.length?this.x*g.x+this.y*g.y+this.z*g.z:this.x*g+this.y*l+this.z*k},cross:function(g){var l=this.x,k=this.y,m=this.z;return new j(k*g.z-g.y*m,m*g.x-g.z*l,l*g.y-g.x*k)},lerp:function(g,l,k,n){var o,m;2===arguments.length?(n=l,o=g.x,m=g.y,k=g.z):(o=g,m=l);this.x+=(o-this.x)*n;this.y+=(m-this.y)*n;this.z+=(k-this.z)*n},normalize:function(){var g=this.mag();0<g&&this.div(g)},limit:function(g){this.mag()>g&&(this.normalize(),this.mult(g))},heading:function(){return -Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var e in j.prototype){j.prototype.hasOwnProperty(e)&&!j.hasOwnProperty(e)&&(j[e]=i(e))}return j}},{}],18:[function(a,c,b){c.exports=function(){var d=function(h,i,j,e,f){this.fullName=h||"";this.name=i||"";this.namespace=j||"";this.value=e;this.type=f};d.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}};return d}},{}],19:[function(a,c,b){c.exports=function(j,i){var o=j.Browser,m=o.ajax,d=o.window.DOMParser,f=j.XMLAttribute,h=function(g,k,l,n){this.attributes=[];this.children=[];this.name=this.fullName=null;this.namespace="";this.parent=this.content=null;this.systemID=this.lineNr="";this.type="ELEMENT";g&&("string"===typeof g?k===i&&-1<g.indexOf("<")?this.parse(g):(this.fullName=g,this.namespace=k,this.systemId=l,this.lineNr=n):this.parse(k))};h.prototype={parse:function(g){var l;try{var n=g.substring(g.length-4);if(".xml"===n||".svg"===n){g=m(g)}l=(new d).parseFromString(g,"text/xml");var q=l.documentElement;if(q){this.parseChildrenRecursive(null,q)}else{throw"Error loading document"}return this}catch(k){throw k}},parseChildrenRecursive:function(e,n){var q,s,k,l;e?(q=new h(n.nodeName),q.parent=e):(this.fullName=n.localName,this.name=n.nodeName,q=this);if(3===n.nodeType&&""!==n.textContent){return this.createPCDataElement(n.textContent)}if(4===n.nodeType){return this.createCDataElement(n.textContent)}if(n.attributes){for(k=0,l=n.attributes.length;k<l;k++){s=n.attributes[k],s=new f(s.getname,s.nodeName,s.namespaceURI,s.nodeValue,s.nodeType),q.attributes.push(s)}}if(n.childNodes){for(k=0,l=n.childNodes.length;k<l;k++){s=q.parseChildrenRecursive(q,n.childNodes[k]),null!==s&&q.children.push(s)}}return q},createElement:function(e,g,k,l){return k===i?new h(e,g):new h(e,g,k,l)},createPCDataElement:function(e,g){if(""===e.replace(/^\s+$/g,"")){return null}var k=new h;k.type="TEXT";k.content=e;return k},createCDataElement:function(g){var k=this.createPCDataElement(g);if(null===k){return null}k.type="CDATA";var l={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"},n;for(n in l){Object.hasOwnProperty(l,n)||(g=g.replace(RegExp(n,"g"),l[n]))}k.cdata=g;return k},hasAttribute:function(){if(1===arguments.length){return null!==this.getAttribute(arguments[0])}if(2===arguments.length){return null!==this.getAttribute(arguments[0],arguments[1])}},equals:function(e){if(!(e instanceof h)){return !1}var g,l;if(this.fullName!==e.fullName||this.attributes.length!==e.getAttributeCount()||this.attributes.length!==e.attributes.length){return !1}var n,k;g=0;for(l=this.attributes.length;g<l;g++){if(n=this.attributes[g].getName(),k=this.attributes[g].getNamespace(),n=e.findAttribute(n,k),null===n||this.attributes[g].getValue()!==n.getValue()||this.attributes[g].getType()!==n.getType()){return !1}}if(this.children.length!==e.getChildCount()){return !1}if(0<this.children.length){g=0;for(l=this.children.length;g<l;g++){if(n=this.getChild(g),k=e.getChild(g),!n.equals(k)){return !1}}return !0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type){return this.content}var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;if(2===arguments.length){return(e=this.findAttribute(arguments[0]))?e.getValue():arguments[1]}if(1===arguments.length){return(e=this.findAttribute(arguments[0]))?e.getValue():null}if(3===arguments.length){return(e=this.findAttribute(arguments[0],arguments[1]))?e.getValue():arguments[2]}},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return 0<this.children.length},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(g,k){if(g){if(null===g.getLocalName()&&!this.hasChildren()){var l=this.children[this.children.length-1];if(null===l.getLocalName()){l.setContent(l.getContent()+g.getContent());return}}g.parent=this;this.children.splice(k,0,g)}},getChild:function(g){if("number"===typeof g){return this.children[g]}if(-1!==g.indexOf("/")){return this.getChildRecursive(g.split("/"),0)}for(var k,n,p=0,l=this.getChildCount();p<l;p++){if(k=this.getChild(p),n=k.getName(),null!==n&&n===g){return k}}return null},getChildren:function(){if(1===arguments.length){if("number"===typeof arguments[0]){return this.getChild(arguments[0])}if(-1!==arguments[0].indexOf("/")){return this.getChildrenRecursive(arguments[0].split("/"),0)}for(var g=[],k,n,p=0,l=this.getChildCount();p<l;p++){k=this.getChild(p),n=k.getName(),null!==n&&n===arguments[0]&&g.push(k)}return g}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(l,n){if(n===l.length){return this}for(var q,u,p=l[n],s=0,t=this.getChildCount();s<t;s++){if(q=this.getChild(s),u=q.getName(),null!==u&&u===p){return q.getChildRecursive(l,n+1)}}return null},getChildrenRecursive:function(g,k){if(k===g.length-1){return this.getChildren(g[k])}for(var n=this.getChildren(g[k]),p=[],l=0;l<n.length;l++){p=p.concat(n[l].getChildrenRecursive(g,k+1))}return p},isLeaf:function(){return !this.hasChildren()},listChildren:function(){for(var g=[],k=0,l=this.children.length;k<l;k++){g.push(this.getChild(k).getName())}return g},removeAttribute:function(g,k){this.namespace=k||"";for(var l=0,n=this.attributes.length;l<n;l++){if(this.attributes[l].getName()===g&&this.attributes[l].getNamespace()===this.namespace){this.attributes.splice(l,1);break}}},removeChild:function(g){if(g){for(var k=0,l=this.children.length;k<l;k++){if(this.children[k].equals(g)){this.children.splice(k,1);break}}}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(g,k){this.namespace=k||"";for(var l=0,n=this.attributes.length;l<n;l++){if(this.attributes[l].getName()===g&&this.attributes[l].getNamespace()===this.namespace){return this.attributes[l]}}return null},setAttribute:function(){var g;if(3===arguments.length){g=arguments[0].indexOf(":");var k=arguments[0].substring(g+1);(g=this.findAttribute(k,arguments[1]))?g.setValue(arguments[2]):(g=new f(arguments[0],k,arguments[1],arguments[2],"CDATA"),this.attributes.push(g))}else{(g=this.findAttribute(arguments[0]))?g.setValue(arguments[1]):(g=new f(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(g))}},setString:function(e,g){this.setAttribute(e,g)},setInt:function(e,g){this.setAttribute(e,g)},setFloat:function(e,g){this.setAttribute(e,g)},setContent:function(e){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children");this.content=e},setName:function(){if(1===arguments.length){this.name=arguments[0],this.fullName=arguments[0],this.namespace=null}else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1);this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type){return this.content}if("CDATA"===this.type){return this.cdata}var g=this.fullName,k="<"+g,l;for(l=0;l<this.attributes.length;l++){var n=this.attributes[l],k=k+(" "+n.getName()+'="'+n.getValue()+'"')}if(0===this.children.length){k=""===this.content?k+"/>":k+(">"+this.content+"</"+g+">")}else{k+=">";for(l=0;l<this.children.length;l++){k+=this.children[l].toString()}k+="</"+g+">"}return k}};h.parse=function(e){var g=new h;g.parse(e);return g};return h}},{}],20:[function(a,c,b){c.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],21:[function(a,c,b){c.exports=function(e,d,f){return function(h,g){h.__contains=function(i,j){return"string"!==typeof i?i.contains.apply(i,g(arguments)):null!==i&&null!==j&&"string"===typeof j&&-1<i.indexOf(j)};h.__replaceAll=function(i,k,j){return"string"!==typeof i?i.replaceAll.apply(i,g(arguments)):i.replace(RegExp(k,"g"),j)};h.__replaceFirst=function(i,k,j){return"string"!==typeof i?i.replaceFirst.apply(i,g(arguments)):i.replace(RegExp(k,""),j)};h.__replace=function(i,l,j){if("string"!==typeof i){return i.replace.apply(i,g(arguments))}if(l instanceof RegExp){return i.replace(l,j)}"string"!==typeof l&&(l=l.toString());if(""===l){return i}var m=i.indexOf(l);if(0>m){return i}var n=0,o="";do{o+=i.substring(n,m)+j,n=m+l.length}while(0<=(m=i.indexOf(l,n)));return o+i.substring(n)};h.__equals=function(i,j){return i.equals instanceof Function?i.equals.apply(i,g(arguments)):d(i,j)};h.__equalsIgnoreCase=function(i,j){return"string"!==typeof i?i.equalsIgnoreCase.apply(i,g(arguments)):i.toLowerCase()===j.toLowerCase()};h.__toCharArray=function(i){if("string"!==typeof i){return i.toCharArray.apply(i,g(arguments))}for(var k=[],j=0,l=i.length;j<l;++j){k[j]=new Char(i.charAt(j))}return k};h.__split=function(i,n,j){if("string"!==typeof i){return i.split.apply(i,g(arguments))}var o=RegExp(n);if(j===f||1>j){return i.split(o)}for(var p=[],s=i,m;-1!==(m=s.search(o))&&p.length<j-1;){var q=o.exec(s).toString();p.push(s.substring(0,m));s=s.substring(m+q.length)}-1===m&&""===s||p.push(s);return p};h.__codePointAt=function(i,k){var j=i.charCodeAt(k),l;return 55296<=j&&56319>=j?(l=i.charCodeAt(k+1),1024*(j-55296)+(l-56320)+65536):j};h.__matches=function(i,j){return RegExp(j).test(i)};h.__startsWith=function(i,k,j){if("string"!==typeof i){return i.startsWith.apply(i,g(arguments))}j=j||0;return 0>j||j>i.length?!1:""===k||k===i?!0:i.indexOf(k)===j};h.__endsWith=function(i,k){if("string"!==typeof i){return i.endsWith.apply(i,g(arguments))}var j=k?k.length:0;return""===k||k===i?!0:i.indexOf(k)===i.length-j};h.__hashCode=function(i){return i.hashCode instanceof Function?i.hashCode.apply(i,g(arguments)):e(i)};h.__printStackTrace=function(i){h.println("Exception: "+i.toString())}}}},{}],22:[function(a,c,b){c.exports=function(o,j){function r(g,k){var m=g||362436069,l=k||521288629,n=function(){m=36969*(m&65535)+(m>>>16)&4294967295;l=18000*(l&65535)+(l>>>16)&4294967295;return((m&65535)<<16|l&65535)&4294967295};this.doubleGenerator=function(){var e=n()/4294967296;return 0>e?1+e:e};this.intGenerator=n}function p(g){function n(k,m,l,y){k&=15;var z=8>k?m:l;m=4>k?l:12===k||14===k?m:y;return(0===(k&1)?z:-z)+(0===(k&2)?m:-m)}function t(e,k,l){k=0===(e&1)?k:l;return 0===(e&2)?-k:k}function s(e,k,l){return k+e*(l-k)}g=g!==j?new r(g):r.createRandomized();var u,v,x=new Uint8Array(512);for(u=0;256>u;++u){x[u]=u}for(u=0;256>u;++u){var w=x[v=g.intGenerator()&255];x[v]=x[u];x[u]=w}for(u=0;256>u;++u){x[u+256]=x[u]}this.noise3d=function(m,z,A){var B=Math.floor(m)&255,D=Math.floor(z)&255,H=Math.floor(A)&255;m-=Math.floor(m);z-=Math.floor(z);A-=Math.floor(A);var F=(3-2*m)*m*m,E=(3-2*z)*z*z,C=x[B]+D,y=x[C]+H,C=x[C+1]+H,D=x[B+1]+D,B=x[D]+H,H=x[D+1]+H;return s((3-2*A)*A*A,s(E,s(F,n(x[y],m,z,A),n(x[B],m-1,z,A)),s(F,n(x[C],m,z-1,A),n(x[H],m-1,z-1,A))),s(E,s(F,n(x[y+1],m,z,A-1),n(x[B+1],m-1,z,A-1)),s(F,n(x[C+1],m,z-1,A-1),n(x[H+1],m-1,z-1,A-1))))};this.noise2d=function(l,m){var y=Math.floor(l)&255,z=Math.floor(m)&255;l-=Math.floor(l);m-=Math.floor(m);var B=(3-2*l)*l*l,A=x[y]+z,y=x[y+1]+z;return s((3-2*m)*m*m,s(B,t(x[A],l,m),t(x[y],l-1,m)),s(B,t(x[A+1],l,m-1),t(x[y+1],l-1,m-1)))};this.noise1d=function(e){var k=Math.floor(e)&255;e-=Math.floor(e);return s((3-2*e)*e*e,0===(x[k]&1)?-e:e,0===(x[k+1]&1)?-(e-1):e-1)}}var d=function(){return Math.random()};o.abs=Math.abs;o.ceil=Math.ceil;o.exp=Math.exp;o.floor=Math.floor;o.log=Math.log;o.pow=Math.pow;o.round=Math.round;o.sqrt=Math.sqrt;o.acos=Math.acos;o.asin=Math.asin;o.atan=Math.atan;o.atan2=Math.atan2;o.cos=Math.cos;o.sin=Math.sin;o.tan=Math.tan;o.constrain=function(e,g,k){return e>k?k:e<g?g:e};o.dist=function(){var e,g,k;if(4===arguments.length){return e=arguments[0]-arguments[2],g=arguments[1]-arguments[3],Math.sqrt(e*e+g*g)}if(6===arguments.length){return e=arguments[0]-arguments[3],g=arguments[1]-arguments[4],k=arguments[2]-arguments[5],Math.sqrt(e*e+g*g+k*k)}};o.lerp=function(e,g,k){return(g-e)*k+e};o.mag=function(e,g,k){return k?Math.sqrt(e*e+g*g+k*k):Math.sqrt(e*e+g*g)};o.map=function(g,k,m,l,n){return l+(n-l)*((g-k)/(m-k))};o.max=function(){if(2===arguments.length){return arguments[0]<arguments[1]?arguments[1]:arguments[0]}var e=1===arguments.length?arguments[0]:arguments;if(!("length" in e&&0<e.length)){throw"Non-empty array is expected"}for(var g=e[0],l=e.length,k=1;k<l;++k){g<e[k]&&(g=e[k])}return g};o.min=function(){if(2===arguments.length){return arguments[0]<arguments[1]?arguments[0]:arguments[1]}var e=1===arguments.length?arguments[0]:arguments;if(!("length" in e&&0<e.length)){throw"Non-empty array is expected"}for(var g=e[0],l=e.length,k=1;k<l;++k){g>e[k]&&(g=e[k])}return g};o.norm=function(e,g,k){return(e-g)/(k-g)};o.sq=function(e){return e*e};o.degrees=function(e){return 180*e/Math.PI};o.random=function(){if(0===arguments.length){return d()}if(1===arguments.length){return d()*arguments[0]}var e=arguments[0],g=arguments[1];return d()*(g-e)+e};r.createRandomized=function(){var e=new Date;return new r(e/60000&4294967295,e&4294967295)};o.randomSeed=function(e){d=(new r(e)).doubleGenerator};o.Random=function(e){var g=!1,l,k;this.nextGaussian=function(){if(g){return g=!1,l}var m,n,s;do{m=2*k()-1,n=2*k()-1,s=m*m+n*n}while(1<=s||0===s);s=Math.sqrt(-2*Math.log(s)/s);l=n*s;g=!0;return m*s};k=e===j?Math.random:(new r(e)).doubleGenerator};var f=j,i=4,h=0.5,q=j;o.noise=function(e,t,m){f===j&&(f=new p(q));for(var u=f,l=1,s=1,g=0,v=0;v<i;++v){l*=h;switch(arguments.length){case 1:g+=l*(1+u.noise1d(s*e))/2;break;case 2:g+=l*(1+u.noise2d(s*e,s*t))/2;break;case 3:g+=l*(1+u.noise3d(s*e,s*t,s*m))/2}s*=2}return g};o.noiseDetail=function(e,g){i=e;g!==j&&(h=g)};o.noiseSeed=function(e){q=e;f=j}}},{}],23:[function(a,c,b){c.exports=function(e){var d={trim:function(h){if(h instanceof Array){for(var i=[],f=0;f<h.length;f++){i.push(h[f].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""))}return i}return h.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(f){return f/180*Math.PI},nfCoreScalar:function(k,m,f,h,j,i){m=0>k?f:m;f=0===j;j=j===e||0>j?0:j;k=Math.abs(k);if(f){for(j=1,k*=10;1e-06<Math.abs(Math.round(k)-k)&&7>j;){++j,k*=10}}else{0!==j&&(k*=Math.pow(10,j))}f=2*k;Math.floor(k)===k?f=k:Math.floor(f)===f?(k=Math.floor(k),f=k+k%2):f=Math.round(k);k="";for(h+=j;0<h||0<f;){h--,k=""+f%10+k,f=Math.floor(f/10)}if(i!==e){for(h=k.length-3-j;0<h;){k=k.substring(0,h)+i+k.substring(h),h-=3}}return 0<j?m+k.substring(0,k.length-j)+"."+k.substring(k.length-j,k.length):m+k},nfCore:function(j,n,f,g,i,h){if(j instanceof Array){for(var o=[],q=0,s=j.length;q<s;q++){o.push(d.nfCoreScalar(j[q],n,f,g,i,h))}return o}return d.nfCoreScalar(j,n,f,g,i,h)},nf:function(g,h,f){return d.nfCore(g,"","-",h,f)},nfs:function(g,h,f){return d.nfCore(g," ","-",h,f)},nfp:function(g,h,f){return d.nfCore(g,"+","-",h,f)},nfc:function(f,g){return d.nfCore(f,"","-",0,g,",")},withCommonFunctions:function(f){"trim radians nf nfs nfp nfc".split(" ").forEach(function(g){f[g]=d[g]})}};return d}()},{}],24:[function(a,c,b){c.exports=function(o,j,s,q,d,f){function i(k,l){var u=k,v=0,w=0;o.pmouseX=o.mouseX;o.pmouseY=o.mouseY;if(u.offsetParent){do{v+=u.offsetLeft,w+=u.offsetTop}while(u=u.offsetParent)}u=k;do{v-=u.scrollLeft||0,w-=u.scrollTop||0}while(u=u.parentNode);var x,z,A,B;q.defaultView&&q.defaultView.getComputedStyle&&(x=parseInt(q.defaultView.getComputedStyle(k,null).paddingLeft,10)||0,z=parseInt(q.defaultView.getComputedStyle(k,null).paddingTop,10)||0,A=parseInt(q.defaultView.getComputedStyle(k,null).borderLeftWidth,10)||0,B=parseInt(q.defaultView.getComputedStyle(k,null).borderTopWidth,10)||0);v=v+x+A;w=w+z+B;v+=window.pageXOffset;w+=window.pageYOffset;return{X:v,Y:w}}function h(e,g){var k=i(e,g);o.mouseX=g.pageX-k.X;o.mouseY=g.pageY-k.Y}function r(e){var k=i(e.changedTouches[0].target,e.changedTouches[0]),l;for(l=0;l<e.touches.length;l++){var m=e.touches[l];m.offsetX=m.pageX-k.X;m.offsetY=m.pageY-k.Y}for(l=0;l<e.targetTouches.length;l++){m=e.targetTouches[l],m.offsetX=m.pageX-k.X,m.offsetY=m.pageY-k.Y}for(l=0;l<e.changedTouches.length;l++){m=e.changedTouches[l],m.offsetX=m.pageX-k.X,m.offsetY=m.pageY-k.Y}return e}s(j,"touchstart",function(k){j.setAttribute("style","-webkit-user-select: none");j.setAttribute("onclick","void(0)");j.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var g=0,n=eventHandlers.length;g<n;g++){var m=eventHandlers[g].type;"mouseout"!==m&&"mousemove"!==m&&"mousedown"!==m&&"mouseup"!==m&&"DOMMouseScroll"!==m&&"mousewheel"!==m&&"touchstart"!==m||detachEventHandler(eventHandlers[g])}o.touchStart!==f||o.touchMove!==f||o.touchEnd!==f||o.touchCancel!==f?(s(j,"touchstart",function(e){o.touchStart!==f&&(e=r(e),o.touchStart(e))}),s(j,"touchmove",function(e){o.touchMove!==f&&(e.preventDefault(),e=r(e),o.touchMove(e))}),s(j,"touchend",function(e){o.touchEnd!==f&&(e=r(e),o.touchEnd(e))}),s(j,"touchcancel",function(e){o.touchCancel!==f&&(e=r(e),o.touchCancel(e))})):(s(j,"touchstart",function(e){h(j,e.touches[0]);o.__mousePressed=!0;o.mouseDragging=!1;o.mouseButton=d.LEFT;"function"===typeof o.mousePressed&&o.mousePressed()}),s(j,"touchmove",function(e){e.preventDefault();h(j,e.touches[0]);"function"!==typeof o.mouseMoved||o.__mousePressed||o.mouseMoved();"function"===typeof o.mouseDragged&&o.__mousePressed&&(o.mouseDragged(),o.mouseDragging=!0)}),s(j,"touchend",function(e){o.__mousePressed=!1;"function"!==typeof o.mouseClicked||o.mouseDragging||o.mouseClicked();"function"===typeof o.mouseReleased&&o.mouseReleased()}));j.dispatchEvent(k)});(function(){var e=!0,g=function(k){k.preventDefault();k.stopPropagation()};o.disableContextMenu=function(){e&&(s(j,"contextmenu",g),e=!1)};o.enableContextMenu=function(){e||(detachEventHandler({elem:j,type:"contextmenu",fn:g}),e=!0)}})();s(j,"mousemove",function(e){h(j,e);"function"!==typeof o.mouseMoved||o.__mousePressed||o.mouseMoved();"function"===typeof o.mouseDragged&&o.__mousePressed&&(o.mouseDragged(),o.mouseDragging=!0)});s(j,"mouseout",function(e){"function"===typeof o.mouseOut&&o.mouseOut()});s(j,"mouseover",function(e){h(j,e);"function"===typeof o.mouseOver&&o.mouseOver()});j.onmousedown=function(){j.focus();return !1};s(j,"mousedown",function(e){o.__mousePressed=!0;o.mouseDragging=!1;switch(e.which){case 1:o.mouseButton=d.LEFT;break;case 2:o.mouseButton=d.CENTER;break;case 3:o.mouseButton=d.RIGHT}"function"===typeof o.mousePressed&&o.mousePressed()});s(j,"mouseup",function(e){o.__mousePressed=!1;"function"!==typeof o.mouseClicked||o.mouseDragging||o.mouseClicked();"function"===typeof o.mouseReleased&&o.mouseReleased()});var t=function(e){var g=0;e.wheelDelta?(g=e.wheelDelta/120,window.opera&&(g=-g)):e.detail&&(g=-e.detail/3);(o.mouseScroll=g)&&"function"===typeof o.mouseScrolled&&o.mouseScrolled()};s(q,"DOMMouseScroll",t);s(q,"mousewheel",t)}},{}],25:[function(a,c,b){c.exports=function(o,j){function s(){var k="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random Random randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");h&&Object.keys(h).forEach(function(e){k.push(e)});var l={},n,u;n=0;for(u=k.length;n<u;++n){l[k[n]]=null}for(var v in o.lib){if(o.lib.hasOwnProperty(v)&&o.lib[v].exports){var w=o.lib[v].exports;n=0;for(u=w.length;n<u;++n){l[w[n]]=null}}}return l}function q(p){function G(g){var k=/^\s*/.exec(g);if(k[0].length===g.length){g={left:k[0],middle:"",right:""}}else{var l=/\s*$/.exec(g);g={left:k[0],middle:g.substring(k[0].length,l.index),right:l[0]}}g.untrim=function(m){return this.left+m+this.right};return g}function B(g){return g.replace(/^\s+/,"").replace(/\s+$/,"")}function ac(g,k){for(var m=0,l=k.length;m<l;++m){g[k[m]]=null}return g}function ao(g){for(var k in g){if(g.hasOwnProperty(k)){return !1}}return !0}function az(g){return g.substring(2,g.length-1)}function au(g,k){var l=aD.length;aD.push(g);return'"'+k+l+'"'}function aY(g){g=g.replace(aK,function(k){return au(k,"E")});g=g.replace(av,function(k){return au(k,"D")});return g=g.replace(am,function(k){return au(k,"H")})}function a2(g,k){return g.replace(O,function(l,u,m,y,v,C){return m!==k?l:au(l,"G")})}function aI(g){this.name=g}function I(g,k){this.params=g;this.methodArgsParam=k}function ap(g){var k=B(g.substring(1,g.length-1));g=[];var l=null;if(""!==k){for(var k=k.split(","),u=0;u<k.length;++u){var m=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(k[u]);if(u===k.length-1&&0<=k[u].indexOf("...")){l=new aI(m[1]);break}g.push(new aI(m[1]))}}return new I(g,l)}function aJ(g){function k(u,v,y,C){u=aD[C];m=!0;u=G(u.substring(1,u.length-1));return"__"+y+(""===u.middle?au("("+v.replace(/\.\s*$/,"")+")","B"):au("("+v.replace(/\.\s*$/,"")+","+u.middle+")","B"))}function l(u,v,y){m=!0;return"__instanceof"+au("("+v+", "+y+")","B")}g=g.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(u,v,y){return y});g=g.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(u,v,y){return au(u,"F")});g=g.replace(am,function(u){return au(u,"H")});g=g.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(u,v,y){u=y.replace(/"C(\d+)"/g,function(C,D){return aD[D]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");u="{"+u.substring(1,u.length-1)+"}";v="('"+v+"', "+au(u,"A")+")";return"$p.createJavaArray"+au(v,"B")});g=g.replace(/(\.\s*length)\s*"B\d+"/g,"$1");g=g.replace(/#([0-9A-Fa-f]{6})\b/g,function(u,v){return"0xFF"+v});g=g.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(u,v,y){v=aD[v];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(v)){return u}if(/^\(\s*int\s*\)$/.test(v)){return"(int)"+y}v=v.split(/"C(\d+)"/g);return 1<v.length&&!/^\[\s*\]$/.test(aD[v[1]])?u:""+y});g=g.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(u,v){var y=G(v);return y.untrim("__int_cast("+y.middle+")")});g=g.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");g=g.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(u,v,y){return v===y?u:""===y?"0"+v:v});g=g.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");g=g.replace(/([^\s])%([^=\s])/g,"$1 % $2");g=g.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");g=g.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(u,v){return"parse"+v.substring(0,1).toUpperCase()+v.substring(1)+'"B'});g=g.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(u,v,C,y,H,D){return C?(u=aD[y],H?"pixels.setPixel"+au("("+u.substring(1,u.length-1)+","+D+")","B"):"pixels.getPixel"+au("("+u.substring(1,u.length-1)+")","B")):v?"pixels.getLength"+au("()","B"):H?"pixels.set"+au("("+D+")","B"):"pixels.toArray"+au("()","B")});var m;do{m=!1,g=g.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,k)}while(m);do{m=!1,g=g.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,l)}while(m);return g=g.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function aU(g,k){this.baseInterfaceName=g;this.body=k;k.owner=this}function aF(g){var k=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(g);g=ak;var m="class"+ ++w;ak=m;var l=k[1]+"$"+m,k=new aU(l,P(aD[k[2]],l,"","implements "+k[1]));k.classId=m;k.scopeId=g;a3[m]=k;ak=g;return k}function ai(g,k,l){this.name=g;this.params=k;this.body=l}function aV(g){g=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(g);return new ai("function"!==g[1]?g[1]:null,ap(aD[g[2]]),aM(aD[g[3]]))}function a4(g){this.members=g}function aZ(g){g=g.split(",");for(var k=0;k<g.length;++k){var l=g[k].indexOf(":");g[k]=0>l?{value:aA(g[k])}:{label:B(g[k].substring(0,l)),value:aA(B(g[k].substring(l+1)))}}return new a4(g)}function e(g){if("("===g.charAt(0)||"["===g.charAt(0)){return g.charAt(0)+e(g.substring(1,g.length-1))+g.charAt(g.length-1)}if("{"===g.charAt(0)){return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(g)?"{"+au(g.substring(1,g.length-1),"I")+"}":"["+e(g.substring(1,g.length-1))+"]"}g=G(g);var k=aJ(g.middle),k=k.replace(/"[ABC](\d+)"/g,function(l,m){return e(aD[m])});return g.untrim(k)}function aO(g){return g.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(k,l,u,m,y,v){return l?k:E({name:u,member:y,callSign:!!v})+(m===t?"":m)})}function aR(g,k){this.expr=g;this.transforms=k}function n(g,k,l){this.name=g;this.value=k;this.isDefault=l}function z(g,k){var l=g.indexOf("="),u,m;0>l?(u=g,l=k,m=!0):(u=g.substring(0,l),l=aA(g.substring(l+1)),m=!1);return new n(B(u.replace(/(\s*"C\d+")+/g,"")),l,m)}function aP(g){return"int"===g||"float"===g?"0":"boolean"===g?"false":"color"===g?"0x00000000":"null"}function F(g,k){this.definitions=g;this.varType=k}function W(g){this.expression=g}function M(g){if(ab.test(g)){var k=aT.exec(g);g=g.substring(k[0].length).split(",");for(var m=aP(k[2]),l=0;l<g.length;++l){g[l]=z(g[l],m)}return new F(g,k[2])}return new W(aA(g))}function ad(g,k,l){this.initStatement=g;this.condition=k;this.step=l}function ah(g,k){this.initStatement=g;this.container=k}function a1(g,k){this.initStatement=g;this.container=k}function a5(g){if(/\bin\b/.test(g)){return g=g.substring(1,g.length-1).split(/\bin\b/g),new ah(M(B(g[0])),aA(g[1]))}if(0<=g.indexOf(":")&&0>g.indexOf(";")){return g=g.substring(1,g.length-1).split(":"),new a1(M(B(g[0])),aA(g[1]))}g=g.substring(1,g.length-1).split(";");return new ad(M(B(g[0])),aA(g[1]),aA(g[2]))}function aS(g){g.sort(function(k,l){return l.weight-k.weight})}function al(g,k,l){this.name=g;this.body=k;this.isStatic=l;k.owner=this}function aj(g,k,l){this.name=g;this.body=k;this.isStatic=l;k.owner=this}function an(g){var k=aK.exec(g);aK.lastIndex=0;var m=0<=k[1].indexOf("static"),l=aD[az(k[6])];g=ak;var u="class"+ ++w;ak=u;k="interface"===k[2]?new al(k[3],S(l,k[3],k[4]),m):new aj(k[3],P(l,k[3],k[4],k[5]),m);k.classId=u;k.scopeId=g;a3[u]=k;ak=g;return k}function at(g,k,m,l){this.name=g;this.params=k;this.body=m;this.isStatic=l}function aa(g){g=av.exec(g);av.lastIndex=0;var k=0<=g[1].indexOf("static"),l=";"!==g[6]?aD[az(g[6])]:"{}";return new at(g[3],ap(aD[az(g[4])]),aM(l),k)}function ay(g,k,l){this.definitions=g;this.fieldType=k;this.isStatic=l}function aW(g){var k=aT.exec(g),m=0<=k[1].indexOf("static");g=g.substring(k[0].length).split(/,\s*/g);for(var l=aP(k[2]),u=0;u<g.length;++u){g[u]=z(g[u],l)}return new ay(g,k[2],m)}function aC(g,k){this.params=g;this.body=k}function x(g){g=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(g);var k=ap(aD[g[1]]);return new aC(k,aM(aD[g[2]]))}function ar(g,k,m,l,v,u){this.name=g;this.interfacesNames=k;this.methodsNames=m;this.fields=l;this.innerClasses=v;this.misc=u;g=0;for(k=l.length;g<k;++g){l[g].owner=this}}function af(l,m,v,u,C,y,D,H,K){this.name=l;this.baseClassName=m;this.interfacesNames=v;this.functions=u;this.methods=C;this.fields=y;this.cstrs=D;this.innerClasses=H;this.misc=K;l=0;for(m=y.length;l<m;++l){y[l].owner=this}}function ax(g,k){this.name=g;this.body=k;k.owner=this}function aB(g,k){this.name=g;this.body=k;k.owner=this}function aE(g){var k=aK.exec(g);aK.lastIndex=0;var m=aD[az(k[6])];g=ak;var l="class"+ ++w;ak=l;k="interface"===k[2]?new ax(k[3],S(m,k[3],k[4])):new aB(k[3],P(m,k[3],k[4],k[5]));k.classId=l;k.scopeId=g;a3[l]=k;ak=g;return k}function aX(g,k,l){this.name=g;this.params=k;this.body=l}function aN(g){g=av.exec(g);av.lastIndex=0;return new aX(g[3],ap(aD[az(g[4])]),aM(aD[az(g[6])]))}function aG(g,k){this.argument=g;this.misc=k}function A(g,k){this.argument=g;this.misc=k}function aQ(g,k,l){this.name=g;this.argument=k;this.misc=l}function aH(g){this.expr=g}function a0(g){this.label=g}function X(g){for(var k=[],m=0,l=g.length;m<l;++m){var u=g[m];u instanceof F?k=k.concat(u.getNames()):u instanceof aG&&u.argument.initStatement instanceof F?k=k.concat(u.argument.initStatement.getNames()):(u instanceof al||u instanceof aj||u instanceof ax||u instanceof aB||u instanceof aX||u instanceof ai)&&k.push(u.name)}return ac({},k)}function ae(g){this.statements=g}function J(g){this.statements=g}var ag=s(),aL=[];p=p.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(k,l,u,m,y,v,C,D){return l||u?(l=aL.length,aL.push(k),"'"+l+"'"):m?(l=aL.length,aL.push(v),y+"'"+l+"'"):""!==D?" ":"\n"});p=p.replace(/__x([0-9A-F]{4})/g,function(g,k){return"__x005F_x"+k});p=p.replace(/\$/g,"__x0024");p=p.replace(/return\s*[\n\r]+/g,"return ");var aq,aw=function(g,k,m,l){if(k||l){return g}aq=!0;return""};do{aq=!1,p=p.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,aw)}while(aq);var aD=function(k){var l=[];k=k.split(/([\{\[\(\)\]\}])/);for(var u=k[0],m=[],y=1;y<k.length;y+=2){var v=k[y];if("["===v||"{"===v||"("===v){m.push(u),u=v}else{if("]"===v||"}"===v||")"===v){var C="}"===v?"A":")"===v?"B":"C",D=l.length;l.push(u+v);u=m.pop()+'"'+C+(D+1)+'"'}}u+=k[y+1]}l.unshift(u);return l}(p),E,a3={},ak,w=0,P,S,aM,L,aA,aK=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,av=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,ab=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,O=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,aT=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,am=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;aI.prototype.toString=function(){return this.name};I.prototype.getNames=function(){for(var g=[],k=0,l=this.params.length;k<l;++k){g.push(this.params[k].name)}return g};I.prototype.prependMethodArgs=function(g){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+g.substring(1):g};I.prototype.toString=function(){if(0===this.params.length){return"()"}for(var g="(",k=0,l=this.params.length;k<l;++k){g+=this.params[k]+", "}return g.substring(0,g.length-2)+")"};aU.prototype.toString=function(){return"new ("+this.body+")"};ai.prototype.toString=function(){var g=E,k=ac({"this":null},this.params.getNames());E=function(u){return k.hasOwnProperty(u.name)?u.name:g(u)};var m="function";this.name&&(m+=" "+this.name);var l=this.params.prependMethodArgs(this.body.toString()),m=m+(this.params+" "+l);E=g;return m};a4.prototype.toString=function(){var g=E;E=function(u){return"this"===u.name?"this":g(u)};for(var k="",m=0,l=this.members.length;m<l;++m){this.members[m].label&&(k+=this.members[m].label+": "),k+=this.members[m].value.toString()+", "}E=g;return k.substring(0,k.length-2)};aR.prototype.toString=function(){var g=this.transforms;return aO(this.expr).replace(/"!(\d+)"/g,function(k,l){return g[l].toString()})};aA=function(g){var k=[];g=e(g);g=g.replace(/"H(\d+)"/g,function(l,m){k.push(aV(aD[m]));return'"!'+(k.length-1)+'"'});g=g.replace(/"F(\d+)"/g,function(l,m){k.push(aF(aD[m]));return'"!'+(k.length-1)+'"'});g=g.replace(/"I(\d+)"/g,function(l,m){k.push(aZ(aD[m]));return'"!'+(k.length-1)+'"'});return new aR(g,k)};n.prototype.toString=function(){return this.name+" = "+this.value};F.prototype.getNames=function(){for(var g=[],k=0,l=this.definitions.length;k<l;++k){g.push(this.definitions[k].name)}return g};F.prototype.toString=function(){return"var "+this.definitions.join(",")};W.prototype.toString=function(){return this.expression.toString()};ad.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};ah.prototype.toString=function(){var g=this.initStatement.toString();0<=g.indexOf("=")&&(g=g.substring(0,g.indexOf("=")));return"("+g+" in "+this.container+")"};a1.iteratorId=0;a1.prototype.toString=function(){var g=this.initStatement.toString(),k="$it"+a1.iteratorId++,g=g.replace(/^\s*var\s*/,"").split("=")[0];return"("+("var "+k+" = new $p.ObjectIterator("+this.container+"), "+g+" = void(0)")+"; "+(k+".hasNext() && (("+g+" = "+k+".next()) || true)")+";)"};al.prototype.toString=function(){return""+this.body};aj.prototype.toString=function(){return""+this.body};at.prototype.toString=function(){var g=ac({},this.params.getNames()),k=E;E=function(m){return g.hasOwnProperty(m.name)?m.name:k(m)};var l=this.params.prependMethodArgs(this.body.toString()),l="function "+this.methodId+this.params+" "+l+"\n";E=k;return l};ay.prototype.getNames=function(){for(var g=[],k=0,l=this.definitions.length;k<l;++k){g.push(this.definitions[k].name)}return g};ay.prototype.toString=function(){var k=E({name:"[this]"});if(this.isStatic){for(var l=this.owner.name,u=[],m=0,y=this.definitions.length;m<y;++m){var v=this.definitions[m],C=v.name,D=l+"."+C;u.push("if("+D+" === void(0)) {\n "+D+" = "+v.value+"; }\n$p.defineProperty("+k+", '"+C+"', { get: function(){return "+D+";}, set: function(val){"+D+" = val;} });\n")}return u.join("")}return k+"."+this.definitions.join("; "+k+".")};aC.prototype.toString=function(){var g=ac({},this.params.getNames()),k=E;E=function(u){return g.hasOwnProperty(u.name)?u.name:k(u)};var m="function $constr_"+this.params.params.length+this.params.toString(),l=this.params.prependMethodArgs(this.body.toString());/\$(superCstr|constr)\b/.test(l)||(l="{\n$superCstr();\n"+l.substring(1));E=k;return m+l+"\n"};ar.prototype.getMembers=function(k,l,u){this.owner.base&&this.owner.base.body.getMembers(k,l,u);var m,y,v,C;m=0;for(v=this.fields.length;m<v;++m){var D=this.fields[m].getNames();y=0;for(C=D.length;y<C;++y){k[D[y]]=this.fields[m]}}m=0;for(v=this.methodsNames.length;m<v;++m){l[this.methodsNames[m]]=!0}m=0;for(v=this.innerClasses.length;m<v;++m){k=this.innerClasses[m],u[k.name]=k}};ar.prototype.toString=function(){for(var k=this.owner,l=0;k;){++l,k=k.scope}var k=this.name,u=l="";this.getMembers({},{},{});var m,y;if(this.owner.interfaces){var v=[],C;m=0;for(y=this.interfacesNames.length;m<y;++m){this.owner.interfaces[m]&&(C=E({name:this.interfacesNames[m]}),v.push(C),l+="$p.extendInterfaceMembers("+k+", "+C+");\n")}u+=k+".$interfaces = ["+v.join(", ")+"];\n"}u=u+(k+".$isInterface = true;\n")+(k+".$methods = ['"+this.methodsNames.join("', '")+"'];\n");aS(this.innerClasses);m=0;for(y=this.innerClasses.length;m<y;++m){v=this.innerClasses[m],v.isStatic&&(l+=k+"."+v.name+" = "+v+";\n")}m=0;for(y=this.fields.length;m<y;++m){v=this.fields[m],v.isStatic&&(l+=k+"."+v.definitions.join(";\n"+k+".")+";\n")}return"(function() {\nfunction "+k+"() { throw 'Unable to create the interface'; }\n"+l+u+"return "+k+";\n})()"};S=function(l,m,u){l=l.substring(1,l.length-1);l=aY(l);l=a2(l,m);var y=[],v=[];l=l.replace(/"([DE])(\d+)"/g,function(g,k,K){"D"===k?y.push(K):"E"===k&&v.push(K);return""});l=l.split(/;(?:\s*;)*/g);var C,D;u!==t&&(C=u.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));u=0;for(D=y.length;u<D;++u){var H=aa(aD[y[u]]);y[u]=H.name}u=0;for(D=l.length-1;u<D;++u){H=G(l[u]),l[u]=aW(H.middle)}H=l.pop();u=0;for(D=v.length;u<D;++u){v[u]=an(aD[v[u]])}return new ar(m,C,y,l,v,{tail:H})};af.prototype.getMembers=function(k,l,u){this.owner.base&&this.owner.base.body.getMembers(k,l,u);var m,y,v,C;m=0;for(v=this.fields.length;m<v;++m){var D=this.fields[m].getNames();y=0;for(C=D.length;y<C;++y){k[D[y]]=this.fields[m]}}m=0;for(v=this.methods.length;m<v;++m){k=this.methods[m],l[k.name]=k}m=0;for(v=this.innerClasses.length;m<v;++m){l=this.innerClasses[m],u[l.name]=l}};af.prototype.toString=function(){var y="$this_"+function(g){for(var k=0;g;){++k,g=g.scope}return k}(this.owner),C=this.name,D="var "+y+" = this;\n",K="",H="",N={},Q={},R={};this.getMembers(N,Q,R);var U=E;E=function(k){var g=k.name;return"this"===g?k.callSign||!k.member?y+".$self":y:N.hasOwnProperty(g)?N[g].isStatic?C+"."+g:y+"."+g:R.hasOwnProperty(g)?y+"."+g:Q.hasOwnProperty(g)?Q[g].isStatic?C+"."+g:y+".$self."+g:U(k)};var Y;this.baseClassName?(Y=U({name:this.baseClassName}),D=D+("var $super = { $upcast: "+y+" };\n")+("function $superCstr(){"+Y+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n"),H+=C+".$base = "+Y+";\n"):D+="function $superCstr(){$p.extendClassChain("+y+")}\n";this.owner.base&&(K+="$p.extendStaticMembers("+C+", "+Y+");\n");var T,V,a6;if(this.owner.interfaces){V=[];Y=0;for(T=this.interfacesNames.length;Y<T;++Y){this.owner.interfaces[Y]&&(a6=U({name:this.interfacesNames[Y]}),V.push(a6),K+="$p.extendInterfaceMembers("+C+", "+a6+");\n")}H+=C+".$interfaces = ["+V.join(", ")+"];\n"}0<this.functions.length&&(D+=this.functions.join("\n")+"\n");aS(this.innerClasses);Y=0;for(T=this.innerClasses.length;Y<T;++Y){V=this.innerClasses[Y],V.isStatic?(K+=C+"."+V.name+" = "+V+";\n",D+=y+"."+V.name+" = "+C+"."+V.name+";\n"):D+=y+"."+V.name+" = "+V+";\n"}Y=0;for(T=this.fields.length;Y<T;++Y){var a8=this.fields[Y];if(a8.isStatic){for(K+=C+"."+a8.definitions.join(";\n"+C+".")+";\n",V=0,a6=a8.definitions.length;V<a6;++V){var a7=a8.definitions[V].name,Z=C+"."+a7,D=D+("$p.defineProperty("+y+", '"+a7+"', {get: function(){return "+Z+"}, set: function(val){"+Z+" = val}});\n")}}else{D+=y+"."+a8.definitions.join(";\n"+y+".")+";\n"}}V={};Y=0;for(T=this.methods.length;Y<T;++Y){a6=this.methods[Y],a8=V[a6.name],a7=a6.name+"$"+a6.params.params.length,Z=!!a6.params.methodArgsParam,a8?(++a8,a7+="_"+a8):a8=1,a6.methodId=a7,V[a6.name]=a8,a6.isStatic?(K+=a6,K+="$p.addMethod("+C+", '"+a6.name+"', "+a7+", "+Z+");\n"):D+=a6,D+="$p.addMethod("+y+", '"+a6.name+"', "+a7+", "+Z+");\n"}D+=B(this.misc.tail);0<this.cstrs.length&&(D+=this.cstrs.join("\n")+"\n");D+="function $constr() {\n";V=[];Y=0;for(T=this.cstrs.length;Y<T;++Y){a6=this.cstrs[Y].params.params.length,V.push("if(arguments.length "+(this.cstrs[Y].params.methodArgsParam?">=":"===")+" "+a6+") { $constr_"+a6+".apply("+y+", arguments); }")}0<V.length&&(D+=V.join(" else ")+" else ");D+="$superCstr();\n}\n";D+="$constr.apply(null, arguments);\n";E=U;return"(function() {\nfunction "+C+"() {\n"+D+"}\n"+K+H+"return "+C+";\n})()"};P=function(l,u,v,C){l=l.substring(1,l.length-1);l=aY(l);l=a2(l,u);var y=[],D=[],H=[],K=[];l=l.replace(/"([DEGH])(\d+)"/g,function(g,k,m){"D"===k?y.push(m):"E"===k?D.push(m):"H"===k?K.push(m):H.push(m);return""});l=l.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var N,Q;v!==t&&(N=v.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1"));C!==t&&(Q=C.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g));for(v=0;v<K.length;++v){K[v]=aV(aD[K[v]])}for(v=0;v<y.length;++v){y[v]=aa(aD[y[v]])}for(v=0;v<l.length-1;++v){C=G(l[v]),l[v]=aW(C.middle)}C=l.pop();for(v=0;v<H.length;++v){H[v]=x(aD[H[v]])}for(v=0;v<D.length;++v){D[v]=an(aD[D[v]])}return new af(u,N,Q,K,y,l,H,D,{tail:C})};ax.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};aB.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};aX.prototype.toString=function(){var g=ac({},this.params.getNames()),k=E;E=function(m){return g.hasOwnProperty(m.name)?m.name:k(m)};var l=this.params.prependMethodArgs(this.body.toString()),l="function "+this.name+this.params+" "+l+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";E=k;return l};aG.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};A.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};aQ.prototype.toString=function(){var g=this.misc.prefix;this.argument!==t&&(g+=this.argument.toString());return g};aH.prototype.toString=function(){return"case "+this.expr+":"};a0.prototype.toString=function(){return this.label};L=function(l,u,y){var v=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),C=[];l=l.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var D=0,H,K;null!==(H=v.exec(l));){if(H[1]!==t){K=l.lastIndexOf('"B',v.lastIndex),D=l.substring(D,K),"for"===H[1]?C.push(new aG(a5(aD[H[2]]),{prefix:D})):"catch"===H[1]?C.push(new A(ap(aD[H[2]]),{prefix:D})):C.push(new aQ(H[1],aA(aD[H[2]]),{prefix:D}))}else{if(H[3]!==t){C.push(new aQ(H[3],t,{prefix:l.substring(D,v.lastIndex)}))}else{if(H[4]!==t){K=l.substring(D,v.lastIndex-H[4].length);if(0!==B(K).length){continue}C.push(K);D=H[4].charAt(1);H=H[5];"D"===D?C.push(u(aD[H])):"E"===D?C.push(y(aD[H])):"H"===D?C.push(aV(aD[H])):C.push(aM(aD[H]))}else{if(H[6]!==t){C.push(new aH(aA(B(H[7]))))}else{if(H[8]!==t){K=l.substring(D,v.lastIndex-H[8].length);if(0!==B(K).length){continue}C.push(new a0(l.substring(D,v.lastIndex)))}else{H=G(l.substring(D,v.lastIndex-1)),C.push(H.left),C.push(M(H.middle)),C.push(H.right+";")}}}}}D=v.lastIndex}u=G(l.substring(D));C.push(u.left);""!==u.middle&&(C.push(M(u.middle)),C.push(";"+u.right));return C};ae.prototype.toString=function(){var g=X(this.statements),k=E;ao(g)||(E=function(m){return g.hasOwnProperty(m.name)?m.name:k(m)});var l="{\n"+this.statements.join("")+"\n}";E=k;return l};aM=function(g){g=G(g.substring(1,g.length-1));return new ae(L(g.middle))};J.prototype.toString=function(){for(var l=[],u=[],m,v=0,y=this.statements.length;v<y;++v){m=this.statements[v],m instanceof aB||m instanceof ax?l.push(m):u.push(m)}aS(l);var C=X(this.statements);E=function(g){g=g.name;return C.hasOwnProperty(g)?g:ag.hasOwnProperty(g)||i.hasOwnProperty(g)||f.hasOwnProperty(g)?"$p."+g:g};l="// this code was autogenerated from PJS\n(function($p) {\n"+l.join("")+"\n"+u.join("")+"\n})";E=null;return l};p=function(){var g=aY(aD[0]),g=g.replace(/\bimport\s+[^;]+;/g,"");return new J(L(g,aN,aE))}();(function(l){function m(k,N){for(var R=N.split("."),Q=k.scope,T;Q;){if(Q.hasOwnProperty(R[0])){T=Q[R[0]];break}Q=Q.scope}T===t&&(T=v[R[0]]);for(var Q=1,U=R.length;Q<U&&T;++Q){T=T.inScope[R[Q]]}return T}var v={},u;for(u in a3){if(a3.hasOwnProperty(u)){l=a3[u];var C=l.scopeId,y=l.name;C?(C=a3[C],l.scope=C,C.inScope===t&&(C.inScope={}),C.inScope[y]=l):v[y]=l}}for(u in a3){if(a3.hasOwnProperty(u)){l=a3[u];if(y=l.body.baseClassName){if(y=m(l,y)){l.base=y,y.derived||(y.derived=[]),y.derived.push(l)}}var y=l.body.interfacesNames,C=[],D,H;if(y&&0<y.length){D=0;for(H=y.length;D<H;++D){var K=m(l,y[D]);C.push(K);K&&(K.derived||(K.derived=[]),K.derived.push(l))}0<C.length&&(l.interfaces=C)}}}})(p);(function(k){function l(g,D){var K=u[g];if(!K){return !1}var H=K.indexOf(D);if(0>H){return !1}K.splice(H,1);if(0<K.length){return !1}delete u[g];return !0}k=[];var u={},m,y,v;for(m in a3){if(a3.hasOwnProperty(m)){if(v=a3[m],v.inScope||v.derived){var C=[];if(v.inScope){for(y in v.inScope){v.inScope.hasOwnProperty(y)&&C.push(v.inScope[y])}}v.derived&&(C=C.concat(v.derived));u[m]=C}else{k.push(m),v.weight=0}}}for(;0<k.length;){if(m=k.shift(),v=a3[m],v.scopeId&&l(v.scopeId,v)&&(k.push(v.scopeId),a3[v.scopeId].weight=v.weight+1),v.base&&l(v.base.classId,v)&&(k.push(v.base.classId),v.base.weight=v.weight+1),v.interfaces){for(m=0,y=v.interfaces.length;m<y;++m){v.interfaces[m]&&l(v.interfaces[m].classId,v)&&(k.push(v.interfaces[m].classId),v.interfaces[m].weight=v.weight+1)}}}})(p);p=p.toString();p=p.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");p=p.replace(/__x([0-9A-F]{4})/g,function(g,k){return String.fromCharCode(parseInt(k,16))});return function(g,k){return g.replace(/'(\d+)'/g,function(l,u){var m=k[u];return"/"===m.charAt(0)?m:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(m)?"(new $p.Character("+m+"))":m})}(p,aL)}function d(u,v){var w=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(u);if(w&&2===w.length){for(var z=[],w=w.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,g){z.push(g);return"{"+(z.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),A=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},B=0,E=w.length;B<E;B++){var G=w[B].split("=");if(G&&2===G.length){var F=A(G[0]),C=A(G[1]),G=[];if("preload"===F){for(G=C.split(","),F=0,C=G.length;F<C;F++){var H=A(G[F]);v.imageCache.add(H)}}else{if("font"===F){for(G=C.split(","),F=0,C=G.length;F<C;F++){var H=A(G[F]),x=/^\{(\d*?)\}$/.exec(H);PFont.preloading.add(x?JSON.parse("{"+z[x[1]]+"}"):H)}}else{"pauseOnBlur"===F?v.options.pauseOnBlur="true"===C:"globalKeyEvents"===F?v.options.globalKeyEvents="true"===C:"param-"===F.substring(0,6)?v.params[F.substring(6)]=C:v.options[F]=C}}}}}return u}var f=j.defaultScope,i=f.PConstants,h=j.aFunctions,r=j.Browser.document,t;o.compile=function(e){var g=new o.Sketch;e=d(e,g);e=q(e);g.sourceCode=e;return g};o.logger=new function(e){var g={BufferMax:200};g.wrapper=e.createElement("div");g.wrapper.setAttribute("style","opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa");g.dragger=e.createElement("div");g.dragger.setAttribute("style","display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333");g.closer=e.createElement("div");g.closer.onmouseover=function(){g.closer.style.setProperty("background-color","#ccc")};g.closer.onmouseout=function(){g.closer.style.setProperty("background-color","#ddd")};g.closer.innerHTML="&#10006;";g.closer.setAttribute("style","opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;");g.javaconsole=e.createElement("div");g.javaconsole.setAttribute("style","overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;");g.wrapper.appendChild(g.dragger);g.wrapper.appendChild(g.javaconsole);g.wrapper.appendChild(g.closer);g.dragger.onmousedown=function(k){g.divheight=g.wrapper.style.height;e.selection?e.selection.empty():window.getSelection().removeAllRanges();var l=k.screenY;window.onmousemove=function(m){g.wrapper.style.height=parseFloat(g.divheight)+(l-m.screenY)+"px";g.javaconsole.style.height=parseFloat(g.divheight)+(l-m.screenY)-10+"px"};window.onmouseup=function(m){e.selection?e.selection.empty():window.getSelection().removeAllRanges();g.wrapper.style.height=parseFloat(g.divheight)+(l-m.screenY)+"px";g.javaconsole.style.height=parseFloat(g.divheight)+(l-m.screenY)-10+"px";window.onmousemove=null;window.onmouseup=null}};g.BufferArray=[];g.print=g.log=function(k){g.BufferArray[g.BufferArray.length-1]?g.BufferArray[g.BufferArray.length-1]+=k+"":g.BufferArray.push(k);g.javaconsole.innerHTML=g.BufferArray.join("");"hidden"===g.wrapper.style.visibility&&(g.wrapper.style.visibility="visible");"hidden"===g.wrapper.style.visibility&&(g.wrapper.style.visibility="visible")};g.println=function(k){e.body.appendChild(g.wrapper);g.print(k);g.BufferArray.push("<br/>");g.javaconsole.innerHTML=g.BufferArray.join("");"hidden"===g.wrapper.style.visibility&&(g.wrapper.style.visibility="visible");g.BufferArray.length>g.BufferMax?g.BufferArray.splice(0,1):g.javaconsole.scrollTop=g.javaconsole.scrollHeight;"hidden"===g.wrapper.style.visibility&&(g.wrapper.style.visibility="visible")};g.showconsole=function(){g.wrapper.style.visibility="visible"};g.hideconsole=function(){g.wrapper.style.visibility="hidden"};g.closer.onclick=function(){g.hideconsole()};g.hideconsole();return g}(r);return o}},{}],26:[function(a,c,b){c.exports=function(z,w){function F(d,e){return d in E?E[d]:"function"===typeof E[e]?E[e]:function(g){if(g instanceof Array){return g}if("number"===typeof g){var k=[];k.length=g;return k}}}var C=z.defaultScope,f=z.extend,i=z.Browser,t=i.ajax,j=i.navigator,E=i.window,H=i.document,L=z.noop,o=C.PConstants;PFont=C.PFont;PShapeSVG=C.PShapeSVG;PVector=C.PVector;Char=Character=C.Char;ObjectIterator=C.ObjectIterator;XMLElement=C.XMLElement;XML=C.XML;var N=E.HTMLCanvasElement,s=E.HTMLImageElement,x=E.localStorage;H.head||(H.head=H.getElementsByTagName("head")[0]);var h=F("Float32Array","WebGLFloatArray"),J=F("Int32Array","WebGLIntArray"),M=F("Uint16Array","WebGLUnsignedShortArray"),u=F("Uint8Array","WebGLUnsignedByteArray");if(9<=H.documentMode&&!H.doctype){throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>"}var I=[],O={},B=this.Processing=function(D,bg,bC){function a0(k,n,P){k.addEventListener?k.addEventListener(n,P,!1):k.attachEvent("on"+n,P);cH.push({elem:k,type:n,fn:P})}function cw(k,n,T,R){var P=aC.locations[k];P===w&&(P=aP.getUniformLocation(n,T),aC.locations[k]=P);null!==P&&(4===R.length?aP.uniform4fv(P,R):3===R.length?aP.uniform3fv(P,R):2===R.length?aP.uniform2fv(P,R):aP.uniform1f(P,R))}function c8(k,n,T,R){var P=aC.locations[k];P===w&&(P=aP.getUniformLocation(n,T),aC.locations[k]=P);null!==P&&(4===R.length?aP.uniform4iv(P,R):3===R.length?aP.uniform3iv(P,R):2===R.length?aP.uniform2iv(P,R):aP.uniform1i(P,R))}function cE(k,n,U,T,R){var P=aC.locations[k];P===w&&(P=aP.getUniformLocation(n,U),aC.locations[k]=P);-1!==P&&(16===R.length?aP.uniformMatrix4fv(P,T,R):9===R.length?aP.uniformMatrix3fv(P,T,R):aP.uniformMatrix2fv(P,T,R))}function d(k,n,U,T,R){var P=aC.attributes[k];P===w&&(P=aP.getAttribLocation(n,U),aC.attributes[k]=P);-1!==P&&(aP.bindBuffer(aP.ARRAY_BUFFER,R),aP.vertexAttribPointer(P,T,aP.FLOAT,!1,0,0),aP.enableVertexAttribArray(P))}function cg(k,n,R){var P=aC.attributes[k];P===w&&(P=aP.getAttribLocation(n,R),aC.attributes[k]=P);-1!==P&&aP.disableVertexAttribArray(P)}function cp(k,n,R,P){cG===o.HSB?(R=aA.color.toRGB(k,n,R),k=R[0],n=R[1],R=R[2]):(k=Math.round(255*(k/cU)),n=Math.round(255*(n/au)),R=Math.round(255*(R/c2)));P=Math.round(255*(P/aZ));k=0>k?0:k;n=0>n?0:n;R=0>R?0:R;P=0>P?0:P;return(255<P?255:P)<<24&o.ALPHA_MASK|(255<k?255:k)<<16&o.RED_MASK|(255<n?255:n)<<8&o.GREEN_MASK|(255<R?255:R)&o.BLUE_MASK}function g(k){if(k<=cU&&0<=k){if(cG===o.RGB){return cp(k,k,k,aZ)}if(cG===o.HSB){return cp(0,0,k/cU*c2,aZ)}}if(k){return 2147483647<k&&(k-=4294967296),k}}function S(k){var n,T,R;n=((k&o.RED_MASK)>>>16)/255;T=((k&o.GREEN_MASK)>>>8)/255;R=(k&o.BLUE_MASK)/255;k=aA.max(aA.max(n,T),R);var P=aA.min(aA.min(n,T),R);if(P===k){return[0,0,k*c2]}n=(n===k?(T-R)/(k-P):T===k?2+(R-n)/(k-P):4+(n-T)/(k-P))/6;0>n?n+=1:1<n&&(n-=1);return[n*cU,(k-P)/k*au,k*c2]}function ch(){aP.restore();bD=q=!0}function af(){var k=(Date.now()-ct)/1000;ax++;var n=ax/k;0.5<k&&(ct=Date.now(),ax=0,aA.__frameRate=n);aA.frameCount++}function aw(k){k=parseInt("0x"+k,16);2147483647<k&&(k-=4294967296);return k}function am(k){if("number"===typeof k){return 0!==k}if("boolean"===typeof k){return k}if("string"===typeof k){return"true"===k.toLowerCase()}if(k instanceof Char){return 49===k.code||84===k.code||116===k.code}}function aL(k){if("number"===typeof k){return k}if("boolean"===typeof k){return k?1:0}if("string"===typeof k){return parseFloat(k)}if(k instanceof Char){return k.code}}function aU(k,n){if("number"===typeof k){return k&4294967295}if("boolean"===typeof k){return k?1:0}if("string"===typeof k){return parseInt(k,n||10)&4294967295}if(k instanceof Char){return k.code}}function cM(){b5&&(bD&&(aP.fillStyle=aA.color.toString(bp),bD=!1),aP.fill())}function c9(){ad&&(q&&(aP.strokeStyle=aA.color.toString(a7),q=!1),aP.stroke())}function cq(){cM();c9();aP.closePath()}function a8(k,n,U){var R=bB.shift();R===w&&(R={},R.canvas=H.createElement("canvas"),R.context=R.canvas.getContext("2d"));bB.push(R);var P=R.canvas,T=R.context;n=n||k.width;U=U||k.height;P.width=n;P.height=U;k?"data" in k?T.putImageData(k,0,0):(T.clearRect(0,0,n,U),T.drawImage(k,0,0,n,U)):T.clearRect(0,0,n,U);return R}function a2(k){return{getLength:function(n){return function(){if(n.isRemote){throw"Image is loaded remotely. Cannot get length."}return n.imageData.data.length?n.imageData.data.length/4:0}}(k),getPixel:function(n){return function(R){R*=4;var P=n.imageData.data;if(n.isRemote){throw"Image is loaded remotely. Cannot get pixels."}return P[R+3]<<24&o.ALPHA_MASK|P[R]<<16&o.RED_MASK|P[R+1]<<8&o.GREEN_MASK|P[R+2]&o.BLUE_MASK}}(k),setPixel:function(n){return function(U,P){var R=4*U,T=n.imageData.data;if(n.isRemote){throw"Image is loaded remotely. Cannot set pixel."}T[R+0]=(P&o.RED_MASK)>>>16;T[R+1]=(P&o.GREEN_MASK)>>>8;T[R+2]=P&o.BLUE_MASK;T[R+3]=(P&o.ALPHA_MASK)>>>24;n.__isDirty=!0}}(k),toArray:function(n){return function(){var V=[],P=n.imageData.data,R=n.width*n.height;if(n.isRemote){throw"Image is loaded remotely. Cannot get pixels."}for(var U=0,T=0;U<R;U++,T+=4){V.push(P[T+3]<<24&o.ALPHA_MASK|P[T]<<16&o.RED_MASK|P[T+1]<<8&o.GREEN_MASK|P[T+2]&o.BLUE_MASK)}return V}}(k),set:function(n){return function(X){var P,R,U;if(this.isRemote){throw"Image is loaded remotely. Cannot set pixels."}R=n.imageData.data;for(var T=0,V=X.length;T<V;T++){U=X[T],P=4*T,R[P+0]=(U&o.RED_MASK)>>>16,R[P+1]=(U&o.GREEN_MASK)>>>8,R[P+2]=U&o.BLUE_MASK,R[P+3]=(U&o.ALPHA_MASK)>>>24}n.__isDirty=!0}}(k)}}function ba(k,n,T,P){var R=new aJ(T,P,o.ARGB);R.fromImageData(aA.toImageData(k,n,T,P));return R}function bk(P,R,da,T,V){if(V.isRemote){throw"Image is loaded remotely. Cannot get x,y,w,h."}var U=new aJ(da,T,o.ARGB),X=U.imageData.data,Y=V.width,cd=V.height;V=V.imageData.data;var Z=Math.max(0,-R),bd=Math.max(0,-P);T=Math.min(T,cd-R);for(cd=Math.min(da,Y-P);Z<T;++Z){for(var cb=4*((R+Z)*Y+(P+bd)),cc=4*(Z*da+bd),bc=bd;bc<cd;++bc){X[cc++]=V[cb++],X[cc++]=V[cb++],X[cc++]=V[cb++],X[cc++]=V[cb++]}}U.__isDirty=!0;return U}function aD(){b1&&(aP=bI,b1=!1,aA.updatePixels())}function br(){function k(T,R){T[R]=function(){aD();aP[R].apply(aP,arguments)}}function n(R,T){aA.defineProperty(R,T,{get:function(){aD();return aP[T]},set:function(U){aD();aP[T]=U}})}for(var P in aP){"function"===typeof aP[P]?k(this,P):n(this,P)}}function cy(k){return k instanceof String?k:"number"===typeof k?k===(0|k)?k.toString():aA.nf(k,0,3):null===k||k===w?"":k.toString()}function bz(k,n,V,P){var T;0>k.indexOf("\n")?(k=[k],T=1):(k=k.split(/\r?\n/g),T=k.length);var R=0;cN===o.TOP?R=cV+bx:cN===o.CENTER?R=cV/2-(T-1)*p/2:cN===o.BOTTOM&&(R=-(bx+(T-1)*p));for(var U=0;U<T;++U){aR.text$line(k[U],n,V+R,P,bG),R+=p}}function v(P,R,db,T,V,U){if(0!==P.length&&(0!==T&&0!==V)&&!(bF>V)){for(var X=-1,Y=0,da=0,Z=[],bd=0,cb=P.length;bd<cb;bd++){var cc=P[bd],bc=" "===cc,cd=K.measureTextWidth(cc);if("\n"!==cc&&da+cd<=T){bc&&(X=bd),da+=cd}else{if(X+1===Y){if(0<bd){X=bd}else{return}}"\n"===cc?(Z.push({text:P.substring(Y,bd),width:da}),Y=bd+1):(Z.push({text:P.substring(Y,X+1),width:da}),Y=X+1);da=0;bd=Y-1}}Y<cb&&Z.push({text:P.substring(Y),width:da});P=1;X=cV;bG===o.CENTER?P=T/2:bG===o.RIGHT&&(P=T);T=Z.length;Y=Math.min(T,Math.floor(V/p));cN===o.TOP?X=cV+bx:cN===o.CENTER?X=V/2-p*(Y/2-1):cN===o.BOTTOM&&(X=bx+p);for(Y=0;Y<T;Y++){bd=Y*p;if(X+bd>V-bx){break}da=Z[Y];aR.text$line(da.text,R+P,db+X+bd,U,bG)}}}function bi(k){aR="3D"===k?new G:"2D"===k?new ar:new aB;for(var n in aB.prototype){aB.prototype.hasOwnProperty(n)&&0>n.indexOf("$")&&(aA[n]=aR[n])}aR.$init()}function aQ(k){return function(){bi("2D");return aR[k].apply(this,arguments)}}function bq(k){k=k.which||k.keyCode;switch(k){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return k}function by(k){"function"===typeof k.preventDefault?k.preventDefault():"function"===typeof k.stopPropagation&&k.stopPropagation();return !1}function bH(){for(var k in aT){if(aT.hasOwnProperty(k)){aA.__keyPressed=!0;return}}aA.__keyPressed=!1}function cz(k,n){aT[k]=n;bM=null;aA.key=n;aA.keyCode=k;aA.keyPressed();aA.keyCode=0;aA.keyTyped();bH()}function ca(k){var n=bq(k);if(n===o.DELETE){cz(n,new Char(127))}else{if(0>b4.indexOf(n)){bM=n}else{var P=new Char(o.CODED);aA.key=P;aA.keyCode=n;aT[n]=P;aA.keyPressed();bM=null;bH();return by(k)}}}function bN(k){if(null!==bM){var n=bM,R;R=k.which||k.keyCode;var P=k.shiftKey||k.ctrlKey||k.altKey||k.metaKey;switch(R){case 13:R=P?13:10;break;case 8:R=P?127:8}R=new Char(R);cz(n,R);return by(k)}}function aa(k){k=bq(k);var n=aT[k];n!==w&&(aA.key=n,aA.keyCode=k,aA.keyReleased(),delete aT[k],bH())}if(!(this instanceof B)){throw"called Processing constructor as if it were a function: missing 'new'."}var co={},bV=D===w&&bg===w,co=bV?H.createElement("canvas"):"string"===typeof D?H.getElementById(D):D;if(!("getContext" in co)){throw"called Processing constructor without passing canvas element reference or id."}var cH=[],aA=this;aA.Char=aA.Character=Char;f.withCommonFunctions(aA);f.withMath(aA);f.withProxyFunctions(aA,function(k){return Array.prototype.slice.call(k,1)});f.withTouch(aA,co,a0,H,o);bC&&Object.keys(bC).forEach(function(k){aA[k]=bC[k]});aA.externals={canvas:co,context:w,sketch:w,window:E};aA.name="Processing.js Instance";aA.use3DContext=!1;aA.focused=!1;aA.breakShape=!1;aA.glyphTable={};aA.pmouseX=0;aA.pmouseY=0;aA.mouseX=0;aA.mouseY=0;aA.mouseButton=0;aA.mouseScroll=0;aA.mouseClicked=w;aA.mouseDragged=w;aA.mouseMoved=w;aA.mousePressed=w;aA.mouseReleased=w;aA.mouseScrolled=w;aA.mouseOver=w;aA.mouseOut=w;aA.touchStart=w;aA.touchEnd=w;aA.touchMove=w;aA.touchCancel=w;aA.key=w;aA.keyCode=w;aA.keyPressed=L;aA.keyReleased=L;aA.keyTyped=L;aA.draw=w;aA.setup=w;aA.__mousePressed=!1;aA.__keyPressed=!1;aA.__frameRate=60;aA.frameCount=0;aA.width=100;aA.height=100;var aP,ak,aR,b5=!0,bh=[1,1,1,1],bp=4294967295,bD=!0,ad=!0,c1=[0,0,0,1],a7=4278190080,q=!0,at=1,av=!1,b6=!1,al=!0,bw=0,bY=o.CORNER,bo=o.CENTER,aE=0,an=0,cr=0,a9=o.NORMAL_MODE_AUTO,dg=60,bm=1000/dg,bQ=co.style.cursor,m=o.POLYGON,bO=0,bW=20,bt=!1,bj=-3355444,b2=20,aZ=255,cU=255,au=255,c2=255,ah=0,ao=0,cG=o.RGB,aK=null,ck=null,bP=Date.now(),ct=bP,ax=0,Q,b9,aF,cO,cW,cB,cJ,aC={attributes:{},locations:{}},c7,a6,bE,cQ,cY,c5,aM,dh,cj,y,bX,ab,b3,aV,ce,cl,cu,cC=0,cK=0,cR=o.IMAGE,cx=!1,ai,ap,ay,bG=o.LEFT,cN=o.BASELINE,a3=o.MODEL,c4="Arial",bF=12,cV=9,bx=2,p=14,K=PFont.get(c4,bF),bI,aG=null,b1=!1,cZ,c6=1000,aT=[],bM=null,b4=[o.SHIFT,o.CONTROL,o.ALT,o.CAPSLK,o.PGUP,o.PGDN,o.END,o.HOME,o.LEFT,o.UP,o.RIGHT,o.DOWN,o.NUMLK,o.INSERT,o.F1,o.F2,o.F3,o.F4,o.F5,o.F6,o.F7,o.F8,o.F9,o.F10,o.F11,o.F12,o.META],bJ=0,bb=0,bU=0,bL=[],bT=[],bZ=[],cs=new h(o.SINCOS_LENGTH),cA=new h(o.SINCOS_LENGTH),bR,b0,b7,bv,aI,df,r,cI,aS,bl=!1,bs=60*(Math.PI/180),aN=aA.width/2,b8=aA.height/2,ci=b8/Math.tan(bs/2),di=ci/10,l=10*ci,A=aA.width/aA.height,cn=[],cF=[],bK=0,W=!1,ag=!1,a1=!0,cP=o.CORNER,ac=[],aj=new h([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]),aq=new h([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]),cf=new h([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),aW=new h([0,0,0,0,1,0,1,1,0,1,0,0]),cm=new h([0,0,1,0,0,1,0,0,1,0,0,1]),cv="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(/Windows/.test(j.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",a4=function(k,n,R){var P=k.createShader(k.VERTEX_SHADER);k.shaderSource(P,n);k.compileShader(P);if(!k.getShaderParameter(P,k.COMPILE_STATUS)){throw k.getShaderInfoLog(P)}n=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(n,R);k.compileShader(n);if(!k.getShaderParameter(n,k.COMPILE_STATUS)){throw k.getShaderInfoLog(n)}R=k.createProgram();k.attachShader(R,P);k.attachShader(R,n);k.linkProgram(R);if(!k.getProgramParameter(R,k.LINK_STATUS)){throw"Error linking shaders."}return R},az=function(k,n,T,R,P){return{x:k,y:n,w:T,h:R}},bA=az,cD=function(k,n,T,R,P){return{x:k,y:n,w:P?T:T-k,h:P?R:R-n}},cL=function(k,n,T,R,P){return{x:k-T/2,y:n-R/2,w:T,h:R}},cT=function(){},ar=function(){},G=function(){},aB=function(){};ar.prototype=new cT;ar.prototype.constructor=ar;G.prototype=new cT;G.prototype.constructor=G;aB.prototype=new cT;aB.prototype.constructor=aB;cT.prototype.a3DOnlyFunction=L;aA.shape=function(k,n,T,P,R){1<=arguments.length&&null!==arguments[0]&&k.isVisible()&&(aA.pushMatrix(),cP===o.CENTER?5===arguments.length?(aA.translate(n-P/2,T-R/2),aA.scale(P/k.getWidth(),R/k.getHeight())):3===arguments.length?aA.translate(n-k.getWidth()/2,-k.getHeight()/2):aA.translate(-k.getWidth()/2,-k.getHeight()/2):cP===o.CORNER?5===arguments.length?(aA.translate(n,T),aA.scale(P/k.getWidth(),R/k.getHeight())):3===arguments.length&&aA.translate(n,T):cP===o.CORNERS&&(5===arguments.length?(P-=n,R-=T,aA.translate(n,T),aA.scale(P/k.getWidth(),R/k.getHeight())):3===arguments.length&&aA.translate(n,T)),k.draw(aA),(1===arguments.length&&cP===o.CENTER||1<arguments.length)&&aA.popMatrix())};aA.shapeMode=function(k){cP=k};aA.loadShape=function(k){return 1===arguments.length&&-1<k.indexOf(".svg")?new PShapeSVG(null,k):null};aA.loadXML=function(k){return new XML(aA,k)};var aH=function(k){for(var n=0,P=0;P<k.length;P++){n=0!==P?Math.max(n,Math.abs(k[P])):Math.abs(k[P])}k=(n+"").indexOf(".");0===k?k=1:-1===k&&(k=(n+"").length);return k},c3=aA.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0] instanceof c3?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};c3.prototype={set:function(){if(6===arguments.length){var k=arguments;this.set([k[0],k[1],k[2],k[3],k[4],k[5]])}else{1===arguments.length&&arguments[0] instanceof c3?this.elements=arguments[0].array():1===arguments.length&&arguments[0] instanceof Array&&(this.elements=arguments[0].slice())}},get:function(){var k=new c3;k.set(this.elements);return k},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(k,n){this.elements[2]=k*this.elements[0]+n*this.elements[1]+this.elements[2];this.elements[5]=k*this.elements[3]+n*this.elements[4]+this.elements[5]},invTranslate:function(k,n){this.translate(-k,-n)},transpose:function(){},mult:function(k,n){var R,P;k instanceof PVector?(R=k.x,P=k.y,n||(n=new PVector)):k instanceof Array&&(R=k[0],P=k[1],n||(n=[]));n instanceof Array?(n[0]=this.elements[0]*R+this.elements[1]*P+this.elements[2],n[1]=this.elements[3]*R+this.elements[4]*P+this.elements[5]):n instanceof PVector&&(n.x=this.elements[0]*R+this.elements[1]*P+this.elements[2],n.y=this.elements[3]*R+this.elements[4]*P+this.elements[5],n.z=0);return n},multX:function(k,n){return k*this.elements[0]+n*this.elements[1]+this.elements[2]},multY:function(k,n){return k*this.elements[3]+n*this.elements[4]+this.elements[5]},skewX:function(k){this.apply(1,0,1,k,0,0)},skewY:function(k){this.apply(1,0,1,0,k,0)},shearX:function(k){this.apply(1,0,1,Math.tan(k),0,0)},shearY:function(k){this.apply(1,0,1,0,Math.tan(k),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var k=this.determinant();if(Math.abs(k)>o.MIN_INT){var n=this.elements[0],V=this.elements[1],P=this.elements[2],T=this.elements[3],R=this.elements[4],U=this.elements[5];this.elements[0]=R/k;this.elements[3]=-T/k;this.elements[1]=-V/k;this.elements[4]=n/k;this.elements[2]=(V*U-R*P)/k;this.elements[5]=(T*P-n*U)/k;return !0}return !1},scale:function(k,n){k&&!n&&(n=k);k&&n&&(this.elements[0]*=k,this.elements[1]*=n,this.elements[3]*=k,this.elements[4]*=n)},invScale:function(k,n){k&&!n&&(n=k);this.scale(1/k,1/n)},apply:function(){var k;1===arguments.length&&arguments[0] instanceof c3?k=arguments[0].array():6===arguments.length?k=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(k=arguments[0]);for(var n=[0,0,this.elements[2],0,0,this.elements[5]],T=0,R=0;2>R;R++){for(var P=0;3>P;P++,T++){n[T]+=this.elements[3*R+0]*k[P+0]+this.elements[3*R+1]*k[P+3]}}this.elements=n.slice()},preApply:function(){var k;1===arguments.length&&arguments[0] instanceof c3?k=arguments[0].array():6===arguments.length?k=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(k=arguments[0]);var n=[0,0,k[2],0,0,k[5]];n[2]=k[2]+this.elements[2]*k[0]+this.elements[5]*k[1];n[5]=k[5]+this.elements[2]*k[3]+this.elements[5]*k[4];n[0]=this.elements[0]*k[0]+this.elements[3]*k[1];n[3]=this.elements[0]*k[3]+this.elements[3]*k[4];n[1]=this.elements[1]*k[0]+this.elements[4]*k[1];n[4]=this.elements[1]*k[3]+this.elements[4]*k[4];this.elements=n.slice()},rotate:function(k){var n=Math.cos(k);k=Math.sin(k);var R=this.elements[0],P=this.elements[1];this.elements[0]=n*R+k*P;this.elements[1]=-k*R+n*P;R=this.elements[3];P=this.elements[4];this.elements[3]=n*R+k*P;this.elements[4]=-k*R+n*P},rotateZ:function(k){this.rotate(k)},invRotateZ:function(k){this.rotateZ(k-Math.PI)},print:function(){var k=aH(this.elements),k=""+aA.nfs(this.elements[0],k,4)+" "+aA.nfs(this.elements[1],k,4)+" "+aA.nfs(this.elements[2],k,4)+"\n"+aA.nfs(this.elements[3],k,4)+" "+aA.nfs(this.elements[4],k,4)+" "+aA.nfs(this.elements[5],k,4)+"\n\n";aA.println(k)}};var aY=aA.PMatrix3D=function(){this.reset()};aY.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof aY?this.elements=arguments[0].array():1===arguments.length&&arguments[0] instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var k=new aY;k.set(this.elements);return k},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(k,n,P){P===w&&(P=0);this.elements[3]+=k*this.elements[0]+n*this.elements[1]+P*this.elements[2];this.elements[7]+=k*this.elements[4]+n*this.elements[5]+P*this.elements[6];this.elements[11]+=k*this.elements[8]+n*this.elements[9]+P*this.elements[10];this.elements[15]+=k*this.elements[12]+n*this.elements[13]+P*this.elements[14]},transpose:function(){var k=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=k;k=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=k;k=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=k;k=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=k;k=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=k;k=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=k},mult:function(k,n){var U,R,P,T;k instanceof PVector?(U=k.x,R=k.y,P=k.z,T=1,n||(n=new PVector)):k instanceof Array&&(U=k[0],R=k[1],P=k[2],T=k[3]||1,!n||3!==n.length&&4!==n.length)&&(n=[0,0,0]);n instanceof Array&&(3===n.length?(n[0]=this.elements[0]*U+this.elements[1]*R+this.elements[2]*P+this.elements[3],n[1]=this.elements[4]*U+this.elements[5]*R+this.elements[6]*P+this.elements[7],n[2]=this.elements[8]*U+this.elements[9]*R+this.elements[10]*P+this.elements[11]):4===n.length&&(n[0]=this.elements[0]*U+this.elements[1]*R+this.elements[2]*P+this.elements[3]*T,n[1]=this.elements[4]*U+this.elements[5]*R+this.elements[6]*P+this.elements[7]*T,n[2]=this.elements[8]*U+this.elements[9]*R+this.elements[10]*P+this.elements[11]*T,n[3]=this.elements[12]*U+this.elements[13]*R+this.elements[14]*P+this.elements[15]*T));n instanceof PVector&&(n.x=this.elements[0]*U+this.elements[1]*R+this.elements[2]*P+this.elements[3],n.y=this.elements[4]*U+this.elements[5]*R+this.elements[6]*P+this.elements[7],n.z=this.elements[8]*U+this.elements[9]*R+this.elements[10]*P+this.elements[11]);return n},preApply:function(){var k;1===arguments.length&&arguments[0] instanceof aY?k=arguments[0].array():16===arguments.length?k=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(k=arguments[0]);for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0,R=0;4>R;R++){for(var P=0;4>P;P++,T++){n[T]+=this.elements[P+0]*k[4*R+0]+this.elements[P+4]*k[4*R+1]+this.elements[P+8]*k[4*R+2]+this.elements[P+12]*k[4*R+3]}}this.elements=n.slice()},apply:function(){var k;1===arguments.length&&arguments[0] instanceof aY?k=arguments[0].array():16===arguments.length?k=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0] instanceof Array&&(k=arguments[0]);for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0,R=0;4>R;R++){for(var P=0;4>P;P++,T++){n[T]+=this.elements[4*R+0]*k[P+0]+this.elements[4*R+1]*k[P+4]+this.elements[4*R+2]*k[P+8]+this.elements[4*R+3]*k[P+12]}}this.elements=n.slice()},rotate:function(k,n,U,R){if(U){var P=aA.cos(k);k=aA.sin(k);var T=1-P;this.apply(T*n*n+P,T*n*U-k*R,T*n*R+k*U,0,T*n*U+k*R,T*U*U+P,T*U*R-k*n,0,T*n*R-k*U,T*U*R+k*n,T*R*R+P,0,0,0,0,1)}else{this.rotateZ(k)}},invApply:function(){cI===w&&(cI=new aY);var k=arguments;cI.set(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]);if(!cI.invert()){return !1}this.preApply(cI);return !0},rotateX:function(k){var n=aA.cos(k);k=aA.sin(k);this.apply([1,0,0,0,0,n,-k,0,0,k,n,0,0,0,0,1])},rotateY:function(k){var n=aA.cos(k);k=aA.sin(k);this.apply([n,0,k,0,0,1,0,0,-k,0,n,0,0,0,0,1])},rotateZ:function(k){var n=Math.cos(k);k=Math.sin(k);this.apply([n,-k,0,0,k,n,0,0,0,0,1,0,0,0,0,1])},scale:function(k,n,P){!k||n||P?k&&(n&&!P)&&(P=1):n=P=k;k&&(n&&P)&&(this.elements[0]*=k,this.elements[1]*=n,this.elements[2]*=P,this.elements[4]*=k,this.elements[5]*=n,this.elements[6]*=P,this.elements[8]*=k,this.elements[9]*=n,this.elements[10]*=P,this.elements[12]*=k,this.elements[13]*=n,this.elements[14]*=P)},skewX:function(k){k=Math.tan(k);this.apply(1,k,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(k){k=Math.tan(k);this.apply(1,0,0,0,k,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(k){k=Math.tan(k);this.apply(1,k,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(k){k=Math.tan(k);this.apply(1,0,0,0,k,1,0,0,0,0,1,0,0,0,0,1)},multX:function(k,n,R,P){return R?P?this.elements[0]*k+this.elements[1]*n+this.elements[2]*R+this.elements[3]*P:this.elements[0]*k+this.elements[1]*n+this.elements[2]*R+this.elements[3]:this.elements[0]*k+this.elements[1]*n+this.elements[3]},multY:function(k,n,R,P){return R?P?this.elements[4]*k+this.elements[5]*n+this.elements[6]*R+this.elements[7]*P:this.elements[4]*k+this.elements[5]*n+this.elements[6]*R+this.elements[7]:this.elements[4]*k+this.elements[5]*n+this.elements[7]},multZ:function(k,n,R,P){return P?this.elements[8]*k+this.elements[9]*n+this.elements[10]*R+this.elements[11]*P:this.elements[8]*k+this.elements[9]*n+this.elements[10]*R+this.elements[11]},multW:function(k,n,R,P){return P?this.elements[12]*k+this.elements[13]*n+this.elements[14]*R+this.elements[15]*P:this.elements[12]*k+this.elements[13]*n+this.elements[14]*R+this.elements[15]},invert:function(){var P=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],R=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],U=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],T=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],X=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],V=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],Y=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],Z=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],da=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],bc=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],cb=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],cc=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],cd=P*cc-R*cb+U*bc+T*da-X*Z+V*Y;if(1e-09>=Math.abs(cd)){return !1}var bd=[];bd[0]=+this.elements[5]*cc-this.elements[6]*cb+this.elements[7]*bc;bd[4]=-this.elements[4]*cc+this.elements[6]*da-this.elements[7]*Z;bd[8]=+this.elements[4]*cb-this.elements[5]*da+this.elements[7]*Y;bd[12]=-this.elements[4]*bc+this.elements[5]*Z-this.elements[6]*Y;bd[1]=-this.elements[1]*cc+this.elements[2]*cb-this.elements[3]*bc;bd[5]=+this.elements[0]*cc-this.elements[2]*da+this.elements[3]*Z;bd[9]=-this.elements[0]*cb+this.elements[1]*da-this.elements[3]*Y;bd[13]=+this.elements[0]*bc-this.elements[1]*Z+this.elements[2]*Y;bd[2]=+this.elements[13]*V-this.elements[14]*X+this.elements[15]*T;bd[6]=-this.elements[12]*V+this.elements[14]*U-this.elements[15]*R;bd[10]=+this.elements[12]*X-this.elements[13]*U+this.elements[15]*P;bd[14]=-this.elements[12]*T+this.elements[13]*R-this.elements[14]*P;bd[3]=-this.elements[9]*V+this.elements[10]*X-this.elements[11]*T;bd[7]=+this.elements[8]*V-this.elements[10]*U+this.elements[11]*R;bd[11]=-this.elements[8]*X+this.elements[9]*U-this.elements[11]*P;bd[15]=+this.elements[8]*T-this.elements[9]*R+this.elements[10]*P;P=1/cd;bd[0]*=P;bd[1]*=P;bd[2]*=P;bd[3]*=P;bd[4]*=P;bd[5]*=P;bd[6]*=P;bd[7]*=P;bd[8]*=P;bd[9]*=P;bd[10]*=P;bd[11]*=P;bd[12]*=P;bd[13]*=P;bd[14]*=P;bd[15]*=P;this.elements=bd.slice();return !0},toString:function(){for(var k="",n=0;15>n;n++){k+=this.elements[n]+", "}return k+=this.elements[15]},print:function(){var k=aH(this.elements),k=""+aA.nfs(this.elements[0],k,4)+" "+aA.nfs(this.elements[1],k,4)+" "+aA.nfs(this.elements[2],k,4)+" "+aA.nfs(this.elements[3],k,4)+"\n"+aA.nfs(this.elements[4],k,4)+" "+aA.nfs(this.elements[5],k,4)+" "+aA.nfs(this.elements[6],k,4)+" "+aA.nfs(this.elements[7],k,4)+"\n"+aA.nfs(this.elements[8],k,4)+" "+aA.nfs(this.elements[9],k,4)+" "+aA.nfs(this.elements[10],k,4)+" "+aA.nfs(this.elements[11],k,4)+"\n"+aA.nfs(this.elements[12],k,4)+" "+aA.nfs(this.elements[13],k,4)+" "+aA.nfs(this.elements[14],k,4)+" "+aA.nfs(this.elements[15],k,4)+"\n\n";aA.println(k)},invTranslate:function(k,n,P){this.preApply(1,0,0,-k,0,1,0,-n,0,0,1,-P,0,0,0,1)},invRotateX:function(k){var n=Math.cos(-k);k=Math.sin(-k);this.preApply([1,0,0,0,0,n,-k,0,0,k,n,0,0,0,0,1])},invRotateY:function(k){var n=Math.cos(-k);k=Math.sin(-k);this.preApply([n,0,k,0,0,1,0,0,-k,0,n,0,0,0,0,1])},invRotateZ:function(k){var n=Math.cos(-k);k=Math.sin(-k);this.preApply([n,-k,0,0,k,n,0,0,0,0,1,0,0,0,0,1])},invScale:function(k,n,P){this.preApply([1/k,0,0,0,0,1/n,0,0,0,0,1/P,0,0,0,0,1])}};var de=aA.PMatrixStack=function(){this.matrixStack=[]};de.prototype.load=function(){var k=aR.$newPMatrix();1===arguments.length?k.set(arguments[0]):k.set(arguments);this.matrixStack.push(k)};ar.prototype.$newPMatrix=function(){return new c3};G.prototype.$newPMatrix=function(){return new aY};de.prototype.push=function(){this.matrixStack.push(this.peek())};de.prototype.pop=function(){return this.matrixStack.pop()};de.prototype.peek=function(){var k=aR.$newPMatrix();k.set(this.matrixStack[this.matrixStack.length-1]);return k};de.prototype.mult=function(k){this.matrixStack[this.matrixStack.length-1].apply(k)};aA.split=function(k,n){return k.split(n)};aA.splitTokens=function(n,P){if(P===w){return n.split(/\s+/g)}var T=P.split(/()/g),R="",V=n.length,U,X,Y=[];for(U=0;U<V;U++){X=n[U],-1<T.indexOf(X)?(""!==R&&Y.push(R),R=""):R+=X}""!==R&&Y.push(R);return Y};aA.append=function(k,n){k[k.length]=n;return k};aA.concat=function(k,n){return k.concat(n)};aA.sort=function(k,n){var R=[];if(0<k.length){for(var P=0<n?n:k.length,T=0;T<P;T++){R.push(k[T])}"string"===typeof k[0]?R.sort():R.sort(function(U,V){return U-V});if(0<n){for(P=R.length;P<k.length;P++){R.push(k[P])}}}return R};aA.splice=function(k,n,R){if(0===n.length){return k}if(n instanceof Array){for(var P=0;P<n.length;R++,P++){k.splice(R,0,n[P])}}else{k.splice(R,0,n)}return k};aA.subset=function(k,n,P){return k.slice(n,P!==w?n+P:k.length)};aA.join=function(k,n){return k.join(n)};aA.shorten=function(k){for(var n=[],R=k.length,P=0;P<R;P++){n[P]=k[P]}n.pop();return n};aA.expand=function(k,n){var P=k.slice(0);P.length=n||2*k.length;return P};aA.arrayCopy=function(){var k,n=0,R,P=0,U;2===arguments.length?(k=arguments[0],R=arguments[1],U=k.length):3===arguments.length?(k=arguments[0],R=arguments[1],U=arguments[2]):5===arguments.length&&(k=arguments[0],n=arguments[1],R=arguments[2],P=arguments[3],U=arguments[4]);for(var T=n;T<U+n;T++,P++){if(R[P]!==w){R[P]=k[T]}else{throw"array index out of bounds exception"}}};aA.reverse=function(k){return k.reverse()};aA.mix=function(k,n,P){return k+((n-k)*P>>8)};aA.peg=function(k){return 0>k?0:255<k?255:k};aA.modes=function(){function k(X,cc,Z,Y,db,bd,dc,bc,da,cb,cd){X=U(((X&4278190080)>>>24)+cc,255)<<24;Z+=(da-Z)*cc>>8;Y+=(cb-Y)*cc>>8;cc=db+((cd-db)*cc>>8);return X|(0>Z?0:255<Z?255:Z)<<16|(0>Y?0:255<Y?255:Y)<<8|(0>cc?0:255<cc?255:cc)}var n=o.ALPHA_MASK,P=o.RED_MASK,T=o.GREEN_MASK,R=o.BLUE_MASK,U=Math.min,V=Math.max;return{replace:function(X,Y){return Y},blend:function(X,cb){var Y=(cb&n)>>>24,Z=X&P,bc=X&T,da=X&R,cc=cb&P,bd=cb&T,cd=cb&R;return U(((X&n)>>>24)+Y,255)<<24|Z+((cc-Z)*Y>>8)&P|bc+((bd-bc)*Y>>8)&T|da+((cd-da)*Y>>8)&R},add:function(X,Z){var Y=(Z&n)>>>24;return U(((X&n)>>>24)+Y,255)<<24|U((X&P)+((Z&P)>>8)*Y,P)&P|U((X&T)+((Z&T)>>8)*Y,T)&T|U((X&R)+((Z&R)*Y>>8),R)},subtract:function(X,Z){var Y=(Z&n)>>>24;return U(((X&n)>>>24)+Y,255)<<24|V((X&P)-((Z&P)>>8)*Y,T)&P|V((X&T)-((Z&T)>>8)*Y,R)&T|V((X&R)-((Z&R)*Y>>8),0)},lightest:function(X,Z){var Y=(Z&n)>>>24;return U(((X&n)>>>24)+Y,255)<<24|V(X&P,((Z&P)>>8)*Y)&P|V(X&T,((Z&T)>>8)*Y)&T|V(X&R,(Z&R)*Y>>8)},darkest:function(X,cb){var Y=(cb&n)>>>24,Z=X&P,bc=X&T,da=X&R,cc=U(X&P,((cb&P)>>8)*Y),bd=U(X&T,((cb&T)>>8)*Y),cd=U(X&R,(cb&R)*Y>>8);return U(((X&n)>>>24)+Y,255)<<24|Z+((cc-Z)*Y>>8)&P|bc+((bd-bc)*Y>>8)&T|da+((cd-da)*Y>>8)&R},difference:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,Z>cd?Z-cd:cd-Z,bc>cb?bc-cb:cb-bc,cc>bd?cc-bd:bd-cc)},exclusion:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,Z+cd-(Z*cd>>7),bc+cb-(bc*cb>>7),cc+bd-(cc*bd>>7))},multiply:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,Z*cd>>8,bc*cb>>8,cc*bd>>8)},screen:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,255-((255-Z)*(255-cd)>>8),255-((255-bc)*(255-cb)>>8),255-((255-cc)*(255-bd)>>8))},hard_light:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,128>cd?Z*cd>>7:255-((255-Z)*(255-cd)>>7),128>cb?bc*cb>>7:255-((255-bc)*(255-cb)>>7),128>bd?cc*bd>>7:255-((255-cc)*(255-bd)>>7))},soft_light:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,(Z*cd>>7)+(Z*Z>>8)-(Z*Z*cd>>15),(bc*cb>>7)+(bc*bc>>8)-(bc*bc*cb>>15),(cc*bd>>7)+(cc*cc>>8)-(cc*cc*bd>>15))},overlay:function(X,Y){var Z=(X&P)>>16,bc=(X&T)>>8,cc=X&R,cd=(Y&P)>>16,cb=(Y&T)>>8,bd=Y&R;return k(X,(Y&n)>>>24,Z,bc,cc,cd,cb,bd,128>Z?Z*cd>>7:255-((255-Z)*(255-cd)>>7),128>bc?bc*cb>>7:255-((255-bc)*(255-cb)>>7),128>cc?cc*bd>>7:255-((255-cc)*(255-bd)>>7))},dodge:function(X,Y){var Z=(Y&n)>>>24,bc=(X&P)>>16,dc=(X&T)>>8,dd=X&R,cb=(Y&P)>>16,bd=(Y&T)>>8,cc=Y&R,cd=255;255!==cb&&(cd=(bc<<8)/(255-cb),cd=0>cd?0:255<cd?255:cd);var da=255;255!==bd&&(da=(dc<<8)/(255-bd),da=0>da?0:255<da?255:da);var db=255;255!==cc&&(db=(dd<<8)/(255-cc),db=0>db?0:255<db?255:db);return k(X,Z,bc,dc,dd,cb,bd,cc,cd,da,db)},burn:function(X,Y){var Z=(Y&n)>>>24,bc=(X&P)>>16,dc=(X&T)>>8,dd=X&R,cb=(Y&P)>>16,bd=(Y&T)>>8,cc=Y&R,cd=0;0!==cb&&(cd=(255-bc<<8)/cb,cd=255-(0>cd?0:255<cd?255:cd));var da=0;0!==bd&&(da=(255-dc<<8)/bd,da=255-(0>da?0:255<da?255:da));var db=0;0!==cc&&(db=(255-dd<<8)/cc,db=255-(0>db?0:255<db?255:db));return k(X,Z,bc,dc,dd,cb,bd,cc,cd,da,db)}}}();aA.color=function(k,n,P,R){return k!==w&&n!==w&&P!==w&&R!==w?cp(k,n,P,R):k!==w&&n!==w&&P!==w?cp(k,n,P,aZ):k!==w&&n!==w?(k&o.ALPHA_MASK?(n=Math.round(255*(n/aZ)),n=255<n?255:n,k=k-(k&o.ALPHA_MASK)+((0>n?0:n)<<24&o.ALPHA_MASK)):k=cG===o.RGB?cp(k,k,k,n):cG===o.HSB?cp(0,0,k/cU*c2,n):void 0,k):"number"===typeof k?g(k):cp(cU,au,c2,aZ)};aA.color.toString=function(k){return"rgba("+((k&o.RED_MASK)>>>16)+","+((k&o.GREEN_MASK)>>>8)+","+(k&o.BLUE_MASK)+","+((k&o.ALPHA_MASK)>>>24)/255+")"};aA.color.toInt=function(k,n,P,R){return R<<24&o.ALPHA_MASK|k<<16&o.RED_MASK|n<<8&o.GREEN_MASK|P&o.BLUE_MASK};aA.color.toArray=function(k){return[(k&o.RED_MASK)>>>16,(k&o.GREEN_MASK)>>>8,k&o.BLUE_MASK,(k&o.ALPHA_MASK)>>>24]};aA.color.toGLArray=function(k){return[((k&o.RED_MASK)>>>16)/255,((k&o.GREEN_MASK)>>>8)/255,(k&o.BLUE_MASK)/255,((k&o.ALPHA_MASK)>>>24)/255]};aA.color.toRGB=function(k,n,R){k=k>cU?cU:k;n=n>au?au:n;R=R>c2?c2:R;k=360*(k/cU);n=100*(n/au);R=100*(R/c2);var P=Math.round(255*(R/100));if(0===n){return[P,P,P]}k%=360;var U=k%60,T=Math.round(255*(R*(100-n)/10000)),V=Math.round(255*(R*(6000-n*U)/600000));n=Math.round(255*(R*(6000-n*(60-U))/600000));switch(Math.floor(k/60)){case 0:return[P,n,T];case 1:return[V,P,T];case 2:return[T,P,n];case 3:return[T,V,P];case 4:return[n,T,P];case 5:return[P,T,V]}};aA.brightness=function(k){return S(k)[2]};aA.saturation=function(k){return S(k)[1]};aA.hue=function(k){return S(k)[0]};aA.red=function(k){return((k&o.RED_MASK)>>>16)/255*cU};aA.green=function(k){return((k&o.GREEN_MASK)>>>8)/255*au};aA.blue=function(k){return(k&o.BLUE_MASK)/255*c2};aA.alpha=function(k){return((k&o.ALPHA_MASK)>>>24)/255*aZ};aA.lerpColor=function(n,P,R){var T,U,V,X,Y,Z;n=aA.color(n);P=aA.color(P);if(cG===o.HSB){return V=S(n),n=((n&o.ALPHA_MASK)>>>24)/aZ,U=S(P),P=((P&o.ALPHA_MASK)>>>24)/aZ,Z=aA.lerp(V[0],U[0],R),T=aA.lerp(V[1],U[1],R),V=aA.lerp(V[2],U[2],R),V=aA.color.toRGB(Z,T,V),R=aA.lerp(n,P,R)*aZ,R<<24&o.ALPHA_MASK|V[0]<<16&o.RED_MASK|V[1]<<8&o.GREEN_MASK|V[2]&o.BLUE_MASK}T=(n&o.RED_MASK)>>>16;U=(n&o.GREEN_MASK)>>>8;V=n&o.BLUE_MASK;n=((n&o.ALPHA_MASK)>>>24)/aZ;X=(P&o.RED_MASK)>>>16;Y=(P&o.GREEN_MASK)>>>8;Z=P&o.BLUE_MASK;P=((P&o.ALPHA_MASK)>>>24)/aZ;T=aA.lerp(T,X,R)|0;U=aA.lerp(U,Y,R)|0;V=aA.lerp(V,Z,R)|0;R=aA.lerp(n,P,R)*aZ;return R<<24&o.ALPHA_MASK|T<<16&o.RED_MASK|U<<8&o.GREEN_MASK|V&o.BLUE_MASK};aA.colorMode=function(){cG=arguments[0];1<arguments.length&&(cU=arguments[1],au=arguments[2]||arguments[1],c2=arguments[3]||arguments[1],aZ=arguments[4]||arguments[1])};aA.blendColor=function(k,n,P){if(P===o.REPLACE){return aA.modes.replace(k,n)}if(P===o.BLEND){return aA.modes.blend(k,n)}if(P===o.ADD){return aA.modes.add(k,n)}if(P===o.SUBTRACT){return aA.modes.subtract(k,n)}if(P===o.LIGHTEST){return aA.modes.lightest(k,n)}if(P===o.DARKEST){return aA.modes.darkest(k,n)}if(P===o.DIFFERENCE){return aA.modes.difference(k,n)}if(P===o.EXCLUSION){return aA.modes.exclusion(k,n)}if(P===o.MULTIPLY){return aA.modes.multiply(k,n)}if(P===o.SCREEN){return aA.modes.screen(k,n)}if(P===o.HARD_LIGHT){return aA.modes.hard_light(k,n)}if(P===o.SOFT_LIGHT){return aA.modes.soft_light(k,n)}if(P===o.OVERLAY){return aA.modes.overlay(k,n)}if(P===o.DODGE){return aA.modes.dodge(k,n)}if(P===o.BURN){return aA.modes.burn(k,n)}};aA.printMatrix=function(){bv.print()};ar.prototype.translate=function(k,n){bv.translate(k,n);aI.invTranslate(k,n);aP.translate(k,n)};G.prototype.translate=function(k,n,P){bv.translate(k,n,P);aI.invTranslate(k,n,P)};ar.prototype.scale=function(k,n){bv.scale(k,n);aI.invScale(k,n);aP.scale(k,n||k)};G.prototype.scale=function(k,n,P){bv.scale(k,n,P);aI.invScale(k,n,P)};ar.prototype.transform=function(k){k=k.array();aP.transform(k[0],k[3],k[1],k[4],k[2],k[5])};G.prototype.transformm=function(k){throw"p.transform is currently not supported in 3D mode"};ar.prototype.pushMatrix=function(){df.load(bv);r.load(aI);aP.save()};G.prototype.pushMatrix=function(){df.load(bv);r.load(aI)};ar.prototype.popMatrix=function(){bv.set(df.pop());aI.set(r.pop());ch()};G.prototype.popMatrix=function(){bv.set(df.pop());aI.set(r.pop())};ar.prototype.resetMatrix=function(){bv.reset();aI.reset();aP.setTransform(1,0,0,1,0,0)};G.prototype.resetMatrix=function(){bv.reset();aI.reset()};cT.prototype.applyMatrix=function(){var k=arguments;bv.apply(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]);aI.invApply(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15])};ar.prototype.applyMatrix=function(){for(var k=arguments,n=k.length;16>n;n++){k[n]=0}k[10]=k[15]=1;cT.prototype.applyMatrix.apply(this,k)};aA.rotateX=function(k){bv.rotateX(k);aI.invRotateX(k)};ar.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."};G.prototype.rotateZ=function(k){bv.rotateZ(k);aI.invRotateZ(k)};aA.rotateY=function(k){bv.rotateY(k);aI.invRotateY(k)};ar.prototype.rotate=function(k){bv.rotateZ(k);aI.invRotateZ(k);aP.rotate(k)};G.prototype.rotate=function(k){aA.rotateZ(k)};ar.prototype.shearX=function(k){bv.shearX(k);aP.transform(1,0,k,1,0,0)};G.prototype.shearX=function(k){bv.shearX(k)};ar.prototype.shearY=function(k){bv.shearY(k);aP.transform(1,k,0,1,0,0)};G.prototype.shearY=function(k){bv.shearY(k)};aA.pushStyle=function(){aP.save();aA.pushMatrix();ac.push({doFill:b5,currentFillColor:bp,doStroke:ad,currentStrokeColor:a7,curTint:aK,curRectMode:bY,curColorMode:cG,colorModeX:cU,colorModeZ:c2,colorModeY:au,colorModeA:aZ,curTextFont:K,horizontalTextAlignment:bG,verticalTextAlignment:cN,textMode:a3,curFontName:c4,curTextSize:bF,curTextAscent:cV,curTextDescent:bx,curTextLeading:p})};aA.popStyle=function(){var k=ac.pop();if(k){ch(),aA.popMatrix(),b5=k.doFill,bp=k.currentFillColor,ad=k.doStroke,a7=k.currentStrokeColor,aK=k.curTint,bY=k.curRectMode,cG=k.curColorMode,cU=k.colorModeX,c2=k.colorModeZ,au=k.colorModeY,aZ=k.colorModeA,K=k.curTextFont,c4=k.curFontName,bF=k.curTextSize,bG=k.horizontalTextAlignment,cN=k.verticalTextAlignment,a3=k.textMode,cV=k.curTextAscent,bx=k.curTextDescent,p=k.curTextLeading}else{throw"Too many popStyle() without enough pushStyle()"}};aA.year=function(){return(new Date).getFullYear()};aA.month=function(){return(new Date).getMonth()+1};aA.day=function(){return(new Date).getDate()};aA.hour=function(){return(new Date).getHours()};aA.minute=function(){return(new Date).getMinutes()};aA.second=function(){return(new Date).getSeconds()};aA.millis=function(){return Date.now()-bP};ar.prototype.redraw=function(){af();aP.lineWidth=at;var k=aA.pmouseX,n=aA.pmouseY;aA.pmouseX=ah;aA.pmouseY=ao;aP.save();aA.draw();ch();ah=aA.mouseX;ao=aA.mouseY;aA.pmouseX=k;aA.pmouseY=n};G.prototype.redraw=function(){af();var k=aA.pmouseX,n=aA.pmouseY;aA.pmouseX=ah;aA.pmouseY=ao;aP.clear(aP.DEPTH_BUFFER_BIT);aC={attributes:{},locations:{}};aA.noLights();aA.lightFalloff(1,0,0);aA.shininess(1);aA.ambient(255,255,255);aA.specular(0,0,0);aA.emissive(0,0,0);aA.camera();aA.draw();ah=aA.mouseX;ao=aA.mouseY;aA.pmouseX=k;aA.pmouseY=n};aA.noLoop=function(){av=al=!1;clearInterval(bw);ak.onPause()};aA.loop=function(){av||(ct=Date.now(),ax=0,bw=E.setInterval(function(){try{ak.onFrameStart(),aA.redraw(),ak.onFrameEnd()}catch(k){throw E.clearInterval(bw),k}},bm),av=al=!0,ak.onLoop())};aA.frameRate=function(k){dg=k;bm=1000/dg;al&&(aA.noLoop(),aA.loop())};aA.exit=function(){E.clearInterval(bw);var k=aA.externals.canvas.id;I.splice(O[k],1);delete O[k];delete co.onmousedown;for(var n in B.lib){B.lib.hasOwnProperty(n)&&B.lib[n].hasOwnProperty("detach")&&B.lib[n].detach(aA)}for(k=cH.length;k--;){var R=cH[k];n=R.elem;var P=R.type,R=R.fn;n.removeEventListener?n.removeEventListener(P,R,!1):n.detachEvent&&n.detachEvent("on"+P,R)}ak.onExit()};aA.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0] instanceof aA.PImage){var k=arguments[0],n,P;if(3<=arguments.length){if(n=arguments[1],P=arguments[2],0>n||0>P||P>=k.height||n>=k.width){throw"x and y must be non-negative and less than the dimensions of the image"}}else{n=k.width>>>1,P=k.height>>>1}k='url("'+k.toDataURL()+'") '+n+" "+P+", default";co.style.cursor=k}else{co.style.cursor=1===arguments.length?arguments[0]:bQ}};aA.noCursor=function(){co.style.cursor=o.NOCURSOR};aA.link=function(k,n){n!==w?E.open(k,n):E.location=k};aA.beginDraw=L;aA.endDraw=L;ar.prototype.toImageData=function(k,n,R,P){k=k!==w?k:0;n=n!==w?n:0;R=R!==w?R:aA.width;P=P!==w?P:aA.height;return aP.getImageData(k,n,R,P)};G.prototype.toImageData=function(n,P,T,R){n=n!==w?n:0;P=P!==w?P:0;T=T!==w?T:aA.width;R=R!==w?R:aA.height;var U=H.createElement("canvas").getContext("2d").createImageData(T,R),V=new u(4*T*R);aP.readPixels(n,P,T,R,aP.RGBA,aP.UNSIGNED_BYTE,V);n=0;P=V.length;for(var X=U.data;n<P;n++){X[n]=V[4*(R-1-Math.floor(n/4/T))*T+n%(4*T)]}return U};aA.status=function(k){E.status=k};aA.binary=function(k,n){var R;if(0<n){R=n}else{if(k instanceof Char){R=16,k|=0}else{for(R=32;1<R&&!(k>>>R-1&1);){R--}}}for(var P="";0<R;){P+=k>>>--R&1?"1":"0"}return P};aA.unbinary=function(k){for(var n=k.length-1,R=1,P=0;0<=n;){var T=k[n--];if("0"!==T&&"1"!==T){throw"the value passed into unbinary was not an 8 bit binary number"}"1"===T&&(P+=R);R<<=1}return P};aA.hex=function(k,n){1===arguments.length&&(n=k instanceof Char?4:8);var R=k,P=n,P=P===w||null===P?P=8:P;0>R&&(R=4294967295+R+1);for(R=Number(R).toString(16).toUpperCase();R.length<P;){R="0"+R}R.length>=P&&(R=R.substring(R.length-P,R.length));return R};aA.unhex=function(k){if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(aw(k[P]))}return n}return aw(k)};aA.loadStrings=function(k){if(x[k]){return x[k].split("\n")}k=t(k);if("string"!==typeof k||""===k){return[]}k=k.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return k.split("\n")};aA.saveStrings=function(k,n){x[k]=n.join("\n")};aA.loadBytes=function(k){k=t(k);for(var n=[],P=0;P<k.length;P++){n.push(k.charCodeAt(P))}return n};aA.matchAll=function(k,n){for(var R=[],P,T=RegExp(n,"g");null!==(P=T.exec(k));){R.push(P),0===P[0].length&&++T.lastIndex}return 0<R.length?R:null};aA.match=function(k,n){return k.match(n)};aA.println=function(k){B.logger.println(k)};aA.print=function(k){B.logger.print(k)};aA.str=function(k){if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(k[P].toString()+"")}return n}return k.toString()+""};aA.parseBoolean=function(k){if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(am(k[P]))}return n}return am(k)};aA.parseByte=function(k){if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(0-(k[P]&128)|k[P]&127)}return n}return 0-(k&128)|k&127};aA.parseChar=function(k){if("number"===typeof k){return new Char(String.fromCharCode(k&65535))}if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(new Char(String.fromCharCode(k[P]&65535)))}return n}throw"char() may receive only one argument of type int, byte, int[], or byte[]."};aA.parseFloat=function(k){if(k instanceof Array){for(var n=[],P=0;P<k.length;P++){n.push(aL(k[P]))}return n}return aL(k)};aA.parseInt=function(k,n){if(k instanceof Array){for(var R=[],P=0;P<k.length;P++){"string"!==typeof k[P]||/^\s*[+\-]?\d+\s*$/.test(k[P])?R.push(aU(k[P],n)):R.push(0)}return R}return aU(k,n)};aA.__int_cast=function(k){return 0|k};aA.__instanceof=function(k,n){if("function"!==typeof n){throw"Function is expected as type argument for instanceof operator"}if("string"===typeof k){return n===Object||n===String}if(k instanceof n){return !0}if("object"!==typeof k||null===k){return !1}var R=k.constructor;if(n.$isInterface){for(var P=[];R;){R.$interfaces&&(P=P.concat(R.$interfaces)),R=R.$base}for(;0<P.length;){R=P.shift();if(R===n){return !0}R.$interfaces&&(P=P.concat(R.$interfaces))}return !1}for(;R.hasOwnProperty("$base");){if(R=R.$base,R===n){return !0}}return !1};cT.prototype.size=function(k,n,P){ad&&aA.stroke(0);b5&&aA.fill(255);P={fillStyle:aP.fillStyle,strokeStyle:aP.strokeStyle,lineCap:aP.lineCap,lineJoin:aP.lineJoin};0<co.style.length&&(co.style.removeProperty("width"),co.style.removeProperty("height"));co.width=aA.width=k||100;co.height=aA.height=n||100;for(var R in P){P.hasOwnProperty(R)&&(aP[R]=P[R])}aA.textFont(K);aA.background();c6=Math.max(1000,0.05*k*n);aA.externals.context=aP;for(k=0;k<o.SINCOS_LENGTH;k++){cs[k]=aA.sin(0.5*k*(o.PI/180)),cA[k]=aA.cos(0.5*k*(o.PI/180))}};ar.prototype.size=function(k,n,P){aP===w&&(aP=co.getContext("2d"),df=new de,r=new de,bv=new c3,aI=new c3);cT.prototype.size.apply(this,arguments)};G.prototype.size=function(){var k=!1;return function(n,R,P){if(k){throw"Multiple calls to size() for 3D renders are not allowed."}k=!0;try{co.width=aA.width=n||100;co.height=aA.height=R||100;for(var T=co,U=["experimental-webgl","webgl","webkit-3d"],V,Y=0,Z=U.length;Y<Z&&!(V=T.getContext(U[Y],{antialias:!1,preserveDrawingBuffer:!0}));Y++){}aP=V;cl=aP.createTexture();cu=aP.createTexture()}catch(X){B.debug(X)}if(!aP){throw"WebGL context is not supported on this browser."}aP.viewport(0,0,co.width,co.height);aP.enable(aP.DEPTH_TEST);aP.enable(aP.BLEND);aP.blendFunc(aP.SRC_ALPHA,aP.ONE_MINUS_SRC_ALPHA);a6=a4(aP,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}");bE=a4(aP,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}");aA.strokeWeight(1);c7=a4(aP,cv,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}");aP.useProgram(c7);c8("usingTexture3d",c7,"usingTexture",cx);aA.lightFalloff(1,0,0);aA.shininess(1);aA.ambient(255,255,255);aA.specular(0,0,0);aA.emissive(0,0,0);cQ=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,cQ);aP.bufferData(aP.ARRAY_BUFFER,aj,aP.STATIC_DRAW);cY=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,cY);aP.bufferData(aP.ARRAY_BUFFER,cf,aP.STATIC_DRAW);c5=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,c5);aP.bufferData(aP.ARRAY_BUFFER,aq,aP.STATIC_DRAW);aM=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,aM);aP.bufferData(aP.ARRAY_BUFFER,aW,aP.STATIC_DRAW);dh=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,dh);aP.bufferData(aP.ARRAY_BUFFER,cm,aP.STATIC_DRAW);cj=aP.createBuffer();y=aP.createBuffer();bX=aP.createBuffer();ab=aP.createBuffer();b3=aP.createBuffer();ce=aP.createBuffer();aV=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,aV);aP.bufferData(aP.ARRAY_BUFFER,new h([0,0,0]),aP.STATIC_DRAW);ai=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,ai);aP.bufferData(aP.ARRAY_BUFFER,new h([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),aP.STATIC_DRAW);ap=aP.createBuffer();aP.bindBuffer(aP.ARRAY_BUFFER,ap);aP.bufferData(aP.ARRAY_BUFFER,new h([0,0,1,0,1,1,0,1]),aP.STATIC_DRAW);ay=aP.createBuffer();aP.bindBuffer(aP.ELEMENT_ARRAY_BUFFER,ay);aP.bufferData(aP.ELEMENT_ARRAY_BUFFER,new M([0,1,2,2,3,0]),aP.STATIC_DRAW);b0=new aY;b7=new aY;bv=new aY;aI=new aY;aS=new aY;aA.camera();aA.perspective();df=new de;r=new de;b9=new aY;aF=new aY;cO=new aY;cW=new aY;cB=new aY;cJ=new aY;cJ.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);cT.prototype.size.apply(this,arguments)}}();ar.prototype.ambientLight=cT.prototype.a3DOnlyFunction;G.prototype.ambientLight=function(k,n,P,T,R,U){if(bJ===o.MAX_LIGHTS){throw"can only create "+o.MAX_LIGHTS+" lights"}T=new PVector(T,R,U);R=new aY;R.scale(1,-1,1);R.apply(bv.array());R.mult(T,T);k=cp(k,n,P,0);k=[((k&o.RED_MASK)>>>16)/255,((k&o.GREEN_MASK)>>>8)/255,(k&o.BLUE_MASK)/255];aP.useProgram(c7);cw("uLights.color.3d."+bJ,c7,"uLights"+bJ+".color",k);cw("uLights.position.3d."+bJ,c7,"uLights"+bJ+".position",T.array());c8("uLights.type.3d."+bJ,c7,"uLights"+bJ+".type",0);c8("uLightCount3d",c7,"uLightCount",++bJ)};ar.prototype.directionalLight=cT.prototype.a3DOnlyFunction;G.prototype.directionalLight=function(n,P,R,U,T,V){if(bJ===o.MAX_LIGHTS){throw"can only create "+o.MAX_LIGHTS+" lights"}aP.useProgram(c7);var X=new aY;X.scale(1,-1,1);X.apply(bv.array());X=X.array();U=[X[0]*U+X[4]*T+X[8]*V,X[1]*U+X[5]*T+X[9]*V,X[2]*U+X[6]*T+X[10]*V];n=cp(n,P,R,0);cw("uLights.color.3d."+bJ,c7,"uLights"+bJ+".color",[((n&o.RED_MASK)>>>16)/255,((n&o.GREEN_MASK)>>>8)/255,(n&o.BLUE_MASK)/255]);cw("uLights.position.3d."+bJ,c7,"uLights"+bJ+".position",U);c8("uLights.type.3d."+bJ,c7,"uLights"+bJ+".type",1);c8("uLightCount3d",c7,"uLightCount",++bJ)};ar.prototype.lightFalloff=cT.prototype.a3DOnlyFunction;G.prototype.lightFalloff=function(k,n,P){aP.useProgram(c7);cw("uFalloff3d",c7,"uFalloff",[k,n,P])};ar.prototype.lightSpecular=cT.prototype.a3DOnlyFunction;G.prototype.lightSpecular=function(k,n,P){k=cp(k,n,P,0);k=[((k&o.RED_MASK)>>>16)/255,((k&o.GREEN_MASK)>>>8)/255,(k&o.BLUE_MASK)/255];aP.useProgram(c7);cw("uSpecular3d",c7,"uSpecular",k)};aA.lights=function(){aA.ambientLight(128,128,128);aA.directionalLight(128,128,128,0,0,-1);aA.lightFalloff(1,0,0);aA.lightSpecular(0,0,0)};ar.prototype.pointLight=cT.prototype.a3DOnlyFunction;G.prototype.pointLight=function(k,n,P,T,R,U){if(bJ===o.MAX_LIGHTS){throw"can only create "+o.MAX_LIGHTS+" lights"}T=new PVector(T,R,U);R=new aY;R.scale(1,-1,1);R.apply(bv.array());R.mult(T,T);k=cp(k,n,P,0);k=[((k&o.RED_MASK)>>>16)/255,((k&o.GREEN_MASK)>>>8)/255,(k&o.BLUE_MASK)/255];aP.useProgram(c7);cw("uLights.color.3d."+bJ,c7,"uLights"+bJ+".color",k);cw("uLights.position.3d."+bJ,c7,"uLights"+bJ+".position",T.array());c8("uLights.type.3d."+bJ,c7,"uLights"+bJ+".type",2);c8("uLightCount3d",c7,"uLightCount",++bJ)};ar.prototype.noLights=cT.prototype.a3DOnlyFunction;G.prototype.noLights=function(){bJ=0;aP.useProgram(c7);c8("uLightCount3d",c7,"uLightCount",bJ)};ar.prototype.spotLight=cT.prototype.a3DOnlyFunction;G.prototype.spotLight=function(P,R,T,V,U,X,Y,bc,cb,Z,bd){if(bJ===o.MAX_LIGHTS){throw"can only create "+o.MAX_LIGHTS+" lights"}aP.useProgram(c7);V=new PVector(V,U,X);U=new aY;U.scale(1,-1,1);U.apply(bv.array());U.mult(V,V);U=U.array();Y=[U[0]*Y+U[4]*bc+U[8]*cb,U[1]*Y+U[5]*bc+U[9]*cb,U[2]*Y+U[6]*bc+U[10]*cb];P=cp(P,R,T,0);cw("uLights.color.3d."+bJ,c7,"uLights"+bJ+".color",[((P&o.RED_MASK)>>>16)/255,((P&o.GREEN_MASK)>>>8)/255,(P&o.BLUE_MASK)/255]);cw("uLights.position.3d."+bJ,c7,"uLights"+bJ+".position",V.array());cw("uLights.direction.3d."+bJ,c7,"uLights"+bJ+".direction",Y);cw("uLights.concentration.3d."+bJ,c7,"uLights"+bJ+".concentration",bd);cw("uLights.angle.3d."+bJ,c7,"uLights"+bJ+".angle",Z);c8("uLights.type.3d."+bJ,c7,"uLights"+bJ+".type",3);c8("uLightCount3d",c7,"uLightCount",++bJ)};ar.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"};G.prototype.beginCamera=function(){if(bl){throw"You cannot call beginCamera() again before calling endCamera()"}bl=!0;bv=b7;aI=b0};ar.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"};G.prototype.endCamera=function(){if(!bl){throw"You cannot call endCamera() before calling beginCamera()"}bv.set(b0);aI.set(b7);bl=!1};aA.camera=function(P,R,U,T,V,X,Y,bc,cc){P===w&&(aN=aA.width/2,b8=aA.height/2,ci=b8/Math.tan(bs/2),P=aN,R=b8,U=ci,T=aN,V=b8,Y=X=0,bc=1,cc=0);T=new PVector(P-T,R-V,U-X);var Z=new PVector(Y,bc,cc);T.normalize();cc=PVector.cross(Z,T);Z=PVector.cross(T,cc);cc.normalize();Z.normalize();Y=cc.x;bc=cc.y;cc=cc.z;V=Z.x;X=Z.y;var Z=Z.z,bd=T.x,cb=T.y;T=T.z;b0.set(Y,bc,cc,0,V,X,Z,0,bd,cb,T,0,0,0,0,1);b0.translate(-P,-R,-U);b7.reset();b7.invApply(Y,bc,cc,0,V,X,Z,0,bd,cb,T,0,0,0,0,1);b7.translate(P,R,U);bv.set(b0);aI.set(b7)};aA.perspective=function(k,n,R,P){0===arguments.length&&(b8=co.height/2,ci=b8/Math.tan(bs/2),di=ci/10,l=10*ci,A=aA.width/aA.height,k=bs,n=A,R=di,P=l);var T,U;T=R*Math.tan(k/2);U=-T;aA.frustum(U*n,T*n,U,T,R,P)};ar.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"};G.prototype.frustum=function(k,n,R,P,U,T){aS=new aY;aS.set(2*U/(n-k),0,(n+k)/(n-k),0,0,2*U/(P-R),(P+R)/(P-R),0,0,0,-(T+U)/(T-U),-(2*T*U)/(T-U),0,0,-1,0);k=new aY;k.set(aS);k.transpose();aP.useProgram(a6);cE("projection2d",a6,"uProjection",!1,k.array());aP.useProgram(c7);cE("projection3d",c7,"uProjection",!1,k.array());aP.useProgram(bE);cE("uProjectionUS",bE,"uProjection",!1,k.array())};aA.ortho=function(P,R,U,T,V,X){0===arguments.length&&(P=0,R=aA.width,U=0,T=aA.height,V=-10,X=10);var Y=2/(R-P),bc=2/(T-U),cc=-2/(X-V),Z=-(R+P)/(R-P),bd=-(T+U)/(T-U),cb=-(X+V)/(X-V);aS=new aY;aS.set(Y,0,0,Z,0,bc,0,bd,0,0,cc,cb,0,0,0,1);Y=new aY;Y.set(aS);Y.transpose();aP.useProgram(a6);cE("projection2d",a6,"uProjection",!1,Y.array());aP.useProgram(c7);cE("projection3d",c7,"uProjection",!1,Y.array());aP.useProgram(bE);cE("uProjectionUS",bE,"uProjection",!1,Y.array())};aA.printProjection=function(){aS.print()};aA.printCamera=function(){b0.print()};ar.prototype.box=cT.prototype.a3DOnlyFunction;G.prototype.box=function(k,n,R){n&&R||(n=R=k);var P=new aY;P.scale(k,n,R);k=new aY;k.scale(1,-1,1);k.apply(bv.array());k.transpose();b5&&(aP.useProgram(c7),cE("model3d",c7,"uModel",!1,P.array()),cE("view3d",c7,"uView",!1,k.array()),aP.enable(aP.POLYGON_OFFSET_FILL),aP.polygonOffset(1,1),cw("color3d",c7,"uColor",bh),0<bJ?(n=new aY,n.set(k),R=new aY,R.set(P),n.mult(R),R=new aY,R.set(n),R.invert(),R.transpose(),cE("uNormalTransform3d",c7,"uNormalTransform",!1,R.array()),d("aNormal3d",c7,"aNormal",3,cY)):cg("aNormal3d",c7,"aNormal"),d("aVertex3d",c7,"aVertex",3,cQ),cg("aColor3d",c7,"aColor"),cg("aTexture3d",c7,"aTexture"),aP.drawArrays(aP.TRIANGLES,0,aj.length/3),aP.disable(aP.POLYGON_OFFSET_FILL));0<at&&ad&&(aP.useProgram(a6),cE("uModel2d",a6,"uModel",!1,P.array()),cE("uView2d",a6,"uView",!1,k.array()),cw("uColor2d",a6,"uColor",c1),c8("uIsDrawingText2d",a6,"uIsDrawingText",!1),d("vertex2d",a6,"aVertex",3,c5),cg("aTextureCoord2d",a6,"aTextureCoord"),aP.drawArrays(aP.LINES,0,aq.length/3))};aA.sphereDetail=function(P,R){var T;1===arguments.length&&(P=R=arguments[0]);3>P&&(P=3);2>R&&(R=2);if(P!==bU||R!==bb){var V=o.SINCOS_LENGTH/P,U=new h(P),X=new h(P);for(T=0;T<P;T++){U[T]=cA[T*V%o.SINCOS_LENGTH|0],X[T]=cs[T*V%o.SINCOS_LENGTH|0]}T=P*(R-1)+2;V=0;bL=new h(T);bT=new h(T);bZ=new h(T);var Y=0.5*o.SINCOS_LENGTH/R,bc=Y;for(T=1;T<R;T++){for(var cb=cs[bc%o.SINCOS_LENGTH|0],Z=-cA[bc%o.SINCOS_LENGTH|0],bd=0;bd<P;bd++){bL[V]=U[bd]*cb,bT[V]=Z,bZ[V++]=X[bd]*cb}bc+=Y}bU=P;bb=R;bR=[];for(U=0;U<bU;U++){bR.push(0),bR.push(-1),bR.push(0),bR.push(bL[U]),bR.push(bT[U]),bR.push(bZ[U])}bR.push(0);bR.push(-1);bR.push(0);bR.push(bL[0]);bR.push(bT[0]);bR.push(bZ[0]);Y=0;for(U=2;U<bb;U++){X=T=Y;V=Y+=bU;for(bc=0;bc<bU;bc++){bR.push(bL[X]),bR.push(bT[X]),bR.push(bZ[X++]),bR.push(bL[V]),bR.push(bT[V]),bR.push(bZ[V++])}X=T;V=Y;bR.push(bL[X]);bR.push(bT[X]);bR.push(bZ[X]);bR.push(bL[V]);bR.push(bT[V]);bR.push(bZ[V])}for(U=0;U<bU;U++){V=Y+U,bR.push(bL[V]),bR.push(bT[V]),bR.push(bZ[V]),bR.push(0),bR.push(1),bR.push(0)}bR.push(bL[Y]);bR.push(bT[Y]);bR.push(bZ[Y]);bR.push(0);bR.push(1);bR.push(0);aP.bindBuffer(aP.ARRAY_BUFFER,cj);aP.bufferData(aP.ARRAY_BUFFER,new h(bR),aP.STATIC_DRAW)}};ar.prototype.sphere=cT.prototype.a3DOnlyFunction;G.prototype.sphere=function(k){(3>bU||2>bb)&&aA.sphereDetail(30);var n=new aY;n.scale(k,k,k);k=new aY;k.scale(1,-1,1);k.apply(bv.array());k.transpose();if(b5){if(0<bJ){var R=new aY;R.set(k);var P=new aY;P.set(n);R.mult(P);P=new aY;P.set(R);P.invert();P.transpose();cE("uNormalTransform3d",c7,"uNormalTransform",!1,P.array());d("aNormal3d",c7,"aNormal",3,cj)}else{cg("aNormal3d",c7,"aNormal")}aP.useProgram(c7);cg("aTexture3d",c7,"aTexture");cE("uModel3d",c7,"uModel",!1,n.array());cE("uView3d",c7,"uView",!1,k.array());d("aVertex3d",c7,"aVertex",3,cj);cg("aColor3d",c7,"aColor");aP.enable(aP.POLYGON_OFFSET_FILL);aP.polygonOffset(1,1);cw("uColor3d",c7,"uColor",bh);aP.drawArrays(aP.TRIANGLE_STRIP,0,bR.length/3);aP.disable(aP.POLYGON_OFFSET_FILL)}0<at&&ad&&(aP.useProgram(a6),cE("uModel2d",a6,"uModel",!1,n.array()),cE("uView2d",a6,"uView",!1,k.array()),d("aVertex2d",a6,"aVertex",3,cj),cg("aTextureCoord2d",a6,"aTextureCoord"),cw("uColor2d",a6,"uColor",c1),c8("uIsDrawingText",a6,"uIsDrawingText",!1),aP.drawArrays(aP.LINE_STRIP,0,bR.length/3))};aA.modelX=function(k,n,R){var P=bv.array(),U=b7.array(),T=P[0]*k+P[1]*n+P[2]*R+P[3],V=P[4]*k+P[5]*n+P[6]*R+P[7],X=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];k=U[0]*T+U[1]*V+U[2]*X+U[3]*n;U=U[12]*T+U[13]*V+U[14]*X+U[15]*n;return 0!==U?k/U:k};aA.modelY=function(k,n,R){var P=bv.array(),U=b7.array(),T=P[0]*k+P[1]*n+P[2]*R+P[3],V=P[4]*k+P[5]*n+P[6]*R+P[7],X=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];k=U[4]*T+U[5]*V+U[6]*X+U[7]*n;U=U[12]*T+U[13]*V+U[14]*X+U[15]*n;return 0!==U?k/U:k};aA.modelZ=function(k,n,R){var P=bv.array(),U=b7.array(),T=P[0]*k+P[1]*n+P[2]*R+P[3],V=P[4]*k+P[5]*n+P[6]*R+P[7],X=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];k=U[8]*T+U[9]*V+U[10]*X+U[11]*n;U=U[12]*T+U[13]*V+U[14]*X+U[15]*n;return 0!==U?k/U:k};ar.prototype.ambient=cT.prototype.a3DOnlyFunction;G.prototype.ambient=function(k,n,P){aP.useProgram(c7);c8("uUsingMat3d",c7,"uUsingMat",!0);k=aA.color(k,n,P);cw("uMaterialAmbient3d",c7,"uMaterialAmbient",aA.color.toGLArray(k).slice(0,3))};ar.prototype.emissive=cT.prototype.a3DOnlyFunction;G.prototype.emissive=function(k,n,P){aP.useProgram(c7);c8("uUsingMat3d",c7,"uUsingMat",!0);k=aA.color(k,n,P);cw("uMaterialEmissive3d",c7,"uMaterialEmissive",aA.color.toGLArray(k).slice(0,3))};ar.prototype.shininess=cT.prototype.a3DOnlyFunction;G.prototype.shininess=function(k){aP.useProgram(c7);c8("uUsingMat3d",c7,"uUsingMat",!0);cw("uShininess3d",c7,"uShininess",k)};ar.prototype.specular=cT.prototype.a3DOnlyFunction;G.prototype.specular=function(k,n,P){aP.useProgram(c7);c8("uUsingMat3d",c7,"uUsingMat",!0);k=aA.color(k,n,P);cw("uMaterialSpecular3d",c7,"uMaterialSpecular",aA.color.toGLArray(k).slice(0,3))};aA.screenX=function(k,n,R){var P=bv.array();if(16===P.length){var T=P[0]*k+P[1]*n+P[2]*R+P[3],U=P[4]*k+P[5]*n+P[6]*R+P[7],V=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];R=aS.array();k=R[0]*T+R[1]*U+R[2]*V+R[3]*n;T=R[12]*T+R[13]*U+R[14]*V+R[15]*n;0!==T&&(k/=T);return aA.width*(1+k)/2}return bv.multX(k,n)};aA.screenY=function(k,n,R){var P=bv.array();if(16===P.length){var T=P[0]*k+P[1]*n+P[2]*R+P[3],U=P[4]*k+P[5]*n+P[6]*R+P[7],V=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];R=aS.array();k=R[4]*T+R[5]*U+R[6]*V+R[7]*n;T=R[12]*T+R[13]*U+R[14]*V+R[15]*n;0!==T&&(k/=T);return aA.height*(1+k)/2}return bv.multY(k,n)};aA.screenZ=function(k,n,R){var P=bv.array();if(16!==P.length){return 0}var U=aS.array(),T=P[0]*k+P[1]*n+P[2]*R+P[3],V=P[4]*k+P[5]*n+P[6]*R+P[7],X=P[8]*k+P[9]*n+P[10]*R+P[11];n=P[12]*k+P[13]*n+P[14]*R+P[15];k=U[8]*T+U[9]*V+U[10]*X+U[11]*n;U=U[12]*T+U[13]*V+U[14]*X+U[15]*n;0!==U&&(k/=U);return(k+1)/2};cT.prototype.fill=function(){var k=aA.color.apply(this,arguments);k===bp&&b5||(b5=!0,bp=k)};ar.prototype.fill=function(){cT.prototype.fill.apply(this,arguments);bD=!0};G.prototype.fill=function(){cT.prototype.fill.apply(this,arguments);bh=aA.color.toGLArray(bp)};aA.noFill=function(){b5=!1};cT.prototype.stroke=function(){var k=aA.color.apply(this,arguments);k===a7&&ad||(ad=!0,a7=k)};ar.prototype.stroke=function(){cT.prototype.stroke.apply(this,arguments);q=!0};G.prototype.stroke=function(){cT.prototype.stroke.apply(this,arguments);c1=aA.color.toGLArray(a7)};aA.noStroke=function(){ad=!1};cT.prototype.strokeWeight=function(k){at=k};ar.prototype.strokeWeight=function(k){cT.prototype.strokeWeight.apply(this,arguments);aP.lineWidth=k};G.prototype.strokeWeight=function(k){cT.prototype.strokeWeight.apply(this,arguments);aP.useProgram(a6);cw("pointSize2d",a6,"uPointSize",k);aP.useProgram(bE);cw("pointSizeUnlitShape",bE,"uPointSize",k);aP.lineWidth(k)};aA.strokeCap=function(k){aR.$ensureContext().lineCap=k};aA.strokeJoin=function(k){aR.$ensureContext().lineJoin=k};ar.prototype.smooth=function(){b6=!0;var k=co.style;k.setProperty("image-rendering","optimizeQuality","important");k.setProperty("-ms-interpolation-mode","bicubic","important");aP.hasOwnProperty("mozImageSmoothingEnabled")&&(aP.mozImageSmoothingEnabled=!0)};G.prototype.smooth=function(){b6=!0};ar.prototype.noSmooth=function(){b6=!1;var k=co.style;k.setProperty("image-rendering","optimizeSpeed","important");k.setProperty("image-rendering","-moz-crisp-edges","important");k.setProperty("image-rendering","-webkit-optimize-contrast","important");k.setProperty("image-rendering","optimize-contrast","important");k.setProperty("-ms-interpolation-mode","nearest-neighbor","important");aP.hasOwnProperty("mozImageSmoothingEnabled")&&(aP.mozImageSmoothingEnabled=!1)};G.prototype.noSmooth=function(){b6=!1};ar.prototype.point=function(k,n){ad&&(k=Math.round(k),n=Math.round(n),aP.fillStyle=aA.color.toString(a7),bD=!0,1<at?(aP.beginPath(),aP.arc(k,n,at/2,0,o.TWO_PI,!1),aP.fill()):aP.fillRect(k,n,1,1))};G.prototype.point=function(k,n,R){var P=new aY;P.translate(k,n,R||0);P.transpose();k=new aY;k.scale(1,-1,1);k.apply(bv.array());k.transpose();aP.useProgram(a6);cE("uModel2d",a6,"uModel",!1,P.array());cE("uView2d",a6,"uView",!1,k.array());0<at&&ad&&(cw("uColor2d",a6,"uColor",c1),c8("uIsDrawingText2d",a6,"uIsDrawingText",!1),c8("uSmooth2d",a6,"uSmooth",b6),d("aVertex2d",a6,"aVertex",3,aV),cg("aTextureCoord2d",a6,"aTextureCoord"),aP.drawArrays(aP.POINTS,0,1))};aA.beginShape=function(k){m=k;cn=[]};ar.prototype.vertex=function(k,n,R){var P=[];a1&&(a1=!1);P.isVert=!0;P[0]=k;P[1]=n;P[2]=0;P[3]=0;P[4]=0;P[5]=bp;P[6]=a7;cn.push(P);R&&(cn[cn.length-1].moveTo=R)};G.prototype.vertex=function(k,n,P,T,R){var U=[];a1&&(a1=!1);U.isVert=!0;R===w&&cx&&(R=T,T=P,P=0);T!==w&&R!==w&&(cR===o.IMAGE&&(T/=cC,R/=cK),T=1<T?1:T,T=0>T?0:T,R=1<R?1:R,R=0>R?0:R);U[0]=k;U[1]=n;U[2]=P||0;U[3]=T||0;U[4]=R||0;U[5]=bh[0];U[6]=bh[1];U[7]=bh[2];U[8]=bh[3];U[9]=c1[0];U[10]=c1[1];U[11]=c1[2];U[12]=c1[3];U[13]=aE;U[14]=an;U[15]=cr;cn.push(U)};var aO=function(k,n){var P=new aY;P.scale(1,-1,1);P.apply(bv.array());P.transpose();aP.useProgram(bE);cE("uViewUS",bE,"uView",!1,P.array());c8("uSmoothUS",bE,"uSmooth",b6);d("aVertexUS",bE,"aVertex",3,aV);aP.bufferData(aP.ARRAY_BUFFER,new h(k),aP.STREAM_DRAW);d("aColorUS",bE,"aColor",4,ab);aP.bufferData(aP.ARRAY_BUFFER,new h(n),aP.STREAM_DRAW);aP.drawArrays(aP.POINTS,0,k.length/3)},ae=function(k,n,R){n="LINES"===n?aP.LINES:"LINE_LOOP"===n?aP.LINE_LOOP:aP.LINE_STRIP;var P=new aY;P.scale(1,-1,1);P.apply(bv.array());P.transpose();aP.useProgram(bE);cE("uViewUS",bE,"uView",!1,P.array());d("aVertexUS",bE,"aVertex",3,y);aP.bufferData(aP.ARRAY_BUFFER,new h(k),aP.STREAM_DRAW);d("aColorUS",bE,"aColor",4,b3);aP.bufferData(aP.ARRAY_BUFFER,new h(R),aP.STREAM_DRAW);aP.drawArrays(n,0,k.length/3)},e=function(k,n,R,P){n="TRIANGLES"===n?aP.TRIANGLES:"TRIANGLE_FAN"===n?aP.TRIANGLE_FAN:aP.TRIANGLE_STRIP;var T=new aY;T.scale(1,-1,1);T.apply(bv.array());T.transpose();aP.useProgram(c7);cE("model3d",c7,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);cE("view3d",c7,"uView",!1,T.array());aP.enable(aP.POLYGON_OFFSET_FILL);aP.polygonOffset(1,1);cw("color3d",c7,"uColor",[-1,0,0,0]);d("vertex3d",c7,"aVertex",3,bX);aP.bufferData(aP.ARRAY_BUFFER,new h(k),aP.STREAM_DRAW);cx&&null!==aK&&ck(R);d("aColor3d",c7,"aColor",4,ab);aP.bufferData(aP.ARRAY_BUFFER,new h(R),aP.STREAM_DRAW);cg("aNormal3d",c7,"aNormal");cx&&(c8("uUsingTexture3d",c7,"uUsingTexture",cx),d("aTexture3d",c7,"aTexture",2,ce),aP.bufferData(aP.ARRAY_BUFFER,new h(P),aP.STREAM_DRAW));aP.drawArrays(n,0,k.length/3);aP.disable(aP.POLYGON_OFFSET_FILL)};ar.prototype.endShape=function(n){if(0!==cn.length){(n=n===o.CLOSE)&&cn.push(cn[0]);var P=[],R=[],T=[],U=[],X;a1=!0;var Z,V,Y=cn.length;for(Z=0;Z<Y;Z++){for(X=cn[Z],V=0;3>V;V++){P.push(X[V])}}for(Z=0;Z<Y;Z++){for(X=cn[Z],V=5;9>V;V++){R.push(X[V])}}for(Z=0;Z<Y;Z++){for(X=cn[Z],V=9;13>V;V++){T.push(X[V])}}for(Z=0;Z<Y;Z++){X=cn[Z],U.push(X[3]),U.push(X[4])}if(!W||m!==o.POLYGON&&m!==w){if(!ag||m!==o.POLYGON&&m!==w){if(m===o.POINTS){for(Z=0;Z<Y;Z++){X=cn[Z],ad&&aA.stroke(X[6]),aA.point(X[0],X[1])}}else{if(m===o.LINES){for(Z=0;Z+1<Y;Z+=2){X=cn[Z],ad&&aA.stroke(cn[Z+1][6]),aA.line(X[0],X[1],cn[Z+1][0],cn[Z+1][1])}}else{if(m===o.TRIANGLES){for(Z=0;Z+2<Y;Z+=3){X=cn[Z],aP.beginPath(),aP.moveTo(X[0],X[1]),aP.lineTo(cn[Z+1][0],cn[Z+1][1]),aP.lineTo(cn[Z+2][0],cn[Z+2][1]),aP.lineTo(X[0],X[1]),b5&&(aA.fill(cn[Z+2][5]),cM()),ad&&(aA.stroke(cn[Z+2][6]),c9()),aP.closePath()}}else{if(m===o.TRIANGLE_STRIP){for(Z=0;Z+1<Y;Z++){X=cn[Z],aP.beginPath(),aP.moveTo(cn[Z+1][0],cn[Z+1][1]),aP.lineTo(X[0],X[1]),ad&&aA.stroke(cn[Z+1][6]),b5&&aA.fill(cn[Z+1][5]),Z+2<Y&&(aP.lineTo(cn[Z+2][0],cn[Z+2][1]),ad&&aA.stroke(cn[Z+2][6]),b5&&aA.fill(cn[Z+2][5])),cq()}}else{if(m===o.TRIANGLE_FAN){if(2<Y){for(aP.beginPath(),aP.moveTo(cn[0][0],cn[0][1]),aP.lineTo(cn[1][0],cn[1][1]),aP.lineTo(cn[2][0],cn[2][1]),b5&&(aA.fill(cn[2][5]),cM()),ad&&(aA.stroke(cn[2][6]),c9()),aP.closePath(),Z=3;Z<Y;Z++){X=cn[Z],aP.beginPath(),aP.moveTo(cn[0][0],cn[0][1]),aP.lineTo(cn[Z-1][0],cn[Z-1][1]),aP.lineTo(X[0],X[1]),b5&&(aA.fill(X[5]),cM()),ad&&(aA.stroke(X[6]),c9()),aP.closePath()}}}else{if(m===o.QUADS){for(Z=0;Z+3<Y;Z+=4){X=cn[Z];aP.beginPath();aP.moveTo(X[0],X[1]);for(V=1;4>V;V++){aP.lineTo(cn[Z+V][0],cn[Z+V][1])}aP.lineTo(X[0],X[1]);b5&&(aA.fill(cn[Z+3][5]),cM());ad&&(aA.stroke(cn[Z+3][6]),c9());aP.closePath()}}else{if(m===o.QUAD_STRIP){if(3<Y){for(Z=0;Z+1<Y;Z+=2){X=cn[Z],aP.beginPath(),Z+3<Y?(aP.moveTo(cn[Z+2][0],cn[Z+2][1]),aP.lineTo(X[0],X[1]),aP.lineTo(cn[Z+1][0],cn[Z+1][1]),aP.lineTo(cn[Z+3][0],cn[Z+3][1]),b5&&aA.fill(cn[Z+3][5]),ad&&aA.stroke(cn[Z+3][6])):(aP.moveTo(X[0],X[1]),aP.lineTo(cn[Z+1][0],cn[Z+1][1])),cq()}}}else{aP.beginPath();aP.moveTo(cn[0][0],cn[0][1]);for(Z=1;Z<Y;Z++){X=cn[Z],X.isVert&&(X.moveTo?aP.moveTo(X[0],X[1]):aP.lineTo(X[0],X[1]))}cq()}}}}}}}}else{aP.beginPath();for(Z=0;Z<Y;Z++){X=cn[Z],cn[Z].isVert?cn[Z].moveTo?aP.moveTo(X[0],X[1]):aP.lineTo(X[0],X[1]):aP.bezierCurveTo(cn[Z][0],cn[Z][1],cn[Z][2],cn[Z][3],cn[Z][4],cn[Z][5])}cq()}}else{if(3<Y){P=[];R=1-bO;aP.beginPath();aP.moveTo(cn[1][0],cn[1][1]);for(Z=1;Z+2<Y;Z++){X=cn[Z],P[0]=[X[0],X[1]],P[1]=[X[0]+(R*cn[Z+1][0]-R*cn[Z-1][0])/6,X[1]+(R*cn[Z+1][1]-R*cn[Z-1][1])/6],P[2]=[cn[Z+1][0]+(R*cn[Z][0]-R*cn[Z+2][0])/6,cn[Z+1][1]+(R*cn[Z][1]-R*cn[Z+2][1])/6],P[3]=[cn[Z+1][0],cn[Z+1][1]],aP.bezierCurveTo(P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1])}cq()}}ag=W=!1;cF=[];bK=0;n&&cn.pop()}};G.prototype.endShape=function(P){if(0!==cn.length){var R=P===o.CLOSE;P=[];var T=[],V=[],U=[],X=[],Z;a1=!0;var Y,bd,bc=cn.length;for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=0;3>bd;bd++){T.push(Z[bd])}}for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=5;9>bd;bd++){V.push(Z[bd])}}for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=9;13>bd;bd++){U.push(Z[bd])}}for(Y=0;Y<bc;Y++){Z=cn[Y],X.push(Z[3]),X.push(Z[4])}if(R){T.push(cn[0][0]);T.push(cn[0][1]);T.push(cn[0][2]);for(Y=5;9>Y;Y++){V.push(cn[0][Y])}for(Y=9;13>Y;Y++){U.push(cn[0][Y])}X.push(cn[0][3]);X.push(cn[0][4])}if(!W||m!==o.POLYGON&&m!==w){if(!ag||m!==o.POLYGON&&m!==w){if(m===o.POINTS){for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=0;3>bd;bd++){P.push(Z[bd])}}aO(P,U)}else{if(m===o.LINES){for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=0;3>bd;bd++){P.push(Z[bd])}}for(Y=0;Y<bc;Y++){for(Z=cn[Y],bd=5;9>bd;bd++){V.push(Z[bd])}}ae(P,"LINES",U)}else{if(m===o.TRIANGLES){if(2<bc){for(Y=0;Y+2<bc;Y+=3){T=[];X=[];P=[];V=[];U=[];for(bd=0;3>bd;bd++){for(R=0;3>R;R++){P.push(cn[Y+bd][R]),T.push(cn[Y+bd][R])}}for(bd=0;3>bd;bd++){for(R=3;5>R;R++){X.push(cn[Y+bd][R])}}for(bd=0;3>bd;bd++){for(R=5;9>R;R++){V.push(cn[Y+bd][R]),U.push(cn[Y+bd][R+4])}}ad&&ae(P,"LINE_LOOP",U);(b5||cx)&&e(T,"TRIANGLES",V,X)}}}else{if(m===o.TRIANGLE_STRIP){if(2<bc){for(Y=0;Y+2<bc;Y++){P=[];T=[];U=[];V=[];X=[];for(bd=0;3>bd;bd++){for(R=0;3>R;R++){P.push(cn[Y+bd][R]),T.push(cn[Y+bd][R])}}for(bd=0;3>bd;bd++){for(R=3;5>R;R++){X.push(cn[Y+bd][R])}}for(bd=0;3>bd;bd++){for(R=5;9>R;R++){U.push(cn[Y+bd][R+4]),V.push(cn[Y+bd][R])}}(b5||cx)&&e(T,"TRIANGLE_STRIP",V,X);ad&&ae(P,"LINE_LOOP",U)}}}else{if(m===o.TRIANGLE_FAN){if(2<bc){for(Y=0;3>Y;Y++){for(Z=cn[Y],bd=0;3>bd;bd++){P.push(Z[bd])}}for(Y=0;3>Y;Y++){for(Z=cn[Y],bd=9;13>bd;bd++){U.push(Z[bd])}}ad&&ae(P,"LINE_LOOP",U);for(Y=2;Y+1<bc;Y++){P=[];U=[];P.push(cn[0][0]);P.push(cn[0][1]);P.push(cn[0][2]);U.push(cn[0][9]);U.push(cn[0][10]);U.push(cn[0][11]);U.push(cn[0][12]);for(bd=0;2>bd;bd++){for(R=0;3>R;R++){P.push(cn[Y+bd][R])}}for(bd=0;2>bd;bd++){for(R=9;13>R;R++){U.push(cn[Y+bd][R])}}ad&&ae(P,"LINE_STRIP",U)}(b5||cx)&&e(T,"TRIANGLE_FAN",V,X)}}else{if(m===o.QUADS){for(Y=0;Y+3<bc;Y+=4){P=[];for(bd=0;4>bd;bd++){for(Z=cn[Y+bd],R=0;3>R;R++){P.push(Z[R])}}ad&&ae(P,"LINE_LOOP",U);if(b5){T=[];V=[];X=[];for(bd=0;3>bd;bd++){T.push(cn[Y][bd])}for(bd=5;9>bd;bd++){V.push(cn[Y][bd])}for(bd=0;3>bd;bd++){T.push(cn[Y+1][bd])}for(bd=5;9>bd;bd++){V.push(cn[Y+1][bd])}for(bd=0;3>bd;bd++){T.push(cn[Y+3][bd])}for(bd=5;9>bd;bd++){V.push(cn[Y+3][bd])}for(bd=0;3>bd;bd++){T.push(cn[Y+2][bd])}for(bd=5;9>bd;bd++){V.push(cn[Y+2][bd])}cx&&(X.push(cn[Y+0][3]),X.push(cn[Y+0][4]),X.push(cn[Y+1][3]),X.push(cn[Y+1][4]),X.push(cn[Y+3][3]),X.push(cn[Y+3][4]),X.push(cn[Y+2][3]),X.push(cn[Y+2][4]));e(T,"TRIANGLE_STRIP",V,X)}}}else{if(m===o.QUAD_STRIP){if(3<bc){for(Y=0;2>Y;Y++){for(Z=cn[Y],bd=0;3>bd;bd++){P.push(Z[bd])}}for(Y=0;2>Y;Y++){for(Z=cn[Y],bd=9;13>bd;bd++){U.push(Z[bd])}}ae(P,"LINE_STRIP",U);4<bc&&0<bc%2&&(T.splice(T.length-3),cn.pop());for(Y=0;Y+3<bc;Y+=2){P=[];U=[];for(bd=0;3>bd;bd++){P.push(cn[Y+1][bd])}for(bd=0;3>bd;bd++){P.push(cn[Y+3][bd])}for(bd=0;3>bd;bd++){P.push(cn[Y+2][bd])}for(bd=0;3>bd;bd++){P.push(cn[Y+0][bd])}for(bd=9;13>bd;bd++){U.push(cn[Y+1][bd])}for(bd=9;13>bd;bd++){U.push(cn[Y+3][bd])}for(bd=9;13>bd;bd++){U.push(cn[Y+2][bd])}for(bd=9;13>bd;bd++){U.push(cn[Y+0][bd])}ad&&ae(P,"LINE_STRIP",U)}(b5||cx)&&e(T,"TRIANGLE_LIST",V,X)}}else{if(1===bc){for(bd=0;3>bd;bd++){P.push(cn[0][bd])}for(bd=9;13>bd;bd++){U.push(cn[0][bd])}aO(P,U)}else{for(Y=0;Y<bc;Y++){Z=cn[Y];for(bd=0;3>bd;bd++){P.push(Z[bd])}for(bd=5;9>bd;bd++){U.push(Z[bd])}}ad&&R?ae(P,"LINE_LOOP",U):ad&&!R&&ae(P,"LINE_STRIP",U);(b5||cx)&&e(T,"TRIANGLE_FAN",V,X)}}}}}}}}cx=!1;aP.useProgram(c7);c8("usingTexture3d",c7,"uUsingTexture",cx)}else{P=T,P.splice(P.length-3),U.splice(U.length-4),ad&&ae(P,null,U),b5&&e(T,"TRIANGLES",V)}}else{ad&&ae(T,null,U),b5&&e(T,null,V)}ag=W=!1;cF=[];bK=0}};var aX=function(k,n){var P=1/k,R=P*P,T=R*P;n.set(0,0,0,1,T,R,P,0,6*T,2*R,0,0,6*T,0,0,0)},a5=function(){cO||(b9=new aY,cO=new aY,bt=!0);var k=bO;b9.set((k-1)/2,(k+3)/2,(-3-k)/2,(1-k)/2,1-k,(-5-k)/2,k+2,(k-1)/2,(k-1)/2,0,(1-k)/2,0,0,1,0,0);aX(bW,cO);cB||(aF=new aY);aF.set(b9);aF.preApply(cB);cO.apply(b9)};ar.prototype.bezierVertex=function(){ag=!0;var k=[];if(a1){throw"vertex() must be used at least once before calling bezierVertex()"}for(var n=0;n<arguments.length;n++){k[n]=arguments[n]}cn.push(k);cn[cn.length-1].isVert=!1};G.prototype.bezierVertex=function(){ag=!0;if(a1){throw"vertex() must be used at least once before calling bezierVertex()"}if(9===arguments.length){cW===w&&(cW=new aY);var P=cn.length-1;aX(b2,cW);cW.apply(cJ);for(var R=cW.array(),T=cn[P][0],U=cn[P][1],P=cn[P][2],V=R[4]*T+R[5]*arguments[0]+R[6]*arguments[3]+R[7]*arguments[6],X=R[8]*T+R[9]*arguments[0]+R[10]*arguments[3]+R[11]*arguments[6],Y=R[12]*T+R[13]*arguments[0]+R[14]*arguments[3]+R[15]*arguments[6],Z=R[4]*U+R[5]*arguments[1]+R[6]*arguments[4]+R[7]*arguments[7],bc=R[8]*U+R[9]*arguments[1]+R[10]*arguments[4]+R[11]*arguments[7],bd=R[12]*U+R[13]*arguments[1]+R[14]*arguments[4]+R[15]*arguments[7],cb=R[4]*P+R[5]*arguments[2]+R[6]*arguments[5]+R[7]*arguments[8],cc=R[8]*P+R[9]*arguments[2]+R[10]*arguments[5]+R[11]*arguments[8],R=R[12]*P+R[13]*arguments[2]+R[14]*arguments[5]+R[15]*arguments[8],cd=0;cd<b2;cd++){T+=V,V+=X,X+=Y,U+=Z,Z+=bc,bc+=bd,P+=cb,cb+=cc,cc+=R,aA.vertex(T,U,P)}aA.vertex(arguments[6],arguments[7],arguments[8])}};aA.texture=function(k){var n=aR.$ensureContext();if(k.__texture){n.bindTexture(n.TEXTURE_2D,k.__texture)}else{if("canvas"===k.localName){n.bindTexture(n.TEXTURE_2D,cl),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,k),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D)}else{var P=n.createTexture(),R=H.createElement("canvas"),U=R.getContext("2d"),T;if(k.width&0===k.width-1){R.width=k.width}else{for(T=1;T<k.width;){T*=2}R.width=T}if(k.height&0===k.height-1){R.height=k.height}else{for(T=1;T<k.height;){T*=2}R.height=T}U.drawImage(k.sourceImg,0,0,k.width,k.height,0,0,R.width,R.height);n.bindTexture(n.TEXTURE_2D,P);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,R);n.generateMipmap(n.TEXTURE_2D);k.__texture=P}cC=k.width;cK=k.height}cx=!0;n.useProgram(c7);c8("usingTexture3d",c7,"uUsingTexture",cx)};aA.textureMode=function(k){cR=k};ar.prototype.curveVertex=function(k,n){W=!0;aA.vertex(k,n)};G.prototype.curveVertex=function(P,R,T){W=!0;bt||a5();var U=[];U[0]=P;U[1]=R;U[2]=T;cF.push(U);bK++;if(3<bK){var V=cF[bK-4][0],X=cF[bK-4][1],Y=cF[bK-4][2],Z=cF[bK-3][0],bc=cF[bK-3][1],bd=cF[bK-3][2],cb=cF[bK-2][0],cc=cF[bK-2][1],da=cF[bK-2][2],db=cF[bK-1][0],dd=cF[bK-1][1],dc=cF[bK-1][2];P=Z;R=bc;T=bd;var cd=cO.array(),U=cd[4]*V+cd[5]*Z+cd[6]*cb+cd[7]*db,dj=cd[8]*V+cd[9]*Z+cd[10]*cb+cd[11]*db,V=cd[12]*V+cd[13]*Z+cd[14]*cb+cd[15]*db,Z=cd[4]*X+cd[5]*bc+cd[6]*cc+cd[7]*dd,cb=cd[8]*X+cd[9]*bc+cd[10]*cc+cd[11]*dd,X=cd[12]*X+cd[13]*bc+cd[14]*cc+cd[15]*dd,bc=cd[4]*Y+cd[5]*bd+cd[6]*da+cd[7]*dc,cc=cd[8]*Y+cd[9]*bd+cd[10]*da+cd[11]*dc,Y=cd[12]*Y+cd[13]*bd+cd[14]*da+cd[15]*dc;aA.vertex(P,R,T);for(bd=0;bd<bW;bd++){P+=U,U+=dj,dj+=V,R+=Z,Z+=cb,cb+=X,T+=bc,bc+=cc,cc+=Y,aA.vertex(P,R,T)}}};ar.prototype.curve=function(n,P,R,T,U,V,X,Y){aA.beginShape();aA.curveVertex(n,P);aA.curveVertex(R,T);aA.curveVertex(U,V);aA.curveVertex(X,Y);aA.endShape()};G.prototype.curve=function(P,R,T,U,V,X,Y,Z,bc,bd,cb,cc){cc!==w?(aA.beginShape(),aA.curveVertex(P,R,T),aA.curveVertex(U,V,X),aA.curveVertex(Y,Z,bc),aA.curveVertex(bd,cb,cc)):(aA.beginShape(),aA.curveVertex(P,R),aA.curveVertex(T,U),aA.curveVertex(V,X),aA.curveVertex(Y,Z));aA.endShape()};aA.curveTightness=function(k){bO=k};aA.curveDetail=function(k){bW=k;a5()};aA.rectMode=function(k){bY=k};aA.imageMode=function(k){switch(k){case o.CORNER:bA=az;break;case o.CORNERS:bA=cD;break;case o.CENTER:bA=cL;break;default:throw"Invalid imageMode"}};aA.ellipseMode=function(k){bo=k};aA.arc=function(n,P,R,T,U,V){if(!(0>=R||V<U)){bo===o.CORNERS?(R-=n,T-=P):bo===o.RADIUS?(n-=R,P-=T,R*=2,T*=2):bo===o.CENTER&&(n-=R/2,P-=T/2);for(;0>U;){U+=o.TWO_PI,V+=o.TWO_PI}V-U>o.TWO_PI&&(U=0,V=o.TWO_PI);R/=2;T/=2;n+=R;P+=T;U=0|0.5+2*U*aA.RAD_TO_DEG;V=0|0.5+2*V*aA.RAD_TO_DEG;var X,Y;if(b5){var Z=ad;ad=!1;aA.beginShape();aA.vertex(n,P);for(X=U;X<=V;X++){Y=X%o.SINCOS_LENGTH,aA.vertex(n+cA[Y]*R,P+cs[Y]*T)}aA.endShape(o.CLOSE);ad=Z}if(ad){Z=b5;b5=!1;aA.beginShape();for(X=U;X<=V;X++){Y=X%o.SINCOS_LENGTH,aA.vertex(n+cA[Y]*R,P+cs[Y]*T)}aA.endShape();b5=Z}}};ar.prototype.line=function(n,P,R,T){if(ad){if(n=Math.round(n),R=Math.round(R),P=Math.round(P),T=Math.round(T),n===R&&P===T){aA.point(n,P)}else{for(var U=w,V=w,X=!0,U=bv.array(),Y=[1,0,0,0,1,0],Z=0;6>Z&&X;Z++){X=U[Z]===Y[Z]}X&&(n===R?(P>T&&(U=P,P=T,T=U),T++,1===at%2&&aP.translate(0.5,0)):P===T&&(n>R&&(U=n,n=R,R=U),R++,1===at%2&&aP.translate(0,0.5)),1===at&&(V=aP.lineCap,aP.lineCap="butt"));aP.beginPath();aP.moveTo(n||0,P||0);aP.lineTo(R||0,T||0);c9();X&&(n===R&&1===at%2?aP.translate(-0.5,0):P===T&&1===at%2&&aP.translate(0,-0.5),1===at&&(aP.lineCap=V))}}};G.prototype.line=function(n,P,R,T,U,V){if(U===w||V===w){V=0,U=T,T=R,R=0}n===T&&P===U&&R===V?aA.point(n,P,R):(n=[n,P,R,T,U,V],P=new aY,P.scale(1,-1,1),P.apply(bv.array()),P.transpose(),0<at&&ad&&(aP.useProgram(a6),cE("uModel2d",a6,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),cE("uView2d",a6,"uView",!1,P.array()),cw("uColor2d",a6,"uColor",c1),c8("uIsDrawingText",a6,"uIsDrawingText",!1),d("aVertex2d",a6,"aVertex",3,y),cg("aTextureCoord2d",a6,"aTextureCoord"),aP.bufferData(aP.ARRAY_BUFFER,new h(n),aP.STREAM_DRAW),aP.drawArrays(aP.LINES,0,2)))};ar.prototype.bezier=function(){if(8!==arguments.length){throw"You must use 8 parameters for bezier() in 2D mode"}aA.beginShape();aA.vertex(arguments[0],arguments[1]);aA.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);aA.endShape()};G.prototype.bezier=function(){if(12!==arguments.length){throw"You must use 12 parameters for bezier() in 3D mode"}aA.beginShape();aA.vertex(arguments[0],arguments[1],arguments[2]);aA.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);aA.endShape()};aA.bezierDetail=function(k){b2=k};aA.bezierPoint=function(k,n,P,R,T){return(1-T)*(1-T)*(1-T)*k+3*(1-T)*(1-T)*T*n+3*(1-T)*T*T*P+T*T*T*R};aA.bezierTangent=function(k,n,P,R,T){return 3*T*T*(-k+3*n-3*P+R)+6*T*(k-2*n+P)+3*(-k+n)};aA.curvePoint=function(k,n,P,R,T){return 0.5*(2*n+(-k+P)*T+(2*k-5*n+4*P-R)*T*T+(-k+3*n-3*P+R)*T*T*T)};aA.curveTangent=function(k,n,P,R,T){return 0.5*(-k+P+2*(2*k-5*n+4*P-R)*T+3*(-k+3*n-3*P+R)*T*T)};aA.triangle=function(k,n,P,R,T,U){aA.beginShape(o.TRIANGLES);aA.vertex(k,n,0);aA.vertex(P,R,0);aA.vertex(T,U,0);aA.endShape()};aA.quad=function(n,P,R,T,U,V,X,Y){aA.beginShape(o.QUADS);aA.vertex(n,P,0);aA.vertex(R,T,0);aA.vertex(U,V,0);aA.vertex(X,Y,0);aA.endShape()};ar.prototype.rect=function(P,R,T,U,V,X,Y,Z){if(T||U){if(bY===o.CORNERS?(T-=P,U-=R):bY===o.RADIUS?(T*=2,U*=2,P-=T/2,R-=U/2):bY===o.CENTER&&(P-=T/2,R-=U/2),P=Math.round(P),R=Math.round(R),T=Math.round(T),U=Math.round(U),V!==w){Z===w&&(Z=Y=X=V);var bd=T/2,bc=U/2;if(V>bd||V>bc){V=Math.min(bd,bc)}if(X>bd||X>bc){X=Math.min(bd,bc)}if(Y>bd||Y>bc){Y=Math.min(bd,bc)}if(Z>bd||Z>bc){Z=Math.min(bd,bc)}b5&&!ad||aP.translate(0.5,0.5);aP.beginPath();aP.moveTo(P+V,R);aP.lineTo(P+T-X,R);aP.quadraticCurveTo(P+T,R,P+T,R+X);aP.lineTo(P+T,R+U-Y);aP.quadraticCurveTo(P+T,R+U,P+T-Y,R+U);aP.lineTo(P+Z,R+U);aP.quadraticCurveTo(P,R+U,P,R+U-Z);aP.lineTo(P,R+V);aP.quadraticCurveTo(P,R,P+V,R);b5&&!ad||aP.translate(-0.5,-0.5);cM();c9()}else{ad&&1===at%2&&aP.translate(0.5,0.5),aP.beginPath(),aP.rect(P,R,T,U),cM(),c9(),ad&&1===at%2&&aP.translate(-0.5,-0.5)}}};G.prototype.rect=function(n,P,R,T,U,V,X,Y){if(U!==w){throw"rect() with rounded corners is not supported in 3D mode"}bY===o.CORNERS?(R-=n,T-=P):bY===o.RADIUS?(R*=2,T*=2,n-=R/2,P-=T/2):bY===o.CENTER&&(n-=R/2,P-=T/2);U=new aY;U.translate(n,P,0);U.scale(R,T,1);U.transpose();P=new aY;P.scale(1,-1,1);P.apply(bv.array());P.transpose();0<at&&ad&&(aP.useProgram(a6),cE("uModel2d",a6,"uModel",!1,U.array()),cE("uView2d",a6,"uView",!1,P.array()),cw("uColor2d",a6,"uColor",c1),c8("uIsDrawingText2d",a6,"uIsDrawingText",!1),d("aVertex2d",a6,"aVertex",3,aM),cg("aTextureCoord2d",a6,"aTextureCoord"),aP.drawArrays(aP.LINE_LOOP,0,aW.length/3));b5&&(aP.useProgram(c7),cE("uModel3d",c7,"uModel",!1,U.array()),cE("uView3d",c7,"uView",!1,P.array()),aP.enable(aP.POLYGON_OFFSET_FILL),aP.polygonOffset(1,1),cw("color3d",c7,"uColor",bh),0<bJ?(n=new aY,n.set(P),P=new aY,P.set(U),n.mult(P),P=new aY,P.set(n),P.invert(),P.transpose(),cE("uNormalTransform3d",c7,"uNormalTransform",!1,P.array()),d("aNormal3d",c7,"aNormal",3,dh)):cg("normal3d",c7,"aNormal"),d("vertex3d",c7,"aVertex",3,aM),aP.drawArrays(aP.TRIANGLE_FAN,0,aW.length/3),aP.disable(aP.POLYGON_OFFSET_FILL))};ar.prototype.ellipse=function(n,P,R,T){n=n||0;P=P||0;if(!(0>=R&&0>=T)){if(bo===o.RADIUS?(R*=2,T*=2):bo===o.CORNERS?(R-=n,T-=P,n+=R/2,P+=T/2):bo===o.CORNER&&(n+=R/2,P+=T/2),R===T){aP.beginPath(),aP.arc(n,P,R/2,0,o.TWO_PI,!1),cM(),c9()}else{R/=2;T/=2;var U=0.5522847498307933*R,V=0.5522847498307933*T;aA.beginShape();aA.vertex(n+R,P);aA.bezierVertex(n+R,P-V,n+U,P-T,n,P-T);aA.bezierVertex(n-U,P-T,n-R,P-V,n-R,P);aA.bezierVertex(n-R,P+V,n-U,P+T,n,P+T);aA.bezierVertex(n+U,P+T,n+R,P+V,n+R,P);aA.endShape()}}};G.prototype.ellipse=function(k,n,P,R){k=k||0;n=n||0;if(!(0>=P&&0>=R)){bo===o.RADIUS?(P*=2,R*=2):bo===o.CORNERS?(P-=k,R-=n,k+=P/2,n+=R/2):bo===o.CORNER&&(k+=P/2,n+=R/2);P/=2;R/=2;var T=0.5522847498307933*P,U=0.5522847498307933*R;aA.beginShape();aA.vertex(k+P,n);aA.bezierVertex(k+P,n-U,0,k+T,n-R,0,k,n-R,0);aA.bezierVertex(k-T,n-R,0,k-P,n-U,0,k-P,n,0);aA.bezierVertex(k-P,n+U,0,k-T,n+R,0,k,n+R,0);aA.bezierVertex(k+T,n+R,0,k+P,n+U,0,k+P,n,0);aA.endShape();if(b5){for(T=R=P=0;T<cn.length;T++){P+=cn[T][0],R+=cn[T][1]}P/=cn.length;R/=cn.length;T=[];k=[];n=[];T[0]=P;T[1]=R;T[2]=0;T[3]=0;T[4]=0;T[5]=bh[0];T[6]=bh[1];T[7]=bh[2];T[8]=bh[3];T[9]=c1[0];T[10]=c1[1];T[11]=c1[2];T[12]=c1[3];T[13]=aE;T[14]=an;T[15]=cr;cn.unshift(T);for(T=0;T<cn.length;T++){for(P=0;3>P;P++){k.push(cn[T][P])}for(P=5;9>P;P++){n.push(cn[T][P])}}e(k,"TRIANGLE_FAN",n)}}};aA.normal=function(k,n,P){if(3!==arguments.length||"number"!==typeof k||"number"!==typeof n||"number"!==typeof P){throw"normal() requires three numeric arguments."}aE=k;an=n;cr=P;0!==m&&(a9===o.NORMAL_MODE_AUTO?a9=o.NORMAL_MODE_SHAPE:a9===o.NORMAL_MODE_SHAPE&&(a9=o.NORMAL_MODE_VERTEX))};aA.save=function(k,n){return n!==w?E.open(n.toDataURL(),"_blank"):E.open(aA.externals.canvas.toDataURL(),"_blank")};var cS=0;aA.saveFrame=function(k){k===w&&(k="screen-####.png");k=k.replace(/#+/,function(n){for(var P=""+cS++;P.length<n.length;){P="0"+P}return P});aA.save(k)};var c0=H.createElement("canvas").getContext("2d"),bB=[w,w,w],aJ=function(k,n,P){this.__isDirty=!1;if(k instanceof s){this.fromHTMLImageData(k)}else{if(n||P){this.width=k||1;this.height=n||1;k=this.sourceImg=H.createElement("canvas");k.width=this.width;k.height=this.height;this.imageData=k.getContext("2d").createImageData(this.width,this.height);this.format=P===o.ARGB||P===o.ALPHA?P:o.RGB;if(this.format===o.RGB){for(P=3,k=this.imageData.data,n=k.length;P<n;P+=4){k[P]=255}}this.__isDirty=!0;this.updatePixels()}else{this.height=this.width=0,this.imageData=c0.createImageData(1,1),this.format=o.ARGB}}this.pixels=a2(this)};aJ.prototype={__isPImage:!0,updatePixels:function(){var k=this.sourceImg;k&&(k instanceof N&&this.__isDirty)&&k.getContext("2d").putImageData(this.imageData,0,0);this.__isDirty=!1},fromHTMLImageData:function(k){var n=a8(k);try{var P=n.context.getImageData(0,0,k.width,k.height);this.fromImageData(P)}catch(R){k.width&&k.height&&(this.isRemote=!0,this.width=k.width,this.height=k.height)}this.sourceImg=k},get:function(k,n,P,R){if(!arguments.length){return aA.get(this)}if(2===arguments.length){return aA.get(k,n,this)}if(4===arguments.length){return aA.get(k,n,P,R,this)}},set:function(k,n,P){aA.set(k,n,P,this);this.__isDirty=!0},blend:function(n,P,R,T,U,V,X,Y,Z,bc){9===arguments.length?aA.blend(this,n,P,R,T,U,V,X,Y,Z,this):10===arguments.length&&aA.blend(n,P,R,T,U,V,X,Y,Z,bc,this);delete this.sourceImg},copy:function(n,P,R,T,U,V,X,Y,Z){8===arguments.length?aA.blend(this,n,P,R,T,U,V,X,Y,o.REPLACE,this):9===arguments.length&&aA.blend(n,P,R,T,U,V,X,Y,Z,o.REPLACE,this);delete this.sourceImg},filter:function(k,n){2===arguments.length?aA.filter(k,n,this):1===arguments.length&&aA.filter(k,null,this);delete this.sourceImg},save:function(k){aA.save(k,this)},resize:function(k,n){if(this.isRemote){throw"Image is loaded remotely. Cannot resize."}if(0!==this.width||0!==this.height){0===k&&0!==n?k=Math.floor(this.width/this.height*n):0===n&&0!==k&&(n=Math.floor(this.height/this.width*k));var P=a8(this.imageData).canvas,P=a8(P,k,n).context.getImageData(0,0,k,n);this.fromImageData(P)}},mask:function(k){var n=this.toImageData(),P,R;if(k instanceof aJ||k.__isPImage){if(k.width===this.width&&k.height===this.height){for(k=k.toImageData(),P=2,R=4*this.width*this.height;P<R;P+=4){n.data[P+1]=k.data[P]}}else{throw"mask must have the same dimensions as PImage."}}else{if(k instanceof Array){if(this.width*this.height===k.length){for(P=0,R=k.length;P<R;++P){n.data[4*P+3]=k[P]}}else{throw"mask array must be the same length as PImage pixels array."}}}this.fromImageData(n)},loadPixels:L,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?a8(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote){throw"Image is loaded remotely. Cannot create dataURI."}return a8(this.imageData).canvas.toDataURL()},fromImageData:function(k){var n=k.width,P=k.height,R=H.createElement("canvas"),T=R.getContext("2d");this.width=R.width=n;this.height=R.height=P;T.putImageData(k,0,0);this.format=o.ARGB;this.imageData=k;this.sourceImg=R}};aA.PImage=aJ;aA.createImage=function(k,n,P){return new aJ(k,n,P)};aA.loadImage=function(k,n,P){if(ak.imageCache.images[k]){return n=new aJ(ak.imageCache.images[k]),n.loaded=!0,n}n=new aJ;var R=H.createElement("img");n.sourceImg=R;R.onload=function(T,U,V){return function(){U.fromHTMLImageData(T);U.loaded=!0;V&&V()}}(R,n,P);R.src=k;return n};aA.requestImage=aA.loadImage;aA.get=function(k,n,P,R,T){if(void 0!==T){return bk(k,n,P,R,T)}if(void 0!==R){return ba(k,n,P,R)}if(void 0!==P){if(P.isRemote){throw"Image is loaded remotely. Cannot get x,y."}k=4*n*P.width+4*k;P=P.imageData.data;return P[k+3]<<24&o.ALPHA_MASK|P[k]<<16&o.RED_MASK|P[k+1]<<8&o.GREEN_MASK|P[k+2]&o.BLUE_MASK}return void 0!==n?(k>=aA.width||0>k||0>n||n>=aA.height?P=0:b1?(k=4*((0|k)+aA.width*(0|n)),P=aA.imageData.data,P=P[k+3]<<24&o.ALPHA_MASK|P[k]<<16&o.RED_MASK|P[k+1]<<8&o.GREEN_MASK|P[k+2]&o.BLUE_MASK):(P=aA.toImageData(0|k,0|n,1,1).data,P=P[3]<<24&o.ALPHA_MASK|P[0]<<16&o.RED_MASK|P[1]<<8&o.GREEN_MASK|P[2]&o.BLUE_MASK),P):void 0!==k?bk(0,0,k.width,k.height,k):ba(0,0,aA.width,aA.height)};aA.createGraphics=function(k,n,P){var R=new B;R.size(k,n,P);R.background(0,0);return R};aA.set=function(n,P,R,T){if(3===arguments.length){"number"===typeof R?n<aA.width&&(0<=n&&0<=P&&P<aA.height)&&(b1||(aA.loadPixels(),null===aG&&(bI=aP,aG=new br),b1=!0,aP=aG,cZ=0),aA.pixels.setPixel((0|n)+aA.width*(0|P),R),++cZ>c6&&aD()):(R instanceof aJ||R.__isPImage)&&aA.image(R,n,P)}else{if(4===arguments.length){if(T.isRemote){throw"Image is loaded remotely. Cannot set x,y."}var U=aA.color.toArray(R),V=4*P*T.width+4*n,X=T.imageData.data;X[V]=U[0];X[V+1]=U[1];X[V+2]=U[2];X[V+3]=U[3]}}};aA.imageData={};aA.pixels={getLength:function(){return aA.imageData.data.length?aA.imageData.data.length/4:0},getPixel:function(k){k*=4;var n=aA.imageData.data;return n[k+3]<<24&4278190080|n[k+0]<<16&16711680|n[k+1]<<8&65280|n[k+2]&255},setPixel:function(k,n){var P=4*k,R=aA.imageData.data;R[P+0]=(n&16711680)>>>16;R[P+1]=(n&65280)>>>8;R[P+2]=n&255;R[P+3]=(n&4278190080)>>>24},toArray:function(){for(var k=[],n=aA.imageData.width*aA.imageData.height,P=aA.imageData.data,R=0,T=0;R<n;R++,T+=4){k.push(P[T+3]<<24&4278190080|P[T+0]<<16&16711680|P[T+1]<<8&65280|P[T+2]&255)}return k},set:function(k){for(var n=0,P=k.length;n<P;n++){this.setPixel(n,k[n])}}};aA.loadPixels=function(){aA.imageData=aR.$ensureContext().getImageData(0,0,aA.width,aA.height)};aA.updatePixels=function(){aA.imageData&&aR.$ensureContext().putImageData(aA.imageData,0,0)};aA.hint=function(k){var n=aR.$ensureContext();k===o.DISABLE_DEPTH_TEST?(n.disable(n.DEPTH_TEST),n.depthMask(!1),n.clear(n.DEPTH_BUFFER_BIT)):k===o.ENABLE_DEPTH_TEST?(n.enable(n.DEPTH_TEST),n.depthMask(!0)):k===o.ENABLE_OPENGL_2X_SMOOTH||k===o.ENABLE_OPENGL_4X_SMOOTH?b6=!0:k===o.DISABLE_OPENGL_2X_SMOOTH&&(b6=!1)};var bf=function(k,n,P,R){if(k instanceof aJ||k.__isPImage){if(!k.loaded){throw"Error using image in background(): PImage not loaded."}if(k.width!==aA.width||k.height!==aA.height){throw"Background image must be the same dimensions as the canvas."}}else{k=aA.color(k,n,P,R)}bj=k};ar.prototype.background=function(k,n,P,R){k!==w&&bf(k,n,P,R);bj instanceof aJ||bj.__isPImage?(aP.save(),aP.setTransform(1,0,0,1,0,0),aA.image(bj,0,0)):(aP.save(),aP.setTransform(1,0,0,1,0,0),aA.alpha(bj)!==aZ&&aP.clearRect(0,0,aA.width,aA.height),aP.fillStyle=aA.color.toString(bj),aP.fillRect(0,0,aA.width,aA.height),bD=!0);ch()};G.prototype.background=function(k,n,P,R){0<arguments.length&&bf(k,n,P,R);var T=aA.color.toGLArray(bj);aP.clearColor(T[0],T[1],T[2],T[3]);aP.clear(aP.COLOR_BUFFER_BIT|aP.DEPTH_BUFFER_BIT)};ar.prototype.image=function(k,n,P,R,T){n=Math.round(n);P=Math.round(P);if(0<k.width){var U=bA(n||0,P||0,R||k.width,T||k.height,4>arguments.length);if(k.sourceImg&&null===aK){var V=k.sourceImg;k.__isDirty&&k.updatePixels();aP.drawImage(V,0,0,V.width,V.height,U.x,U.y,U.w,U.h)}else{V=k.toImageData(),null!==aK&&(aK(V),k.__isDirty=!0),aP.drawImage(a8(V).canvas,0,0,k.width,k.height,U.x,U.y,U.w,U.h)}}};G.prototype.image=function(k,n,P,R,T){0<k.width&&(n=Math.round(n),P=Math.round(P),R=R||k.width,T=T||k.height,aA.beginShape(aA.QUADS),aA.texture(k),aA.vertex(n,P,0,0,0),aA.vertex(n,P+T,0,0,T),aA.vertex(n+R,P+T,0,R,T),aA.vertex(n+R,P,0,R,0),aA.endShape())};aA.tint=function(n,P,R,T){n=aA.color(n,P,R,T);var U=aA.red(n)/cU,V=aA.green(n)/au,X=aA.blue(n)/c2,Y=aA.alpha(n)/aZ;aK=function(k){var Z=k.data;k=4*k.width*k.height;for(var bc=0;bc<k;){Z[bc++]*=U,Z[bc++]*=V,Z[bc++]*=X,Z[bc++]*=Y}};ck=function(k){for(var Z=0;Z<k.length;){k[Z++]=U,k[Z++]=V,k[Z++]=X,k[Z++]=Y}}};aA.noTint=function(){ck=aK=null};aA.copy=function(P,R,T,U,V,X,Y,Z,bc){bc===w&&(bc=Z,Z=Y,Y=X,X=V,V=U,U=T,T=R,R=P,P=aA);aA.blend(P,R,T,U,V,X,Y,Z,bc,o.REPLACE)};aA.blend=function(P,R,T,U,V,X,Y,Z,bc,bd,cb){if(P.isRemote){throw"Image is loaded remotely. Cannot blend image."}bd===w&&(bd=bc,bc=Z,Z=Y,Y=X,X=V,V=U,U=T,T=R,R=P,P=aA);U=R+U;V=T+V;Z=X+Z;bc=Y+bc;var cc=cb||aA;cb!==w&&bd!==w||aA.loadPixels();P.loadPixels();P===aA&&aA.intersect(R,T,U,V,X,Y,Z,bc)?aA.blit_resize(aA.get(R,T,U-R,V-T),0,0,U-R-1,V-T-1,cc.imageData.data,cc.width,cc.height,X,Y,Z,bc,bd):aA.blit_resize(P,R,T,U,V,cc.imageData.data,cc.width,cc.height,X,Y,Z,bc,bd);cb===w&&aA.updatePixels()};var bn=function(P,R){var T=0,U=R.pixels.getLength(),V=new J(U),X,Y,Z,bc,bd,cb,cc,cd,db,dc,da,dd;if(P){for(;T<U;){for(X=T,Y=T+R.width;T<Y;){Z=bc=R.pixels.getPixel(T),cb=T-1,bd=T+1,cc=T-R.width,cd=T+R.width,cb<X&&(cb=T),bd>=Y&&(bd=T),0>cc&&(cc=0),cd>=U&&(cd=T),cc=R.pixels.getPixel(cc),cb=R.pixels.getPixel(cb),cd=R.pixels.getPixel(cd),bd=R.pixels.getPixel(bd),Z=77*(Z>>16&255)+151*(Z>>8&255)+28*(Z&255),dc=77*(cb>>16&255)+151*(cb>>8&255)+28*(cb&255),db=77*(bd>>16&255)+151*(bd>>8&255)+28*(bd&255),da=77*(cc>>16&255)+151*(cc>>8&255)+28*(cc&255),dd=77*(cd>>16&255)+151*(cd>>8&255)+28*(cd&255),dc<Z&&(bc=cb,Z=dc),db<Z&&(bc=bd,Z=db),da<Z&&(bc=cc,Z=da),dd<Z&&(bc=cd),V[T++]=bc}}}else{for(;T<U;){for(X=T,Y=T+R.width;T<Y;){Z=bc=R.pixels.getPixel(T),cb=T-1,bd=T+1,cc=T-R.width,cd=T+R.width,cb<X&&(cb=T),bd>=Y&&(bd=T),0>cc&&(cc=0),cd>=U&&(cd=T),cc=R.pixels.getPixel(cc),cb=R.pixels.getPixel(cb),cd=R.pixels.getPixel(cd),bd=R.pixels.getPixel(bd),Z=77*(Z>>16&255)+151*(Z>>8&255)+28*(Z&255),dc=77*(cb>>16&255)+151*(cb>>8&255)+28*(cb&255),db=77*(bd>>16&255)+151*(bd>>8&255)+28*(bd&255),da=77*(cc>>16&255)+151*(cc>>8&255)+28*(cc&255),dd=77*(cd>>16&255)+151*(cd>>8&255)+28*(cd&255),dc>Z&&(bc=cb,Z=dc),db>Z&&(bc=bd,Z=db),da>Z&&(bc=cc,Z=da),dd>Z&&(bc=cd),V[T++]=bc}}}R.pixels.set(V)};aA.filter=function(P,R,U){var Y,cb,db,dd;3===arguments.length?(U.loadPixels(),Y=U):(aA.loadPixels(),Y=aA);R===w&&(R=null);if(Y.isRemote){throw"Image is loaded remotely. Cannot filter image."}var dj=Y.pixels.getLength();switch(P){case o.BLUR:var dk=R||1,dl=Y,dn,dp,dm,dr,dq,ds,dt,V,X;db=dl.pixels.getLength();dd=new h(db);dj=new h(db);cb=new h(db);db=new h(db);var bc=0,bd,Z,cc,dk=aA.floor(3.5*dk),T,dk=1>dk?1:248>dk?dk:248;if(aA.shared.blurRadius!==dk){aA.shared.blurRadius=dk;aA.shared.blurKernelSize=1+(aA.shared.blurRadius<<1);aA.shared.blurKernel=new h(aA.shared.blurKernelSize);var cd=aA.shared.blurKernel,da=aA.shared.blurKernelSize;for(T=0;T<da;T++){cd[T]=0}da=(dk-1)*(dk-1);for(T=1;T<dk;T++){cd[dk+T]=cd[void 0]=da}cd[dk]=dk*dk}dk=dl.height;T=dl.width;cd=aA.shared.blurKernelSize;V=aA.shared.blurRadius;var da=aA.shared.blurKernel,dc=dl.imageData.data;for(Z=0;Z<dk;Z++){for(bd=0;bd<T;bd++){dm=dp=dn=dr=dl=0;ds=bd-V;if(0>ds){dq=-ds,ds=0}else{if(ds>=T){break}dq=0}for(cc=dq;cc<cd&&!(ds>=T);cc++){dt=4*(ds+bc),dq=da[cc],dr+=dq*dc[dt+3],dn+=dq*dc[dt],dp+=dq*dc[dt+1],dm+=dq*dc[dt+2],dl+=dq,ds++}dt=bc+bd;db[dt]=dr/dl;dd[dt]=dn/dl;dj[dt]=dp/dl;cb[dt]=dm/dl}bc+=T}bc=0;V=-V;X=V*T;for(Z=0;Z<dk;Z++){for(bd=0;bd<T;bd++){dm=dp=dn=dr=dl=0;if(0>V){dq=dt=-V,ds=bd}else{if(V>=dk){break}dq=0;dt=V;ds=bd+X}for(cc=dq;cc<cd&&!(dt>=dk);cc++){dq=da[cc],dr+=dq*db[ds],dn+=dq*dd[ds],dp+=dq*dj[ds],dm+=dq*cb[ds],dl+=dq,dt++,ds+=T}dt=4*(bd+bc);dc[dt]=dn/dl;dc[dt+1]=dp/dl;dc[dt+2]=dm/dl;dc[dt+3]=dr/dl}bc+=T;X+=T;V++}break;case o.GRAY:if(Y.format===o.ALPHA){for(dd=0;dd<dj;dd++){cb=255-Y.pixels.getPixel(dd),Y.pixels.setPixel(dd,4278190080|cb<<16|cb<<8|cb)}Y.format=o.RGB}else{for(dd=0;dd<dj;dd++){cb=Y.pixels.getPixel(dd),db=77*(cb>>16&255)+151*(cb>>8&255)+28*(cb&255)>>8,Y.pixels.setPixel(dd,cb&o.ALPHA_MASK|db<<16|db<<8|db)}}break;case o.INVERT:for(dd=0;dd<dj;dd++){Y.pixels.setPixel(dd,Y.pixels.getPixel(dd)^16777215)}break;case o.POSTERIZE:if(null===R){throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)"}cb=aA.floor(R);if(2>cb||255<cb){throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)"}db=cb-1;for(dd=0;dd<dj;dd++){bc=Y.pixels.getPixel(dd)>>16&255,dk=Y.pixels.getPixel(dd)>>8&255,T=Y.pixels.getPixel(dd)&255,bc=255*(bc*cb>>8)/db,dk=255*(dk*cb>>8)/db,T=255*(T*cb>>8)/db,Y.pixels.setPixel(dd,4278190080&Y.pixels.getPixel(dd)|bc<<16|dk<<8|T)}break;case o.OPAQUE:for(dd=0;dd<dj;dd++){Y.pixels.setPixel(dd,Y.pixels.getPixel(dd)|4278190080)}Y.format=o.RGB;break;case o.THRESHOLD:null===R&&(R=0.5);if(0>R||1<R){throw"Level must be between 0 and 1 for filter(THRESHOLD, level)"}cb=aA.floor(255*R);for(dd=0;dd<dj;dd++){db=aA.max((Y.pixels.getPixel(dd)&o.RED_MASK)>>16,aA.max((Y.pixels.getPixel(dd)&o.GREEN_MASK)>>8,Y.pixels.getPixel(dd)&o.BLUE_MASK)),Y.pixels.setPixel(dd,Y.pixels.getPixel(dd)&o.ALPHA_MASK|(db<cb?0:16777215))}break;case o.ERODE:bn(!0,Y);break;case o.DILATE:bn(!1,Y)}Y.updatePixels()};aA.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};aA.intersect=function(k,n,P,R,T,U,V,X){P=P-k+1;R=R-n+1;V=V-T+1;X=X-U+1;T<k?(V+=T-k,V>P&&(V=P)):(k=P+k-T,V>k&&(V=k));U<n?(X+=U-n,X>R&&(X=R)):(n=R+n-U,X>n&&(X=n));return !(0>=V||0>=X)};var bS={};bS[o.BLEND]=aA.modes.blend;bS[o.ADD]=aA.modes.add;bS[o.SUBTRACT]=aA.modes.subtract;bS[o.LIGHTEST]=aA.modes.lightest;bS[o.DARKEST]=aA.modes.darkest;bS[o.REPLACE]=aA.modes.replace;bS[o.DIFFERENCE]=aA.modes.difference;bS[o.EXCLUSION]=aA.modes.exclusion;bS[o.MULTIPLY]=aA.modes.multiply;bS[o.SCREEN]=aA.modes.screen;bS[o.OVERLAY]=aA.modes.overlay;bS[o.HARD_LIGHT]=aA.modes.hard_light;bS[o.SOFT_LIGHT]=aA.modes.soft_light;bS[o.DODGE]=aA.modes.dodge;bS[o.BURN]=aA.modes.burn;aA.blit_resize=function(P,T,V,Z,cb,cd,dc,dd,dj,dk,dl,dn,dp){0>T&&(T=0);0>V&&(V=0);Z>=P.width&&(Z=P.width-1);cb>=P.height&&(cb=P.height-1);Z-=T;cb-=V;dl-=dj;dn-=dk;if(!(0>=dl||0>=dn||0>=Z||0>=cb||dj>=dc||dk>=dd||T>=P.width||V>=P.height)){Z=Math.floor(Z/dl*o.PRECISIONF);cb=Math.floor(cb/dn*o.PRECISIONF);var dm=aA.shared;dm.srcXOffset=Math.floor(0>dj?-dj*Z:T*o.PRECISIONF);dm.srcYOffset=Math.floor(0>dk?-dk*cb:V*o.PRECISIONF);0>dj&&(dl+=dj,dj=0);0>dk&&(dn+=dk,dk=0);dl=Math.min(dl,dc-dj);dn=Math.min(dn,dd-dk);T=dk*dc+dj;var dr;dm.srcBuffer=P.imageData.data;dm.iw=P.width;dm.iw1=P.width-1;dm.ih1=P.height-1;V=bS[dp];var dq,ds,dt,X;dj=o.ALPHA_MASK;dk=o.RED_MASK;var R=o.GREEN_MASK,U=o.BLUE_MASK,bd=o.PREC_MAXVAL,Y=o.PRECISIONB,cc=o.PREC_RED_SHIFT,da=o.PREC_ALPHA_SHIFT,bc=dm.srcBuffer,db=Math.min;for(dp=0;dp<dn;dp++){dm.sX=dm.srcXOffset;dm.fracV=dm.srcYOffset&bd;dm.ifV=bd-dm.fracV;dm.v1=(dm.srcYOffset>>Y)*dm.iw;dm.v2=db((dm.srcYOffset>>Y)+1,dm.ih1)*dm.iw;for(P=0;P<dl;P++){dd=4*(T+P),dr=cd[dd+3]<<24&dj|cd[dd]<<16&dk|cd[dd+1]<<8&R|cd[dd+2]&U,dm.fracU=dm.sX&bd,dm.ifU=bd-dm.fracU,dm.ul=dm.ifU*dm.ifV>>Y,dm.ll=dm.ifU*dm.fracV>>Y,dm.ur=dm.fracU*dm.ifV>>Y,dm.lr=dm.fracU*dm.fracV>>Y,dm.u1=dm.sX>>Y,dm.u2=db(dm.u1+1,dm.iw1),dq=4*(dm.v1+dm.u1),ds=4*(dm.v1+dm.u2),dt=4*(dm.v2+dm.u1),X=4*(dm.v2+dm.u2),dm.cUL=bc[dq+3]<<24&dj|bc[dq]<<16&dk|bc[dq+1]<<8&R|bc[dq+2]&U,dm.cUR=bc[ds+3]<<24&dj|bc[ds]<<16&dk|bc[ds+1]<<8&R|bc[ds+2]&U,dm.cLL=bc[dt+3]<<24&dj|bc[dt]<<16&dk|bc[dt+1]<<8&R|bc[dt+2]&U,dm.cLR=bc[X+3]<<24&dj|bc[X]<<16&dk|bc[X+1]<<8&R|bc[X+2]&U,dm.r=dm.ul*((dm.cUL&dk)>>16)+dm.ll*((dm.cLL&dk)>>16)+dm.ur*((dm.cUR&dk)>>16)+dm.lr*((dm.cLR&dk)>>16)<<cc&dk,dm.g=dm.ul*(dm.cUL&R)+dm.ll*(dm.cLL&R)+dm.ur*(dm.cUR&R)+dm.lr*(dm.cLR&R)>>>Y&R,dm.b=dm.ul*(dm.cUL&U)+dm.ll*(dm.cLL&U)+dm.ur*(dm.cUR&U)+dm.lr*(dm.cLR&U)>>>Y,dm.a=dm.ul*((dm.cUL&dj)>>>24)+dm.ll*((dm.cLL&dj)>>>24)+dm.ur*((dm.cUR&dj)>>>24)+dm.lr*((dm.cLR&dj)>>>24)<<da&dj,dr=V(dr,dm.a|dm.r|dm.g|dm.b),cd[dd]=(dr&dk)>>>16,cd[dd+1]=(dr&R)>>>8,cd[dd+2]=dr&U,cd[dd+3]=(dr&dj)>>>24,dm.sX+=Z}T+=dc;dm.srcYOffset+=cb}}};aA.loadFont=function(k,n){if(k===w){throw"font name required in loadFont."}if(-1===k.indexOf(".svg")){return n===w&&(n=K.size),PFont.get(k,n)}var P=aA.loadGlyphs(k);return{name:k,css:"12px sans-serif",glyph:!0,units_per_em:P.units_per_em,horiz_adv_x:1/P.units_per_em*P.horiz_adv_x,ascent:P.ascent,descent:P.descent,width:function(R){for(var T=0,U=R.length,V=0;V<U;V++){try{T+=parseFloat(aA.glyphLook(aA.glyphTable[k],R[V]).horiz_adv_x)}catch(X){B.debug(X)}}return T/aA.glyphTable[k].units_per_em}}};aA.createFont=function(k,n){return aA.loadFont(k,n)};aA.textFont=function(k,n){n!==w&&(k.glyph||(k=PFont.get(k.name,n)),bF=n);K=k;c4=K.name;cV=K.ascent;bx=K.descent;p=K.leading;aR.$ensureContext().font=K.css};aA.textSize=function(k){K=PFont.get(c4,k);bF=k;cV=K.ascent;bx=K.descent;p=K.leading;aR.$ensureContext().font=K.css};aA.textAscent=function(){return cV};aA.textDescent=function(){return bx};aA.textLeading=function(k){p=k};aA.textAlign=function(k,n){bG=k;cN=n||o.BASELINE};ar.prototype.textWidth=function(k){k=cy(k).split(/\r?\n/g);var n=0,P,R=k.length;aP.font=K.css;for(P=0;P<R;++P){n=Math.max(n,K.measureTextWidth(k[P]))}return n|0};G.prototype.textWidth=function(k){k=cy(k).split(/\r?\n/g);var n=0,P,R=k.length;Q===w&&(Q=H.createElement("canvas"));var T=Q.getContext("2d");T.font=K.css;for(P=0;P<R;++P){n=Math.max(n,T.measureText(k[P]).width)}return n|0};aA.glyphLook=function(k,n){try{switch(n){case"1":return k.one;case"2":return k.two;case"3":return k.three;case"4":return k.four;case"5":return k.five;case"6":return k.six;case"7":return k.seven;case"8":return k.eight;case"9":return k.nine;case"0":return k.zero;case" ":return k.space;case"$":return k.dollar;case"!":return k.exclam;case'"':return k.quotedbl;case"#":return k.numbersign;case"%":return k.percent;case"&":return k.ampersand;case"'":return k.quotesingle;case"(":return k.parenleft;case")":return k.parenright;case"*":return k.asterisk;case"+":return k.plus;case",":return k.comma;case"-":return k.hyphen;case".":return k.period;case"/":return k.slash;case"_":return k.underscore;case":":return k.colon;case";":return k.semicolon;case"<":return k.less;case"=":return k.equal;case">":return k.greater;case"?":return k.question;case"@":return k.at;case"[":return k.bracketleft;case"\\":return k.backslash;case"]":return k.bracketright;case"^":return k.asciicircum;case"`":return k.grave;case"{":return k.braceleft;case"|":return k.bar;case"}":return k.braceright;case"~":return k.asciitilde;default:return k[n]}}catch(P){B.debug(P)}};ar.prototype.text$line=function(n,P,R,T,U){T=T=0;if(K.glyph){T=aA.glyphTable[c4];aP.save();aP.translate(P,R+bF);U!==o.RIGHT&&U!==o.CENTER||T.width(n);P=1/T.units_per_em*bF;aP.scale(P,P);P=0;for(R=n.length;P<R;P++){try{aA.glyphLook(T,n[P]).draw()}catch(V){B.debug(V)}}ch()}else{if(n&&"fillText" in aP){bD&&(aP.fillStyle=aA.color.toString(bp),bD=!1);if(U===o.RIGHT||U===o.CENTER){T=K.measureTextWidth(n),T=U===o.RIGHT?-T:-T/2}aP.fillText(n,P+T,R)}}};G.prototype.text$line=function(n,P,R,T,U){Q===w&&(Q=H.createElement("canvas"));var V=aP;aP=Q.getContext("2d");aP.font=K.css;var X=K.measureTextWidth(n);Q.width=X;Q.height=bF;aP=Q.getContext("2d");aP.font=K.css;aP.textBaseline="top";ar.prototype.text$line(n,0,0,0,o.LEFT);n=Q.width/Q.height;aP=V;aP.bindTexture(aP.TEXTURE_2D,cu);aP.texImage2D(aP.TEXTURE_2D,0,aP.RGBA,aP.RGBA,aP.UNSIGNED_BYTE,Q);aP.texParameteri(aP.TEXTURE_2D,aP.TEXTURE_MAG_FILTER,aP.LINEAR);aP.texParameteri(aP.TEXTURE_2D,aP.TEXTURE_MIN_FILTER,aP.LINEAR);aP.texParameteri(aP.TEXTURE_2D,aP.TEXTURE_WRAP_T,aP.CLAMP_TO_EDGE);aP.texParameteri(aP.TEXTURE_2D,aP.TEXTURE_WRAP_S,aP.CLAMP_TO_EDGE);V=0;U===o.RIGHT?V=-X:U===o.CENTER&&(V=-X/2);U=new aY;X=0.5*bF;U.translate(P+V-X/2,R-X,T);U.scale(-n*X,-X,X);U.translate(-1,-1,-1);U.transpose();P=new aY;P.scale(1,-1,1);P.apply(bv.array());P.transpose();aP.useProgram(a6);d("aVertex2d",a6,"aVertex",3,ai);d("aTextureCoord2d",a6,"aTextureCoord",2,ap);c8("uSampler2d",a6,"uSampler",[0]);c8("uIsDrawingText2d",a6,"uIsDrawingText",!0);cE("uModel2d",a6,"uModel",!1,U.array());cE("uView2d",a6,"uView",!1,P.array());cw("uColor2d",a6,"uColor",bh);aP.bindBuffer(aP.ELEMENT_ARRAY_BUFFER,ay);aP.drawElements(aP.TRIANGLES,6,aP.UNSIGNED_SHORT,0)};aA.text=function(){a3!==o.SHAPE&&(3===arguments.length?bz(cy(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?bz(cy(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?v(cy(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&v(cy(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))};aA.textMode=function(k){a3=k};aA.loadGlyphs=function(P){var T,U,V,X,Y,Z,bc,bd,cb,cc,da,cd,db=function(k,n){var dd=0,dj=[],dk,dl=RegExp(k,"g");for(dk=dj[dd]=dl.exec(n);dk;){dd++,dk=dj[dd]=dl.exec(n)}return dj},dc=function(k){var n=db("[A-Za-z][0-9\\- ]+|Z",k);cd="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";bd=k=Z=Y=X=V=U=T=0;cb="";cc=n.length-1;for(var dd=0;dd<cc;dd++){var dj=n[dd][0];k=db("[0-9\\-]+",dj);switch(dj[0]){case"M":T=parseFloat(k[0][0]);U=parseFloat(k[1][0]);cd+="curContext.moveTo("+T+","+-U+");";break;case"L":T=parseFloat(k[0][0]);U=parseFloat(k[1][0]);cd+="curContext.lineTo("+T+","+-U+");";break;case"H":T=parseFloat(k[0][0]);cd+="curContext.lineTo("+T+","+-U+");";break;case"V":U=parseFloat(k[0][0]);cd+="curContext.lineTo("+T+","+-U+");";break;case"T":Y=parseFloat(k[0][0]);Z=parseFloat(k[1][0]);"Q"===cb||"T"===cb?(k=Math.sqrt(Math.pow(T-V,2)+Math.pow(X-U,2)),bd=Math.PI+Math.atan2(V-T,X-U),V=T+Math.sin(bd)*k,X=U+Math.cos(bd)*k):(V=T,X=U);cd+="curContext.quadraticCurveTo("+V+","+-X+","+Y+","+-Z+");";T=Y;U=Z;break;case"Q":V=parseFloat(k[0][0]);X=parseFloat(k[1][0]);Y=parseFloat(k[2][0]);Z=parseFloat(k[3][0]);cd+="curContext.quadraticCurveTo("+V+","+-X+","+Y+","+-Z+");";T=Y;U=Z;break;case"Z":cd+="curContext.closePath();"}cb=dj[0]}cd+="afterPathDraw();";cd+="curContext.translate("+da+",0);";cd+="}}";return(new Function("beforePathDraw","afterPathDraw",cd))(function(){aP.save();return aR.$ensureContext()},function(){cM();c9();ch()})},R=function(k){var n=k.getElementsByTagName("font");aA.glyphTable[P].horiz_adv_x=n[0].getAttribute("horiz-adv-x");n=k.getElementsByTagName("font-face")[0];aA.glyphTable[P].units_per_em=parseFloat(n.getAttribute("units-per-em"));aA.glyphTable[P].ascent=parseFloat(n.getAttribute("ascent"));aA.glyphTable[P].descent=parseFloat(n.getAttribute("descent"));k=k.getElementsByTagName("glyph");for(var n=k.length,dd=0;dd<n;dd++){var dj=k[dd].getAttribute("unicode"),dk=k[dd].getAttribute("glyph-name");da=k[dd].getAttribute("horiz-adv-x");null===da&&(da=aA.glyphTable[P].horiz_adv_x);bc=k[dd].getAttribute("d");bc!==w&&(cd=dc(bc),aA.glyphTable[P][dk]={name:dk,unicode:dj,horiz_adv_x:da,draw:cd.draw})}};aA.glyphTable[P]={};(function(){var k;try{k=H.implementation.createDocument("","",null)}catch(n){B.debug(n.message);return}try{k.async=!1,k.load(P),R(k.getElementsByTagName("svg")[0])}catch(dd){B.debug(dd);try{var dj=new E.XMLHttpRequest;dj.open("GET",P,!1);dj.send(null);R(dj.responseXML.documentElement)}catch(dk){B.debug(dd)}}})(P);return aA.glyphTable[P]};aA.param=function(k){var n="data-processing-"+k;if(co.hasAttribute(n)){return co.getAttribute(n)}for(var n=0,P=co.childNodes.length;n<P;++n){var R=co.childNodes.item(n);if(1===R.nodeType&&"param"===R.tagName.toLowerCase()&&R.getAttribute("name")===k){return R.getAttribute("value")}}return ak.params.hasOwnProperty(k)?ak.params[k]:null};aB.prototype.translate=aQ("translate");aB.prototype.transform=aQ("transform");aB.prototype.scale=aQ("scale");aB.prototype.pushMatrix=aQ("pushMatrix");aB.prototype.popMatrix=aQ("popMatrix");aB.prototype.resetMatrix=aQ("resetMatrix");aB.prototype.applyMatrix=aQ("applyMatrix");aB.prototype.rotate=aQ("rotate");aB.prototype.rotateZ=aQ("rotateZ");aB.prototype.shearX=aQ("shearX");aB.prototype.shearY=aQ("shearY");aB.prototype.redraw=aQ("redraw");aB.prototype.toImageData=aQ("toImageData");aB.prototype.ambientLight=aQ("ambientLight");aB.prototype.directionalLight=aQ("directionalLight");aB.prototype.lightFalloff=aQ("lightFalloff");aB.prototype.lightSpecular=aQ("lightSpecular");aB.prototype.pointLight=aQ("pointLight");aB.prototype.noLights=aQ("noLights");aB.prototype.spotLight=aQ("spotLight");aB.prototype.beginCamera=aQ("beginCamera");aB.prototype.endCamera=aQ("endCamera");aB.prototype.frustum=aQ("frustum");aB.prototype.box=aQ("box");aB.prototype.sphere=aQ("sphere");aB.prototype.ambient=aQ("ambient");aB.prototype.emissive=aQ("emissive");aB.prototype.shininess=aQ("shininess");aB.prototype.specular=aQ("specular");aB.prototype.fill=aQ("fill");aB.prototype.stroke=aQ("stroke");aB.prototype.strokeWeight=aQ("strokeWeight");aB.prototype.smooth=aQ("smooth");aB.prototype.noSmooth=aQ("noSmooth");aB.prototype.point=aQ("point");aB.prototype.vertex=aQ("vertex");aB.prototype.endShape=aQ("endShape");aB.prototype.bezierVertex=aQ("bezierVertex");aB.prototype.curveVertex=aQ("curveVertex");aB.prototype.curve=aQ("curve");aB.prototype.line=aQ("line");aB.prototype.bezier=aQ("bezier");aB.prototype.rect=aQ("rect");aB.prototype.ellipse=aQ("ellipse");aB.prototype.background=aQ("background");aB.prototype.image=aQ("image");aB.prototype.textWidth=aQ("textWidth");aB.prototype.text$line=aQ("text$line");aB.prototype.$ensureContext=aQ("$ensureContext");aB.prototype.$newPMatrix=aQ("$newPMatrix");aB.prototype.size=function(k,n,P){bi(P===o.WEBGL?"3D":"2D");aA.size(k,n,P)};aB.prototype.$init=L;ar.prototype.$init=function(){aA.size(aA.width,aA.height);aP.lineCap="round";aA.noSmooth();aA.disableContextMenu()};G.prototype.$init=function(){aA.use3DContext=!0;aA.disableContextMenu()};cT.prototype.$ensureContext=function(){return aP};co.getAttribute("tabindex")||co.setAttribute("tabindex",0);if(bV){ak=new B.Sketch,bi(),aA.size=function(k,n,P){P&&P===o.WEBGL?bi("3D"):bi("2D");aA.size(k,n,P)}}else{ak=bg instanceof B.Sketch?bg:"function"===typeof bg?new B.Sketch(bg):bg?B.compile(bg):new B.Sketch(function(){});aA.externals.sketch=ak;bi();co.onfocus=function(){aA.focused=!0};co.onblur=function(){aA.focused=!1;ak.options.globalKeyEvents||(aA.__keyPressed=!1,aT=[],bM=null)};ak.options.pauseOnBlur&&(a0(E,"focus",function(){al&&aA.loop()}),a0(E,"blur",function(){al&&av&&(aA.noLoop(),al=!0);aA.__keyPressed=!1;aT=[];bM=null}));var be=ak.options.globalKeyEvents?E:co;a0(be,"keydown",ca);a0(be,"keypress",bN);a0(be,"keyup",aa);for(var cX in B.lib){B.lib.hasOwnProperty(cX)&&(B.lib[cX].hasOwnProperty("attach")?B.lib[cX].attach(aA):B.lib[cX] instanceof Function&&B.lib[cX].call(this))}var bu=function(k){if(ak.imageCache.pending||PFont.preloading.pending(100)){E.setTimeout(function(){bu(k)},100)}else{if(E.opera){var n,P,R=ak.imageCache.operaCache;for(n in R){R.hasOwnProperty(n)&&(P=R[n],null!==P&&H.body.removeChild(P),delete R[n])}}ak.attach(k,C);ak.onLoad(k);k.setup&&(k.setup(),k.resetMatrix(),ak.onSetup());aD();k.draw&&(al?k.loop():k.redraw())}};this.externals.canvas.id!==w&&this.externals.canvas.id.length||(this.externals.canvas.id="__processing"+I.length);O[this.externals.canvas.id]=I.length;I.push(this);bu(aA)}};B.debug=function(){return"console" in E?function(d){E.console.log("Processing.js: "+d)}:L}();B.prototype=C;B.instances=I;B.getInstanceById=function(d){return I[O[d]]};(function(k){function l(d){return function(){throw"Processing.js does not support "+d+"."}}for(var m="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),n=m.length,p,q;n--;){p=m[n],q=p.replace("()",""),k[q]=l(p)}})(C);return B}},{}],27:[function(a,d,c){var b={virtEquals:a("./Helpers/virtEquals"),virtHashCode:a("./Helpers/virtHashCode"),ObjectIterator:a("./Helpers/ObjectIterator"),PConstants:a("./Helpers/PConstants"),ArrayList:a("./Objects/ArrayList"),HashMap:a("./Objects/HashMap"),PVector:a("./Objects/PVector"),PFont:a("./Objects/PFont"),Char:a("./Objects/Char"),XMLAttribute:a("./Objects/XMLAttribute"),XMLElement:a("./Objects/XMLElement"),PMatrix2D:a("./Objects/PMatrix2D"),PMatrix3D:a("./Objects/PMatrix3D"),PShape:a("./Objects/PShape"),colors:a("./Objects/webcolors"),PShapeSVG:a("./Objects/PShapeSVG"),CommonFunctions:a("./P5Functions/commonFunctions"),defaultScope:a("./Helpers/defaultScope"),Processing:a("./Processing"),setupParser:a("./Parser/Parser"),finalize:a("./Helpers/finalizeProcessing")};b.extend={withMath:a("./P5Functions/Math.js"),withProxyFunctions:a("./P5Functions/JavaProxyFunctions")(b.virtHashCode,b.virtEquals),withTouch:a("./P5Functions/touchmouse"),withCommonFunctions:b.CommonFunctions.withCommonFunctions};d.exports=function(o,u){var s=function(){},f=b.virtEquals,h=b.virtHashCode,k=b.PConstants,i=b.CommonFunctions,t=b.ObjectIterator,v=b.Char,x=b.XMLAttribute(),j=b.ArrayList({virtHashCode:h,virtEquals:f}),f=b.HashMap({virtHashCode:h,virtEquals:f}),h=b.PVector({PConstants:k}),z=b.PFont({Browser:o,noop:s}),x=b.XMLElement({Browser:o,XMLAttribute:x}),w=b.PMatrix2D({p:i}),q=b.PMatrix3D({p:i}),w=b.PShape({PConstants:k,PMatrix2D:w,PMatrix3D:q}),i=b.PShapeSVG({CommonFunctions:i,PConstants:k,PShape:w,XMLElement:x,colors:b.colors}),k=b.defaultScope({ArrayList:j,HashMap:f,PVector:h,PFont:z,PShapeSVG:i,ObjectIterator:t,PConstants:k,Char:v,XMLElement:x,XML:x}),t=b.Processing({defaultScope:k,Browser:o,extend:b.extend,noop:s}),t=b.setupParser(t,{Browser:o,aFunctions:u,defaultScope:k});return t=b.finalize(t,{version:a("../package.json").version,isDomPresent:o.isDomPresent,window:o.window,document:o.document,noop:s})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":5,"./Helpers/finalizeProcessing":6,"./Helpers/virtEquals":7,"./Helpers/virtHashCode":8,"./Objects/ArrayList":9,"./Objects/Char":10,"./Objects/HashMap":11,"./Objects/PFont":12,"./Objects/PMatrix2D":13,"./Objects/PMatrix3D":14,"./Objects/PShape":15,"./Objects/PShapeSVG":16,"./Objects/PVector":17,"./Objects/XMLAttribute":18,"./Objects/XMLElement":19,"./Objects/webcolors":20,"./P5Functions/JavaProxyFunctions":21,"./P5Functions/Math.js":22,"./P5Functions/commonFunctions":23,"./P5Functions/touchmouse":24,"./Parser/Parser":25,"./Processing":26}]},{},[1]);console.log('非源码，仅用作演示。下载源码请访问：HTTP://WWW.Bootstrapmb.com');console.log('非源码，仅用作演示。下载源码请访问：HTTP://WWW.Bootstrapmb.com');